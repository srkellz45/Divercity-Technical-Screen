{"ast":null,"code":"import _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/SearchResults/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Moment from 'moment';\nimport Header from '../../components/Header';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport { getSimilarJobs, loadSingleJob, saveJob } from '../../actions/job.actions';\nimport { performSearch } from '../../actions/search.actions';\nimport { getUser } from '../../actions/user.actions';\nimport { followRecommendedConnections } from '../../actions/connection.actions';\nimport UserResults from '../../components/search.user.components.js';\nimport CompanyResults from '../../components/search.company.components.js';\nimport GroupResults from '../../components/search.group.components.js';\nimport Job from '../../components/Job';\nimport Group from '../../components/Group';\nimport JobModal from '../Job/JobApplyModal';\nimport ApplyJob from '../Job/ApplyJob';\nimport SimilarJob from '../../components/SimilarJob';\nimport JobApply from '../../components/job.apply.components';\nimport LoadingSpinner from '../../components/LoadingSpinner';\n\nvar SearchResults =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchResults, _Component);\n\n  function SearchResults(props) {\n    var _this;\n\n    _classCallCheck(this, SearchResults);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchResults).call(this, props));\n\n    _this.openModal = function (bool) {\n      _this.setState({\n        isOpen: bool\n      });\n    };\n\n    _this.closeApplyModal = function () {\n      _this.setState({\n        applyOpen: false\n      });\n    };\n\n    _this.handleChange = function (evt) {\n      evt.preventDefault();\n      var target = evt.target;\n\n      _this.props.loadSingleJob(target.id);\n\n      _this.setState({\n        jobId: target.id,\n        isOpen: true,\n        singleJob: _this.props.singleJob\n      });\n    };\n\n    _this.handleJobApply = function (evt) {\n      _this.setState({\n        applyOpen: true,\n        isOpen: false\n      });\n    };\n\n    _this.handleQuickApply = function (evt) {\n      evt.preventDefault();\n      var target = evt.target;\n\n      _this.props.loadSingleJob(target.id);\n\n      _this.setState({\n        jobId: target.id,\n        applyOpen: true //singleJob: this.props.singleJob\n\n      });\n    };\n\n    _this.handleJobSave = function (evt) {\n      _this.setState({\n        isOpen: false,\n        applyOpen: false\n      });\n\n      _this.props.saveJob(_this.state.jobId);\n    };\n\n    _this.similarJobs = function (evt) {\n      return console.log(evt.target.id);\n    };\n\n    _this.loadMore = function () {\n      _this.setState({\n        page: _this.state.page + 1\n      });\n\n      _this.props.loadMoreJobs(_this.state.page);\n    };\n\n    _this.connectWithUser = function (evt) {\n      evt.preventDefault();\n\n      _this.props.followRecommendedConnections(evt.target.id, 'follow');\n    };\n\n    _this.state = {\n      query: props.match.params.query,\n      groupId: '',\n      page: 1,\n      isOpen: false,\n      jobId: '',\n      applyOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(SearchResults, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.performSearch(this.state.page, this.state.query); //this.props.loadGroups();\n\n      localStorage.setItem(\"pageLimit\", 10);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          companies = _this$props.companies,\n          users = _this$props.users,\n          groups = _this$props.groups;\n      return React.createElement(\"div\", {\n        id: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(ToastContainer, {\n        autoClose: 3000,\n        transition: Flip,\n        hideProgressBar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Search-Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, !companies.length && !users.length && !groups.length ? React.createElement(LoadingSpinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }) : null, companies.length <= 0 ? null : React.createElement(\"div\", {\n        className: \"Company-Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(CompanyResults, {\n        data: companies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), users.length <= 0 ? null : React.createElement(\"div\", {\n        className: \"User-Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(UserResults, {\n        data: users,\n        connect: this.connectWithUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), groups.length <= 0 ? null : React.createElement(\"div\", {\n        className: \"Group-Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(GroupResults, {\n        data: groups,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), this.props.jobs.map(function (job) {\n        return React.createElement(\"div\", {\n          className: \"Job-Results\",\n          key: job.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Job, {\n          data: job,\n          id: job.id,\n          handler: _this2.handleChange,\n          quickApply: _this2.handleQuickApply,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }));\n      }), React.createElement(JobModal // APPLY OR SAVE MODAL // SINGLE JOB VIEW\n      , {\n        show: this.state.isOpen,\n        onClose: function onClose() {\n          return _this2.openModal(false);\n        },\n        className: \"Modal-Backdrop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.props.singleJob.id === this.state.jobId ? React.createElement(JobApply, {\n        data: this.props.singleJob,\n        apply: this.handleJobApply,\n        save: this.handleJobSave,\n        close: function close() {\n          return _this2.openModal(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        id: \"modal-loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"L\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"o\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"a\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"d\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"i\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"n\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"g\")))), React.createElement(JobModal // APPLY JOB MODAL\n      , {\n        show: this.state.applyOpen,\n        onClose: this.closeApplyModal,\n        data: this.props.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(ApplyJob, {\n        apply: this.handleJobApply,\n        onClose: this.closeApplyModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SearchResults;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    groups: state.searchGroupsList,\n    users: state.searchUserList,\n    companies: state.companiesList,\n    jobs: state.searchJobsList,\n    singleJob: state.singleJobList\n  };\n};\n\nexport default connect(mapStateToProps, {\n  followRecommendedConnections: followRecommendedConnections,\n  getSimilarJobs: getSimilarJobs,\n  loadSingleJob: loadSingleJob,\n  getUser: getUser,\n  saveJob: saveJob,\n  performSearch: performSearch\n})(SearchResults);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/SearchResults/index.js"],"names":["React","Component","connect","Moment","Header","ToastContainer","Flip","getSimilarJobs","loadSingleJob","saveJob","performSearch","getUser","followRecommendedConnections","UserResults","CompanyResults","GroupResults","Job","Group","JobModal","ApplyJob","SimilarJob","JobApply","LoadingSpinner","SearchResults","props","openModal","bool","setState","isOpen","closeApplyModal","applyOpen","handleChange","evt","preventDefault","target","id","jobId","singleJob","handleJobApply","handleQuickApply","handleJobSave","state","similarJobs","console","log","loadMore","page","loadMoreJobs","connectWithUser","query","match","params","groupId","window","scrollTo","localStorage","setItem","companies","users","groups","length","jobs","map","job","user","mapStateToProps","searchGroupsList","searchUserList","companiesList","searchJobsList","singleJobList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Moment from 'moment';\nimport Header from '../../components/Header';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport { getSimilarJobs, loadSingleJob, saveJob } from '../../actions/job.actions';\nimport { performSearch } from '../../actions/search.actions';\nimport { getUser } from '../../actions/user.actions';\nimport { followRecommendedConnections } from '../../actions/connection.actions';\nimport UserResults from '../../components/search.user.components.js';\nimport CompanyResults from '../../components/search.company.components.js';\nimport GroupResults from '../../components/search.group.components.js';\nimport Job from '../../components/Job';\nimport Group from '../../components/Group';\nimport JobModal from '../Job/JobApplyModal';\nimport ApplyJob from '../Job/ApplyJob';\nimport SimilarJob from '../../components/SimilarJob';\nimport JobApply from '../../components/job.apply.components';\nimport LoadingSpinner from '../../components/LoadingSpinner';\n\nclass SearchResults extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      query: props.match.params.query,\n      groupId: '',\n      page: 1,\n      isOpen: false,\n      jobId: '',\n      applyOpen: false,\n    };\n  }\n\n  openModal = bool => {\n  \tthis.setState({\n  \t\tisOpen: bool\n  \t});\n  }\n\n  closeApplyModal = () => {\n    this.setState({\n      applyOpen: false\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.props.performSearch(this.state.page, this.state.query);\n    //this.props.loadGroups();\n    localStorage.setItem(\"pageLimit\", 10);\n  }\n\n  handleChange = evt => {\n    evt.preventDefault();\n\n    const target = evt.target;\n    this.props.loadSingleJob(target.id);\n\n    this.setState({\n      jobId : target.id,\n      isOpen: true,\n      singleJob: this.props.singleJob\n    });\n  }\n\n  handleJobApply = evt => {\n    this.setState({\n      applyOpen: true,\n      isOpen: false\n    });\n  }\n\n  handleQuickApply = evt => {\n    evt.preventDefault();\n\n    const target = evt.target;\n    this.props.loadSingleJob(target.id);\n\n    this.setState({\n      jobId : target.id,\n      applyOpen: true,\n      //singleJob: this.props.singleJob\n    });\n  }\n\n  handleJobSave = evt => {\n    this.setState({\n      isOpen: false,\n      applyOpen: false,\n    });\n\n    this.props.saveJob(this.state.jobId);\n  }\n\n  similarJobs = evt => console.log(evt.target.id);\n\n  loadMore = () => {\n    this.setState({\n      page: this.state.page + 1\n    });\n\n    this.props.loadMoreJobs(this.state.page);\n  }\n\n  connectWithUser = evt => {\n    evt.preventDefault();\n\n    this.props.followRecommendedConnections(evt.target.id, 'follow');\n  }\n\n  render() {\n  \tconst { companies, users, groups } = this.props;\n\n    return(\n      <div id=\"main\">\n        <Header />\n\n        <ToastContainer autoClose={3000} transition={Flip} hideProgressBar={true} />\n\n        <div className=\"Search-Results\">\n        \t{ !companies.length && !users.length && !groups.length ? <LoadingSpinner/> : null }\n\n          { companies.length <= 0 ? null : (\n            <div className=\"Company-Results\">\n              <CompanyResults\n                data={ companies }\n              />\n            </div>\n          )}\n\n          { users.length <= 0 ? null : (\n            <div className=\"User-Results\">\n              <UserResults\n                data={ users }\n                connect={ this.connectWithUser }\n              />\n            </div>\n          )}\n\n          { groups.length <= 0 ? null : (\n            <div className=\"Group-Results\">\n              <GroupResults\n                data={ groups }\n              />\n            </div>\n          )}\n\n\t\t\t{ this.props.jobs.map(job => (\n\t\t\t\t<div className=\"Job-Results\" key={ job.id }>\n\t\t\t\t\t<Job\n\t\t\t\t\t\tdata={ job }\n\t\t\t\t\t\tid={ job.id }\n\t\t\t\t\t\thandler={this.handleChange}\n\t\t\t\t\t\tquickApply={this.handleQuickApply}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\n            <JobModal // APPLY OR SAVE MODAL // SINGLE JOB VIEW\n              show={this.state.isOpen}\n              onClose={() => this.openModal(false)}\n              className=\"Modal-Backdrop\"\n            >\n              { this.props.singleJob.id === this.state.jobId ? (\n                <JobApply\n                  data={ this.props.singleJob }\n                  apply={this.handleJobApply}\n                  save={this.handleJobSave}\n                  close={() => this.openModal(false)}\n                />\n              ) : (\n                <div id=\"modal-loading\">\n                  <p className=\"loading\">\n                    <span>L</span><span>o</span><span>a</span><span>d</span><span>i</span><span>n</span><span>g</span>\n                  </p>\n                </div>\n              )}\n            </JobModal>\n\n            <JobModal // APPLY JOB MODAL\n              show={this.state.applyOpen}\n              onClose={this.closeApplyModal}\n              data={this.props.user}\n            >\n\t            <ApplyJob\n\t              apply={this.handleJobApply}\n\t              onClose={this.closeApplyModal}\n\t            />\n            </JobModal>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n     groups : state.searchGroupsList,\n     users : state.searchUserList,\n     companies : state.companiesList,\n     jobs : state.searchJobsList,\n     singleJob : state.singleJobList\n})\n\nexport default connect(mapStateToProps, {followRecommendedConnections, getSimilarJobs, loadSingleJob, getUser, saveJob, performSearch})(SearchResults);"]},"metadata":{},"sourceType":"module"}