{"ast":null,"code":"import _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/SignIn/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { LinkedIn } from '../LinkedIn';\nimport { facebookID } from '../../lib/ID';\nimport Divider from '../../components/Divider.components';\nimport { login, facebookLogin, linkedInLogin, pwRequest } from '../../actions/auth.actions';\nimport facebook from '../../assets/Facebook.png';\nimport '../../styles/SignIn.css';\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignIn, _Component);\n\n  function SignIn() {\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignIn).call(this));\n\n    _this.enterEmail = function (evt) {\n      return _this.setState({\n        email: evt.target.value.toLowerCase(),\n        // Make sure email entry is LOWERCASE, DB doesn't check case sensitive\n        loggingIn: false\n      });\n    };\n\n    _this.enterErrorEmail = function (evt) {\n      localStorage.removeItem('emailTaken');\n      localStorage.removeItem('validEmail');\n      localStorage.removeItem('login_error');\n\n      _this.setState({\n        email: evt.target.value.toLowerCase(),\n        loggingIn: false\n      });\n    };\n\n    _this.enterUsername = function (evt) {\n      return _this.setState({\n        username: evt.target.value.toLowerCase(),\n        loggingIn: false\n      });\n    };\n\n    _this.enterErrorUsername = function (evt) {\n      localStorage.removeItem('usernameTaken');\n\n      _this.setState({\n        username: evt.target.value.toLowerCase(),\n        loggingIn: false\n      });\n    };\n\n    _this.enterPassword = function (evt) {\n      return _this.setState({\n        password: evt.target.value,\n        loggingIn: false\n      });\n    };\n\n    _this.enterErrorPassword = function (evt) {\n      localStorage.removeItem('login_error');\n\n      _this.setState({\n        password: evt.target.value,\n        loggingIn: false\n      });\n    };\n\n    _this.validateEmail = function (email) {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email.email).toLowerCase());\n    };\n\n    _this.handleLogin = function (evt) {\n      evt.preventDefault();\n      var loginCreds = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.setState({\n        loggingIn: true\n      });\n\n      _this.props.login(loginCreds);\n    };\n\n    _this.handlePasswordRecovery = function (evt) {\n      evt.preventDefault();\n\n      _this.props.pwRequest(_this.state.email);\n    };\n\n    _this.loginFacebook = function (response) {\n      _this.props.facebookLogin(response.accessToken);\n\n      _this.setState({\n        loggingIn: true\n      });\n    };\n\n    _this.loginLinkedIn = function (response) {\n      _this.props.linkedInLogin(response.code, \"\".concat(window.location.origin, \"/linkedin\"));\n\n      _this.setState({\n        loggingIn: true\n      });\n    };\n\n    _this.handleLinkedInFail = function (error) {\n      return console.log(error.errorMessage);\n    };\n\n    _this.state = {\n      name: '',\n      email: '',\n      username: '',\n      password: '',\n      loggingIn: false,\n      errorMessage: ''\n    };\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      localStorage.removeItem('emailTaken');\n      localStorage.removeItem('validEmail');\n      localStorage.removeItem('usernameTaken');\n      localStorage.removeItem('login_error');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var emailTaken = localStorage.getItem('emailTaken');\n      var validEmail = localStorage.getItem('validEmail');\n      var usernameTaken = localStorage.getItem('usernameTaken');\n      var loggedIn = localStorage.getItem('loggedIn');\n      var loginError = localStorage.getItem('login_error');\n      var _this$state = this.state,\n          code = _this$state.code,\n          errorMessage = _this$state.errorMessage;\n      var SignIn = React.createElement(\"div\", {\n        id: \"SignIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignIn-Panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignIn-Header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Left-Arrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"\\u2190\")), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.props.location.hash ? 'Sign In To Post Jobs' : 'Sign In')), React.createElement(\"div\", {\n        className: \"Oauth-Icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(LinkedIn, {\n        clientId: \"780fvbi7hufn1p\",\n        state: \"eFWf45A53sdfKef424\",\n        onFailure: function onFailure() {\n          return _this2.handleLinkedInFail();\n        },\n        onSuccess: function onSuccess(code) {\n          return _this2.loginLinkedIn(code);\n        },\n        redirectUri: \"\".concat(window.location.origin, \"/linkedin\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(FacebookLogin, {\n        appId: facebookID,\n        version: \"3.1\",\n        autoLoad: false,\n        fields: \"name,email,picture\",\n        callback: function callback() {\n          return _this2.loginFacebook();\n        },\n        render: function render(renderProps) {\n          return React.createElement(\"div\", {\n            className: \"Facebook-btn\",\n            onClick: renderProps.onClick,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: facebook,\n            alt: \"Facebook Login\",\n            \"aria-label\": \"Login with Facebook\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Login-Form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.state.loggingIn && !localStorage.login_error ? React.createElement(\"div\", {\n        id: \"load-login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Logging you in\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \".\"))) : null, React.createElement(\"form\", {\n        className: \"input-form\",\n        onSubmit: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignIn-Inputs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, loginError ? React.createElement(\"div\", {\n        className: \"register-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Whoops, wrong password or email\") : null, React.createElement(\"input\", {\n        autoFocus: loginError ? false : true,\n        type: \"email\",\n        id: \"email\",\n        autoComplete: \"email\",\n        placeholder: \"Enter Email\",\n        defaultValue: this.state.email,\n        onChange: function onChange(e) {\n          return loginError ? _this2.enterErrorEmail() : _this2.enterEmail(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        autoComplete: \"password\",\n        placeholder: \"Enter Password\",\n        defaultValue: this.state.password,\n        onChange: function onChange(e) {\n          return loginError ? _this2.enterErrorPassword() : _this2.enterPassword(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"SignIn-Input-Buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: this.state.password.length >= 3 ? 'Ready-Landing-btn' : 'Landing-btn',\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this2.handleLogin(e);\n        },\n        \"aria-label\": \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Continue\")))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"SignIn-Registration-Links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/password\",\n        className: \"SignIn-Link-Button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Forgot Password?\"))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"SignIn-Registration-Links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/user_registration\",\n        className: \"SignIn-Link-Button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Or Create New Account\"))), React.createElement(\"div\", {\n        id: \"Terms-And-Conditions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"By clicking Continue, you agree to our\", ' ', React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/terms\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Terms of Service\")), ' ', \"and\", ' ', React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/privacy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Privacy Policy.\"))))));\n      return loggedIn ? React.createElement(Redirect, {\n        to: '/feed',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }) : SignIn;\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps, {\n  login: login,\n  facebookLogin: facebookLogin,\n  linkedInLogin: linkedInLogin,\n  pwRequest: pwRequest\n})(SignIn);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/SignIn/index.js"],"names":["React","Component","connect","Redirect","Link","FacebookLogin","LinkedIn","facebookID","Divider","login","facebookLogin","linkedInLogin","pwRequest","facebook","SignIn","enterEmail","evt","setState","email","target","value","toLowerCase","loggingIn","enterErrorEmail","localStorage","removeItem","enterUsername","username","enterErrorUsername","enterPassword","password","enterErrorPassword","validateEmail","re","test","String","handleLogin","preventDefault","loginCreds","state","props","handlePasswordRecovery","loginFacebook","response","accessToken","loginLinkedIn","code","window","location","origin","handleLinkedInFail","error","console","log","errorMessage","name","emailTaken","getItem","validEmail","usernameTaken","loggedIn","loginError","hash","renderProps","onClick","login_error","e","length","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { LinkedIn } from '../LinkedIn';\n\nimport { facebookID } from '../../lib/ID';\nimport Divider from '../../components/Divider.components';\nimport {\n  login,\n  facebookLogin,\n  linkedInLogin,\n  pwRequest,\n} from '../../actions/auth.actions';\n\nimport facebook from '../../assets/Facebook.png';\n\nimport '../../styles/SignIn.css';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      email: '',\n      username: '',\n      password: '',\n      loggingIn: false,\n      errorMessage: '',\n    };\n  }\n\n  enterEmail = evt =>\n    this.setState({\n      email: evt.target.value.toLowerCase(), // Make sure email entry is LOWERCASE, DB doesn't check case sensitive\n      loggingIn: false,\n    });\n\n  enterErrorEmail = evt => {\n    localStorage.removeItem('emailTaken');\n    localStorage.removeItem('validEmail');\n    localStorage.removeItem('login_error');\n\n    this.setState({\n      email: evt.target.value.toLowerCase(),\n      loggingIn: false,\n    });\n  };\n\n  enterUsername = evt =>\n    this.setState({\n      username: evt.target.value.toLowerCase(),\n      loggingIn: false,\n    });\n\n  enterErrorUsername = evt => {\n    localStorage.removeItem('usernameTaken');\n\n    this.setState({\n      username: evt.target.value.toLowerCase(),\n      loggingIn: false,\n    });\n  };\n\n  enterPassword = evt =>\n    this.setState({\n      password: evt.target.value,\n      loggingIn: false,\n    });\n\n  enterErrorPassword = evt => {\n    localStorage.removeItem('login_error');\n\n    this.setState({\n      password: evt.target.value,\n      loggingIn: false,\n    });\n  };\n\n  validateEmail = email => {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    return re.test(String(email.email).toLowerCase());\n  };\n\n  handleLogin = evt => {\n    evt.preventDefault();\n\n    let loginCreds = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    this.setState({\n      loggingIn: true,\n    });\n\n    this.props.login(loginCreds);\n  };\n\n  handlePasswordRecovery = evt => {\n    evt.preventDefault();\n\n    this.props.pwRequest(this.state.email);\n  };\n\n  loginFacebook = response => {\n    this.props.facebookLogin(response.accessToken);\n\n    this.setState({\n      loggingIn: true,\n    });\n  };\n\n  loginLinkedIn = response => {\n    this.props.linkedInLogin(\n      response.code,\n      `${window.location.origin}/linkedin`\n    );\n\n    this.setState({\n      loggingIn: true,\n    });\n  };\n\n  handleLinkedInFail = error => console.log(error.errorMessage);\n\n  componentWillMount() {\n    localStorage.removeItem('emailTaken');\n    localStorage.removeItem('validEmail');\n    localStorage.removeItem('usernameTaken');\n    localStorage.removeItem('login_error');\n  }\n\n  render() {\n    let emailTaken = localStorage.getItem('emailTaken');\n    let validEmail = localStorage.getItem('validEmail');\n    let usernameTaken = localStorage.getItem('usernameTaken');\n    let loggedIn = localStorage.getItem('loggedIn');\n    let loginError = localStorage.getItem('login_error');\n\n    const { code, errorMessage } = this.state;\n\n    const SignIn = (\n      <div id=\"SignIn\">\n        <div className=\"SignIn-Panel\">\n          <div className=\"SignIn-Header\">\n            <Link to=\"/\">\n              <div className=\"Left-Arrow\">&#8592;</div>\n            </Link>\n            <h2>\n              {this.props.location.hash ? 'Sign In To Post Jobs' : 'Sign In'}\n            </h2>\n          </div>\n\n          <div className=\"Oauth-Icon\">\n            <LinkedIn\n              clientId=\"780fvbi7hufn1p\"\n              state=\"eFWf45A53sdfKef424\"\n              onFailure={() => this.handleLinkedInFail()}\n              onSuccess={code => this.loginLinkedIn(code)}\n              redirectUri={`${window.location.origin}/linkedin`}\n            />\n\n            <FacebookLogin\n              appId={facebookID}\n              version=\"3.1\"\n              autoLoad={false}\n              fields=\"name,email,picture\"\n              callback={() => this.loginFacebook()}\n              render={renderProps => (\n                <div className=\"Facebook-btn\" onClick={renderProps.onClick}>\n                  <img\n                    src={facebook}\n                    alt=\"Facebook Login\"\n                    aria-label=\"Login with Facebook\"\n                  />\n                </div>\n              )}\n            />\n          </div>\n\n          <Divider />\n\n          <div className=\"Login-Form\">\n            {this.state.loggingIn && !localStorage.login_error ? (\n              <div id=\"load-login\">\n                <p>\n                  Logging you in<span>.</span>\n                  <span>.</span>\n                  <span>.</span>\n                </p>\n              </div>\n            ) : null}\n\n            <form className=\"input-form\" onSubmit={this.login}>\n              <div className=\"SignIn-Inputs\">\n                {loginError ? (\n                  <div className=\"register-error\">\n                    Whoops, wrong password or email\n                  </div>\n                ) : null}\n\n                <input\n                  autoFocus={loginError ? false : true}\n                  type=\"email\"\n                  id=\"email\"\n                  autoComplete=\"email\"\n                  placeholder=\"Enter Email\"\n                  defaultValue={this.state.email}\n                  onChange={e =>\n                    loginError ? this.enterErrorEmail() : this.enterEmail(e)\n                  }\n                />\n\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"password\"\n                  placeholder=\"Enter Password\"\n                  defaultValue={this.state.password}\n                  onChange={e =>\n                    loginError\n                      ? this.enterErrorPassword()\n                      : this.enterPassword(e)\n                  }\n                />\n              </div>\n\n              <div className=\"SignIn-Input-Buttons\">\n                <button\n                  className={\n                    this.state.password.length >= 3\n                      ? 'Ready-Landing-btn'\n                      : 'Landing-btn'\n                  }\n                  type=\"submit\"\n                  onClick={e => this.handleLogin(e)}\n                  aria-label=\"Login\"\n                >\n                  Continue\n                </button>\n              </div>\n            </form>\n          </div>\n\n          <Divider />\n\n          <div className=\"SignIn-Registration-Links\">\n            <Link to=\"/password\" className=\"SignIn-Link-Button\">\n              <h2>Forgot Password?</h2>\n            </Link>\n          </div>\n\n          <Divider />\n\n          <div className=\"SignIn-Registration-Links\">\n            <Link to=\"/user_registration\" className=\"SignIn-Link-Button\">\n              <h2>Or Create New Account</h2>\n            </Link>\n          </div>\n\n          <div id=\"Terms-And-Conditions\">\n            <p>\n              By clicking Continue, you agree to our{' '}\n              <b>\n                <Link to=\"/terms\">Terms of Service</Link>\n              </b>{' '}\n              and{' '}\n              <b>\n                <Link to=\"/privacy\">Privacy Policy.</Link>\n              </b>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n\n    return loggedIn ? <Redirect to={'/feed'} /> : SignIn;\n  }\n}\n\nconst mapStateToProps = state => state;\n\nexport default connect(\n  mapStateToProps,\n  { login, facebookLogin, linkedInLogin, pwRequest }\n)(SignIn);\n"]},"metadata":{},"sourceType":"module"}