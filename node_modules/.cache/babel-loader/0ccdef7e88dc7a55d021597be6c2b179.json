{"ast":null,"code":"import _toConsumableArray from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/JobSeeker/Work/index.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\nimport history from '../../../../history';\nimport { getUser as _getUser } from '../../../../actions/user.actions';\nimport { addWork as _addWork } from '../../../../actions/onboard.actions';\nimport TempHeader from '../../../../components/TempHeader.js'; //import Dropdown from '../../../../components/Dropdown.js';\n\nimport MultiDownshift from '../../../MultiDownshift/MultiDownshift.js';\nimport Modal from '../../../Modal';\nimport CompanySearch from '../../CompanySearch'; //import check from '../../../../assets/Checkmark.png';\n\nimport decline from '../../../../assets/Decline.png';\nimport company from '../../../../assets/CurrentCompany.png';\nimport { occupationArray } from '../../../../lib/selectListData'; // {url}/:id/onboarding/work/3\n\nvar JobSeekerCurrentJob =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(JobSeekerCurrentJob, _Component);\n\n  function JobSeekerCurrentJob(props) {\n    var _this;\n\n    _classCallCheck(this, JobSeekerCurrentJob);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(JobSeekerCurrentJob).call(this, props));\n    _this.state = {\n      id: _this.props.match.params.id,\n      job_title: '',\n      company: '',\n      showJobForm: false,\n      items: occupationArray,\n      selectedItems: [],\n      job_employer_id: '',\n      skipOpen: false,\n      jobTitle: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCompany = _this.setCompany.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRemoveItem = _this.onRemoveItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemChanged = _this.onItemChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemAdd = _this.onItemAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onUserInput = _this.onUserInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getItems = _this.getItems.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStateChange = _this.handleStateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openSkipModal = _this.openSkipModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeSkipModal = _this.closeSkipModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.skipFirstTime = _this.skipFirstTime.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(JobSeekerCurrentJob, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(this.state.id);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(evt) {\n      evt.preventDefault();\n      var profileData = {\n        \"user\": {}\n      };\n\n      if (this.state.jobTitle.length) {\n        Object.assign(profileData.user, {\n          occupation: this.state.jobTitle\n        });\n      } else if (this.state.selectedItems) {\n        var noEmojis = this.state.selectedItems.map(function (emoji) {\n          return emoji.slice(3);\n        });\n        Object.assign(profileData.user, {\n          occupation: noEmojis.join(', ')\n        });\n      }\n\n      if (this.state.city) {\n        Object.assign(profileData.user, {\n          city: this.state.city\n        });\n      }\n\n      if (this.state.job_employer_id) {\n        Object.assign(profileData.user, {\n          job_employer_id: this.state.job_employer_id\n        });\n      }\n\n      this.props.addWork(profileData, this.state.id);\n    }\n  }, {\n    key: \"setCompany\",\n    value: function setCompany(data) {\n      if (data === 'No Company') {\n        this.setState({\n          job_employer_id: null\n        });\n      }\n\n      var companyID = data.id;\n      this.setState({\n        job_employer_id: companyID\n      });\n    }\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange(changes, downshiftState) {\n      if (changes.hasOwnProperty('inputValue')) {\n        this.setState({\n          items: this.getItems(changes.inputValue)\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(selectedItem, downshiftState) {\n      this.setState({\n        items: occupationArray\n      });\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(value) {\n      return value ? matchSorter(occupationArray, value) : occupationArray;\n    }\n  }, {\n    key: \"onItemAdd\",\n    value: function onItemAdd(selectedItem) {\n      this.setState({\n        selectedItems: [].concat(_toConsumableArray(this.state.selectedItems), [selectedItem])\n      });\n    }\n  }, {\n    key: \"onUserInput\",\n    value: function onUserInput(selectedItem) {\n      console.log(selectedItem);\n      this.setState({\n        selectedItems: [].concat(_toConsumableArray(this.state.selectedItems), [selectedItem]),\n        jobTitle: selectedItem\n      });\n    }\n  }, {\n    key: \"onRemoveItem\",\n    value: function onRemoveItem(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1);\n      this.setState({\n        selectedItems: copy,\n        jobTitle: copy\n      });\n    }\n  }, {\n    key: \"onItemChanged\",\n    value: function onItemChanged(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1, item.value);\n      this.setState({\n        selectedItems: copy,\n        jobTitle: copy\n      });\n    }\n  }, {\n    key: \"openSkipModal\",\n    value: function openSkipModal(evt) {\n      if (!localStorage.skipped) {\n        // if user has already skipped once,\n        this.setState({\n          // just let them skip without showing the modal\n          skipOpen: true\n        });\n      } else {\n        history.push(\"/\".concat(this.state.id, \"/onboarding/info/3\"));\n      }\n    }\n  }, {\n    key: \"closeSkipModal\",\n    value: function closeSkipModal() {\n      this.setState({\n        skipOpen: false\n      });\n    }\n  }, {\n    key: \"skipFirstTime\",\n    value: function skipFirstTime() {\n      // Show the skip modal only once\n      localStorage.setItem('skipped', true);\n      this.setState({\n        skipOpen: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"CurrentCompany\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(TempHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"onboarding-select-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"work-select-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onboarding-select-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Where do you work currently?\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"This info is valuable for the recruiter and will help you land\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), \"your dream job.\")), React.createElement(\"div\", {\n        className: \"onboarding-select-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: company,\n        alt: \"onboarding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Current Job title\"), React.createElement(MultiDownshift, {\n        selectedItem: this.state.selectedItems,\n        onChangedState: this.handleStateChange,\n        onChange: this.onItemAdd,\n        onUserInput: this.onUserInput,\n        onItemChanged: this.onItemChanged,\n        onRemoveItem: this.onRemoveItem,\n        items: this.state.items,\n        itemToString: this.itemToString,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Current Company\"), React.createElement(\"div\", {\n        className: \"CompanySearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(CompanySearch, {\n        setState: this.setCompany,\n        defaultValue: \"e.g. Divercity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        \"aria-label\": \"Next\",\n        className: \"onboarding-next-btn\",\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Next\")), React.createElement(\"div\", {\n        className: \"Skip\",\n        onClick: this.openSkipModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Skip and edit info later\")), React.createElement(Modal //////RESUME SKIP MODAL//////////\n      , {\n        show: this.state.skipOpen,\n        onClose: this.closeSkipModal,\n        className: \"Modal-Backdrop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Resume-Skip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: decline,\n        alt: \"decline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"resume-skip-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Are you sure you want to skip?\", React.createElement(\"div\", {\n        id: \"resume-skip-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Your demographic info will allow Divercity, recruiters, \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), \"and companies that care about diversity be more intentional \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), \"and calculated about getting you the right role and connections.\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        \"aria-label\": \"Back\",\n        className: \"resume-back-btn\",\n        type: \"submit\",\n        onClick: this.closeSkipModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Okay sure. Let's do this!\"), React.createElement(NavLink, {\n        to: \"/\".concat(this.state.id, \"/onboarding/info/3\"),\n        alt: \"ok\",\n        \"aria-label\": \"ok\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        \"aria-label\": \"Skip\",\n        className: \"resume-skip-btn\",\n        type: \"submit\",\n        onClick: this.skipFirstTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"I still want to skip\")))))), React.createElement(\"div\", {\n        className: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/\".concat(this.state.id, \"/onboarding/js\"),\n        alt: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Back\")), React.createElement(\"div\", {\n        className: \"progress-dots\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"greydot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return JobSeekerCurrentJob;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList,\n    occupations: state.occupationsList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(ID) {\n      dispatch(_getUser(ID));\n    },\n    addWork: function addWork(data, ID) {\n      dispatch(_addWork(data, ID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(JobSeekerCurrentJob); // <DateDropdown\n//             monthList={this.state.dateMonth}\n//             dayList={this.state.dateDay}\n//             yearList={this.state.dateYear}\n//             setDayState={this.setDate}\n//             setMonthState={this.setDate}\n//             setYearState={this.setDate}\n//           />\n// setDate(title, id, key) {\n//     switch(key) {\n//       case 'day':\n//         let day = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_day: day\n//         });\n//         break;\n//       case 'month':\n//         let month = JSON.parse(JSON.stringify(id));\n//         this.setState({\n//           date_month: month\n//         });\n//         break;\n//       case 'year':\n//         let year = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_year: year\n//         });\n//         break;\n//       default: break;\n//     }\n//   }","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/JobSeeker/Work/index.js"],"names":["React","Component","NavLink","connect","matchSorter","history","getUser","addWork","TempHeader","MultiDownshift","Modal","CompanySearch","decline","company","occupationArray","JobSeekerCurrentJob","props","state","id","match","params","job_title","showJobForm","items","selectedItems","job_employer_id","skipOpen","jobTitle","handleChange","bind","handleSubmit","setCompany","onRemoveItem","onItemChanged","onItemAdd","onUserInput","getItems","handleStateChange","openSkipModal","closeSkipModal","skipFirstTime","window","scrollTo","evt","preventDefault","profileData","length","Object","assign","user","occupation","noEmojis","map","emoji","slice","join","city","data","setState","companyID","changes","downshiftState","hasOwnProperty","inputValue","selectedItem","value","console","log","item","copy","splice","index","localStorage","skipped","push","setItem","itemToString","mapStateToProps","userList","occupations","occupationsList","mapDispatchToProps","dispatch","ID"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\nimport history from '../../../../history';\nimport { getUser } from '../../../../actions/user.actions';\nimport { addWork } from '../../../../actions/onboard.actions';\nimport TempHeader from '../../../../components/TempHeader.js';\n//import Dropdown from '../../../../components/Dropdown.js';\nimport MultiDownshift from '../../../MultiDownshift/MultiDownshift.js';\nimport Modal from '../../../Modal';\nimport CompanySearch from '../../CompanySearch';\n//import check from '../../../../assets/Checkmark.png';\nimport decline from '../../../../assets/Decline.png';\n\nimport company from '../../../../assets/CurrentCompany.png';\nimport { occupationArray } from '../../../../lib/selectListData';\n\n// {url}/:id/onboarding/work/3\n\nclass JobSeekerCurrentJob extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      job_title: '',\n      company: '',\n      showJobForm: false,\n      items: occupationArray,\n      selectedItems: [],\n      job_employer_id: '',\n      skipOpen: false,\n      jobTitle: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.onRemoveItem = this.onRemoveItem.bind(this);\n    this.onItemChanged = this.onItemChanged.bind(this);\n    this.onItemAdd = this.onItemAdd.bind(this);\n    this.onUserInput = this.onUserInput.bind(this);\n    this.getItems = this.getItems.bind(this);\n    this.handleStateChange = this.handleStateChange.bind(this);\n    this.openSkipModal = this.openSkipModal.bind(this);\n    this.closeSkipModal = this.closeSkipModal.bind(this);\n    this.skipFirstTime = this.skipFirstTime.bind(this);\n  }\n  componentDidMount(){\n    window.scrollTo(0,0);\n    this.props.getUser(this.state.id);\n  }\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let profileData = { \"user\": { } };\n    if(this.state.jobTitle.length) {\n      Object.assign(profileData.user, {occupation: this.state.jobTitle});\n    } else if(this.state.selectedItems) {\n      var noEmojis = this.state.selectedItems.map(emoji => emoji.slice(3));\n      Object.assign(profileData.user, {occupation: noEmojis.join(', ')});\n    }\n    if(this.state.city) {\n      Object.assign(profileData.user, {city: this.state.city});\n    }\n    if(this.state.job_employer_id) {\n      Object.assign(profileData.user, {job_employer_id: this.state.job_employer_id});\n    }\n\n    this.props.addWork(profileData, this.state.id);\n  }\n  setCompany(data) {\n    if(data === 'No Company') {\n      this.setState({\n        job_employer_id: null\n      });\n    }\n    let companyID = data.id;\n    this.setState({\n      job_employer_id: companyID\n    });\n  }\n  handleStateChange (changes, downshiftState) {\n    if (changes.hasOwnProperty('inputValue')) {\n      this.setState({\n        items: this.getItems(changes.inputValue)\n      });\n    }\n  }\n  handleChange(selectedItem, downshiftState) {\n    this.setState({\n      items: occupationArray\n    });\n  }\n  getItems (value) {\n    return value ? matchSorter(occupationArray, value) : occupationArray;\n  }\n  onItemAdd (selectedItem) {\n    this.setState({\n      selectedItems: [...this.state.selectedItems, selectedItem],\n    });\n  }\n  onUserInput (selectedItem) {\n    console.log(selectedItem);\n    this.setState({\n      selectedItems: [...this.state.selectedItems, selectedItem],\n      jobTitle: selectedItem\n    });\n  }\n  onRemoveItem(item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1);\n    this.setState({\n      selectedItems: copy,\n      jobTitle: copy\n    });\n  }\n  onItemChanged (item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1, item.value);\n    this.setState({\n      selectedItems: copy,\n      jobTitle: copy\n    });\n  }\n  openSkipModal (evt) {\n    if(!localStorage.skipped) { // if user has already skipped once,\n      this.setState({ // just let them skip without showing the modal\n        skipOpen: true,\n      });\n    } else {\n      history.push(`/${this.state.id}/onboarding/info/3`);\n    }\n  }\n  closeSkipModal () {\n    this.setState({\n      skipOpen: false,\n    });\n  }\n  skipFirstTime () { // Show the skip modal only once\n    localStorage.setItem('skipped', true);\n    this.setState({\n      skipOpen: false\n    });\n  }\n\n\n  render() {\n    return (\n      <div className=\"CurrentCompany\">\n        <TempHeader />\n        <div className=\"onboarding-select-form\">\n          <div className=\"work-select-body\">\n            <div className=\"onboarding-select-headline\">\n              Where do you work currently?<br />\n              <div id=\"onboarding-select-subline\">\n                This info is valuable for the recruiter and will help you land\n                <br />your dream job.\n              </div>\n            </div>\n            <div className=\"onboarding-select-image\">\n              <img src={ company } alt=\"onboarding\" />\n            </div>\n\n            <div id=\"onboarding-select-title\">\n              Current Job title\n            </div>\n\n            <MultiDownshift\n              selectedItem={this.state.selectedItems}\n              onChangedState={this.handleStateChange}\n              onChange={this.onItemAdd}\n              onUserInput={this.onUserInput}\n              onItemChanged={this.onItemChanged}\n              onRemoveItem={this.onRemoveItem}\n              items={this.state.items}\n              itemToString={this.itemToString}\n            />\n\n            <div id=\"onboarding-select-title\">\n              Current Company\n            </div>\n            <div className=\"CompanySearch\">\n              <CompanySearch\n                setState={this.setCompany}\n                defaultValue=\"e.g. Divercity\"\n              />\n            </div>\n            <button\n              aria-label=\"Next\"\n              className=\"onboarding-next-btn\"\n              type=\"submit\"\n              onClick={this.handleSubmit}>\n              <strong>Next</strong>\n            </button>\n            <div className=\"Skip\" onClick={this.openSkipModal}>\n              Skip and edit info later\n            </div>\n          </div>\n            <Modal   //////RESUME SKIP MODAL//////////\n              show={this.state.skipOpen}\n              onClose={this.closeSkipModal}\n              className=\"Modal-Backdrop\"\n            >\n            <div className=\"Resume-Skip\">\n              <img src={decline} alt=\"decline\" />\n              <div id=\"resume-skip-headline\">\n                Are you sure you want to skip?\n                <div id=\"resume-skip-subline\">\n                  Your demographic info will allow Divercity, recruiters, <br />\n                  and companies that care about diversity be more intentional <br />\n                  and calculated about getting you the right role and connections.\n                </div>\n              </div>\n              <div>\n              <button\n                aria-label=\"Back\"\n                className=\"resume-back-btn\"\n                type=\"submit\"\n                onClick={this.closeSkipModal}\n              >\n                Okay sure. Let's do this!\n              </button>\n\n              <NavLink to={`/${this.state.id}/onboarding/info/3`} alt=\"ok\" aria-label=\"ok\">\n              <button\n                aria-label=\"Skip\"\n                className=\"resume-skip-btn\"\n                type=\"submit\"\n                onClick={this.skipFirstTime}\n              >\n                I still want to skip\n              </button>\n              </NavLink>\n                </div>\n              </div>\n            </Modal>\n        </div>\n            <div className=\"Back\">\n              <NavLink to={`/${this.state.id}/onboarding/js`} alt=\"Back\">\n                Back\n              </NavLink>\n            </div>\n        <div className=\"progress-dots\">\n          <span className=\"dot\"></span>\n          <span className=\"dot\"></span>\n          <span className=\"dot\"></span>\n          <span className=\"greydot\"></span>\n          <span className=\"dot\"></span>\n          <span className=\"dot\"></span>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user : state.userList,\n    occupations : state.occupationsList,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (ID) => {\n      dispatch(getUser(ID))\n    },\n    addWork: (data, ID) => {\n      dispatch(addWork(data, ID))\n    },\n  }\n}\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(JobSeekerCurrentJob);\n\n\n// <DateDropdown\n//             monthList={this.state.dateMonth}\n//             dayList={this.state.dateDay}\n//             yearList={this.state.dateYear}\n//             setDayState={this.setDate}\n//             setMonthState={this.setDate}\n//             setYearState={this.setDate}\n//           />\n\n\n// setDate(title, id, key) {\n//     switch(key) {\n//       case 'day':\n//         let day = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_day: day\n//         });\n//         break;\n//       case 'month':\n//         let month = JSON.parse(JSON.stringify(id));\n//         this.setState({\n//           date_month: month\n//         });\n//         break;\n//       case 'year':\n//         let year = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_year: year\n//         });\n//         break;\n//       default: break;\n//     }\n//   }\n"]},"metadata":{},"sourceType":"module"}