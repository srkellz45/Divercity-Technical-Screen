{"ast":null,"code":"import { LOGIN, SIGNUP, FBOOK_SIGNUP, LINKEDIN_SIGNUP, CHECK_EMAIL, CHECK_USERNAME, LOGIN_ERROR, ALREADY_SOCIAL_LOGIN, ERROR } from '../../actions/auth.actions';\nvar initialState = {};\n\nvar auth = function auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN:\n      var userDetails = action.userDetails;\n      var newState = {};\n      newState = action.userDetails;\n      localStorage.setItem('userId', userDetails.data.id);\n      localStorage.setItem('username', userDetails.data.attributes.name);\n      localStorage.setItem('role', userDetails.data.attributes.account_type);\n      localStorage.setItem('loggedIn', true);\n      return Object.assign({\n        loggedIn: true\n      }, state, newState);\n\n    case SIGNUP:\n      if (action.response.success) {\n        localStorage.setItem('registering', true);\n      }\n\n      return Object.assign({\n        loggedIn: true\n      }, state, initialState);\n\n    case FBOOK_SIGNUP:\n      if (action.userDetails.status === 'success') {\n        localStorage.setItem('fbook_register', true);\n        return Object.assign({\n          register: true\n        }, state, initialState);\n      }\n\n      return Object.assign({}, state, initialState);\n\n    case LINKEDIN_SIGNUP:\n      return Object.assign({\n        register: true\n      }, state, initialState);\n\n    case CHECK_EMAIL:\n      return Object.assign({}, state, action.checkEmail);\n\n    case CHECK_USERNAME:\n      return Object.assign(action.checkUsername, initialState);\n\n    case LOGIN_ERROR:\n      localStorage.setItem('login_error', true);\n      return state;\n\n    case ALREADY_SOCIAL_LOGIN:\n      localStorage.setItem('alreadySocial', 'yes');\n      return state;\n\n    case ERROR:\n      localStorage.setItem('error', true);\n      return Object.assign({}, state, action.type);\n\n    default:\n      return state;\n  }\n};\n\nexport default auth; // const initialState = { loggedIn: !!localStorage.getItem('access-token'), signup: false };\n// /* eslint-disable consistent-return */\n// const auth = (state = initialState, action) => {\n//   console.log(action.type);\n//   switch (action.type) {\n//     case 'LOGIN':\n//       if(action.error) {\n//         return Object.assign({}, state, { loggedIn: false, error: action.error });\n//       }\n//       return { loggedIn: true };\n//     case 'SIGNUP':\n//       if(action.error) {\n//         return Object.assign({}, state, { loggedIn: false, error: action.error });\n//       }\n//       return { loggedIn: true };\n//     case 'LOGOUT':\n//       return Object.assign({}, state, { loggedIn: false });\n//     case 'TOGGLE_SIGNUP':\n//       return Object.assign({}, state, { signup: !state.signup });\n//     default:\n//       return state;\n//   }\n// };\n// export default auth;","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/reducers/Ricky/auth.js"],"names":["LOGIN","SIGNUP","FBOOK_SIGNUP","LINKEDIN_SIGNUP","CHECK_EMAIL","CHECK_USERNAME","LOGIN_ERROR","ALREADY_SOCIAL_LOGIN","ERROR","initialState","auth","state","action","type","userDetails","newState","localStorage","setItem","data","id","attributes","name","account_type","Object","assign","loggedIn","response","success","status","register","checkEmail","checkUsername"],"mappings":"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","sourcesContent":["import { LOGIN,\n         SIGNUP,\n         FBOOK_SIGNUP,\n         LINKEDIN_SIGNUP,\n         CHECK_EMAIL,\n         CHECK_USERNAME,\n         LOGIN_ERROR,\n         ALREADY_SOCIAL_LOGIN,\n         ERROR\n       } from '../../actions/auth.actions';\n\nconst initialState = {};\n\nconst auth = (state = initialState, action) => {\n  switch (action.type){\n    case LOGIN:\n      const userDetails = action.userDetails;\n      let newState = {};\n      newState = action.userDetails;\n      localStorage.setItem('userId', userDetails.data.id);\n      localStorage.setItem('username', userDetails.data.attributes.name);\n      localStorage.setItem('role', userDetails.data.attributes.account_type);\n      localStorage.setItem('loggedIn', true);\n      return Object.assign({loggedIn: true}, state, newState);\n    case SIGNUP:\n      if (action.response.success) {\n        localStorage.setItem('registering', true);\n      }\n      return Object.assign({loggedIn: true}, state, initialState);\n    case FBOOK_SIGNUP:\n      if (action.userDetails.status === 'success') {\n        localStorage.setItem('fbook_register', true);\n        return Object.assign({register: true}, state, initialState);\n      }\n      return Object.assign({}, state, initialState);\n    case LINKEDIN_SIGNUP:\n      return Object.assign({register: true}, state, initialState);\n    case CHECK_EMAIL:\n      return Object.assign({}, state, action.checkEmail);\n    case CHECK_USERNAME:\n      return Object.assign(action.checkUsername, initialState);\n    case LOGIN_ERROR:\n      localStorage.setItem('login_error', true);\n      return state;\n    case ALREADY_SOCIAL_LOGIN:\n      localStorage.setItem('alreadySocial', 'yes');\n      return state;\n    case ERROR:\n      localStorage.setItem('error', true);\n      return Object.assign({}, state, action.type);\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n\n\n// const initialState = { loggedIn: !!localStorage.getItem('access-token'), signup: false };\n// /* eslint-disable consistent-return */\n// const auth = (state = initialState, action) => {\n//   console.log(action.type);\n//   switch (action.type) {\n//     case 'LOGIN':\n//       if(action.error) {\n//         return Object.assign({}, state, { loggedIn: false, error: action.error });\n//       }\n//       return { loggedIn: true };\n//     case 'SIGNUP':\n//       if(action.error) {\n//         return Object.assign({}, state, { loggedIn: false, error: action.error });\n//       }\n//       return { loggedIn: true };\n//     case 'LOGOUT':\n//       return Object.assign({}, state, { loggedIn: false });\n//     case 'TOGGLE_SIGNUP':\n//       return Object.assign({}, state, { signup: !state.signup });\n//     default:\n//       return state;\n//   }\n// };\n\n// export default auth;"]},"metadata":{},"sourceType":"module"}