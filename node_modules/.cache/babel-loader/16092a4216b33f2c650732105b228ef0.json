{"ast":null,"code":"import _defineProperty from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/EditExperience/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getExperience as _getExperience, getUser as _getUser, editExperience as _editExperience, deleteExperience as _deleteExperience } from '../../actions/user.actions';\nimport EditExperienceComponent from '../../components/user.editExperience.components';\n\nvar EditExperience =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditExperience, _Component);\n\n  function EditExperience(props) {\n    var _this;\n\n    _classCallCheck(this, EditExperience);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditExperience).call(this, props));\n    console.log(props.experienceID);\n    _this.state = {\n      experienceAddOpen: false,\n      is_present: '',\n      role: '',\n      job_employer_id: '',\n      location: '',\n      job_start: '',\n      job_end: '',\n      startMonth: '',\n      startYear: '',\n      endMonth: '',\n      endYear: '',\n      experienceIDToEdit: props.experienceID,\n      singleExperience: ''\n    };\n    _this.handleRole = _this.handleRole.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartDates = _this.handleStartDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndDates = _this.handleEndDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCompany = _this.setCompany.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCity = _this.setCity.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDeleteExperience = _this.handleDeleteExperience.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEditExperience = _this.handleEditExperience.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCheck = _this.handleCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditExperience, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.scrollTo(0, 0);\n      var singleExperience = this.props.experience.filter(function (experience) {\n        return experience.id === _this2.state.experienceIDToEdit;\n      });\n      this.setState({\n        singleExperience: singleExperience[0],\n        is_present: singleExperience[0].attributes.is_present\n      });\n    }\n  }, {\n    key: \"openAddExperience\",\n    value: function openAddExperience(evt) {\n      evt.preventDefault();\n      this.setState({\n        experienceAddOpen: true\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal(evt) {\n      this.props.closeExperience();\n    }\n  }, {\n    key: \"handleEditExperience\",\n    value: function handleEditExperience(evt) {\n      evt.preventDefault();\n      var experienceData = {};\n\n      if (this.state.role) {\n        Object.assign(experienceData, {\n          role: this.state.role\n        });\n      }\n\n      if (this.state.job_employer_id) {\n        Object.assign(experienceData, {\n          job_employer_id: this.state.job_employer_id\n        });\n      }\n\n      if (this.state.location) {\n        Object.assign(experienceData, {\n          location_words: this.state.location\n        });\n      }\n\n      if (this.state.startMonth && this.state.startYear) {\n        Object.assign(experienceData, {\n          job_start: this.state.startMonth + \", \" + this.state.startYear\n        });\n      } else if (this.state.startMonth && !this.state.startYear) {\n        Object.assign(experienceData, {\n          job_start: this.state.startMonth\n        });\n      } else if (this.state.startYear && !this.state.startMonth) {\n        Object.assign(experienceData, {\n          job_start: this.state.startYear\n        });\n      }\n\n      if (this.state.endMonth && this.state.endYear) {\n        Object.assign(experienceData, {\n          job_end: this.state.endMonth + \", \" + this.state.endYear\n        });\n      } else if (this.state.endMonth && !this.state.endYear) {\n        Object.assign(experienceData, {\n          job_end: this.state.endMonth\n        });\n      } else if (this.state.endYear && !this.state.endMonth) {\n        Object.assign(experienceData, {\n          job_end: this.state.endYear\n        });\n      }\n\n      if (this.state.is_present) {\n        Object.assign(experienceData, {\n          is_present: this.state.is_present,\n          job_end: 'present'\n        });\n      } else {\n        Object.assign(experienceData, {\n          is_present: false\n        });\n      }\n\n      this.props.editExperience(experienceData, this.state.experienceIDToEdit, localStorage.id);\n      this.closeModal();\n    }\n  }, {\n    key: \"handleStartDates\",\n    value: function handleStartDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'month') {\n        this.setState({\n          startMonth: title\n        });\n      }\n\n      if (type === 'year') {\n        this.setState({\n          startYear: title\n        });\n      }\n    }\n  }, {\n    key: \"handleEndDates\",\n    value: function handleEndDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'month') {\n        this.setState({\n          endMonth: title\n        });\n      }\n\n      if (type === 'year') {\n        this.setState({\n          endYear: title\n        });\n      }\n\n      this.setState({\n        job_end: this.state.endMonth + \", \" + this.state.endYear\n      });\n    }\n  }, {\n    key: \"handleRole\",\n    value: function handleRole(evt) {\n      evt.preventDefault();\n      this.setState({\n        role: evt.target.value\n      });\n    }\n  }, {\n    key: \"setCompany\",\n    value: function setCompany(data) {\n      var companyID = data.id;\n      this.setState({\n        job_employer_id: companyID\n      });\n    }\n  }, {\n    key: \"setCity\",\n    value: function setCity(data) {\n      var city = data.city + ', ' + data.state;\n      this.setState({\n        location: city\n      });\n    }\n  }, {\n    key: \"handleCheck\",\n    value: function handleCheck(evt) {\n      var target = evt.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleDeleteExperience\",\n    value: function handleDeleteExperience(evt) {\n      evt.preventDefault();\n      this.props.deleteExperience(this.state.experienceIDToEdit);\n      this.closeModal();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.state.singleExperience.length <= 0 ? React.createElement(\"div\", {\n        id: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Loading\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(EditExperienceComponent, {\n        experience: this.state.singleExperience.attributes,\n        id: this.props.experience.id,\n        handleTitle: this.handleRole,\n        handleCheck: this.handleCheck,\n        handleStartDates: this.handleStartDates,\n        handleEndDates: this.handleEndDates,\n        setCompany: this.setCompany,\n        setCity: this.setCity,\n        isChecked: this.state.is_present,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"AddExperience-close-btn\",\n        type: \"button\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"AddExperience-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"removeExperience-btn\",\n        type: \"button\",\n        onClick: this.handleDeleteExperience,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Remove\"), React.createElement(\"button\", {\n        className: \"addExperience-btn\",\n        type: \"button\",\n        onClick: this.handleEditExperience,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return EditExperience;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList,\n    experience: state.experienceList,\n    modal: state.modal\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(id) {\n      dispatch(_getUser(id));\n    },\n    getExperience: function getExperience(id) {\n      dispatch(_getExperience(id));\n    },\n    editExperience: function editExperience(experience, experienceID, id) {\n      dispatch(_editExperience(experience, experienceID, id));\n    },\n    deleteExperience: function deleteExperience(experienceID, id) {\n      dispatch(_deleteExperience(experienceID, id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditExperience);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/EditExperience/index.js"],"names":["React","Component","connect","getExperience","getUser","editExperience","deleteExperience","EditExperienceComponent","EditExperience","props","console","log","experienceID","state","experienceAddOpen","is_present","role","job_employer_id","location","job_start","job_end","startMonth","startYear","endMonth","endYear","experienceIDToEdit","singleExperience","handleRole","bind","handleStartDates","handleEndDates","setCompany","setCity","handleDeleteExperience","handleEditExperience","handleCheck","closeModal","window","scrollTo","experience","filter","id","setState","attributes","evt","preventDefault","closeExperience","experienceData","Object","assign","location_words","localStorage","title","genderEmoji","emoji","type","target","value","data","companyID","city","checked","name","length","mapStateToProps","user","userList","experienceList","modal","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    getExperience,\n    getUser,\n    editExperience,\n    deleteExperience\n  } from '../../actions/user.actions';\n\nimport EditExperienceComponent from '../../components/user.editExperience.components';\n\nclass EditExperience extends Component {\n  constructor(props){\n    super(props);\n    console.log(props.experienceID);\n    this.state = {\n      experienceAddOpen: false,\n      is_present: '',\n      role: '',\n      job_employer_id: '',\n      location: '',\n      job_start: '',\n      job_end: '',\n      startMonth: '',\n      startYear: '',\n      endMonth: '',\n      endYear: '',\n      experienceIDToEdit: props.experienceID,\n      singleExperience: ''\n    };\n    this.handleRole = this.handleRole.bind(this);\n    this.handleStartDates = this.handleStartDates.bind(this);\n    this.handleEndDates = this.handleEndDates.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.setCity = this.setCity.bind(this);\n    this.handleDeleteExperience = this.handleDeleteExperience.bind(this);\n    this.handleEditExperience = this.handleEditExperience.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  componentDidMount() {\n    window.scrollTo(0,0);\n    let singleExperience = this.props.experience.filter((experience) => {\n        return experience.id === this.state.experienceIDToEdit;\n    });\n    this.setState({\n      singleExperience: singleExperience[0],\n      is_present: singleExperience[0].attributes.is_present,\n    });\n  }\n  openAddExperience (evt) {\n    evt.preventDefault();\n    this.setState({\n      experienceAddOpen: true,\n    });\n  }\n  closeModal (evt) {\n    this.props.closeExperience();\n  }\n  handleEditExperience (evt) {\n    evt.preventDefault();\n    let experienceData = {};\n    if(this.state.role) {\n      Object.assign(experienceData, {role: this.state.role});\n    }\n    if(this.state.job_employer_id) {\n      Object.assign(experienceData, {job_employer_id: this.state.job_employer_id});\n    }\n    if(this.state.location) {\n      Object.assign(experienceData, {location_words: this.state.location});\n    }\n    if(this.state.startMonth && this.state.startYear) {\n      Object.assign(experienceData, {job_start: this.state.startMonth + \", \" + this.state.startYear});\n    } else if (this.state.startMonth && !this.state.startYear) {\n      Object.assign(experienceData, {job_start: this.state.startMonth});\n    } else if (this.state.startYear && !this.state.startMonth) {\n      Object.assign(experienceData, {job_start: this.state.startYear});\n    }\n    if(this.state.endMonth && this.state.endYear) {\n      Object.assign(experienceData, {job_end: this.state.endMonth + \", \" + this.state.endYear});\n    } else if (this.state.endMonth && !this.state.endYear) {\n      Object.assign(experienceData, {job_end: this.state.endMonth});\n    } else if (this.state.endYear && !this.state.endMonth) {\n      Object.assign(experienceData, {job_end: this.state.endYear});\n    }\n    if(this.state.is_present) {\n      Object.assign(experienceData, {is_present: this.state.is_present, job_end: 'present'});\n    } else { Object.assign(experienceData, {is_present: false }); }\n    this.props.editExperience(experienceData, this.state.experienceIDToEdit, localStorage.id);\n    this.closeModal();\n  }\n\n  handleStartDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'month') {\n      this.setState({\n        startMonth: title\n      });\n    }\n    if(type === 'year') {\n      this.setState({\n        startYear: title\n      });\n    }\n  }\n  handleEndDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'month') {\n      this.setState({\n        endMonth: title\n      });\n    }\n    if(type === 'year') {\n      this.setState({\n        endYear: title\n      });\n    }\n    this.setState({\n      job_end: this.state.endMonth + \", \" + this.state.endYear,\n    });\n  }\n  handleRole (evt) {\n    evt.preventDefault();\n    this.setState({\n      role: evt.target.value,\n    });\n  }\n  setCompany(data) {\n    let companyID = data.id;\n    this.setState({\n      job_employer_id: companyID\n    });\n  }\n  setCity(data) {\n    let city = data.city + ', ' + data.state;\n    this.setState({\n      location: city\n    });\n  }\n  handleCheck(evt) {\n    const target = evt.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleDeleteExperience(evt) {\n    evt.preventDefault();\n    this.props.deleteExperience(this.state.experienceIDToEdit);\n    this.closeModal();\n  }\n  render() {\n    return (\n      <React.Fragment>\n        { this.state.singleExperience.length <= 0 ? (\n          <div id=\"loading\">\n            <p className=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n          </div>\n        ) : (\n          <div>\n            <EditExperienceComponent\n              experience={ this.state.singleExperience.attributes }\n              id={ this.props.experience.id }\n              handleTitle={ this.handleRole }\n              handleCheck={ this.handleCheck }\n              handleStartDates={ this.handleStartDates }\n              handleEndDates={ this.handleEndDates }\n              setCompany={this.setCompany}\n              setCity={this.setCity}\n              isChecked={ this.state.is_present }\n            />\n\n            <button\n                className=\"AddExperience-close-btn\"\n                type=\"button\"\n                onClick={ this.closeModal } >\n                X\n            </button>\n            <div className=\"AddExperience-buttons\">\n              <button\n                className=\"removeExperience-btn\"\n                type=\"button\"\n                onClick={this.handleDeleteExperience} >\n                Remove\n              </button>\n\n              <button\n                className=\"addExperience-btn\"\n                type=\"button\"\n                onClick={this.handleEditExperience} >\n                Save\n              </button>\n            </div>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.userList,\n    experience: state.experienceList,\n    modal: state.modal,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (id) => {\n      dispatch(getUser(id));\n    },\n    getExperience: (id) => {\n      dispatch(getExperience(id));\n    },\n    editExperience: (experience, experienceID, id) => {\n      dispatch(editExperience(experience, experienceID, id))\n    },\n    deleteExperience: (experienceID, id) => {\n      dispatch(deleteExperience(experienceID, id))\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EditExperience);"]},"metadata":{},"sourceType":"module"}