{"ast":null,"code":"import _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/components/Header.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Search from '../containers/Search';\nimport Add from '../containers/Add';\nimport Notifications from './header.notifications.components.js';\nimport { getUnreadActivities, markReadActivities, getActivities } from '../actions/notification.actions';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport logo from \"../assets/headericons/Logo_svg.svg\";\nimport Inbox from \"../assets/headericons/inbox.svg\";\nimport Home from \"../assets/headericons/home.svg\";\nimport Groups from \"../assets/headericons/Groups_Icon.svg\";\nimport Jobs from \"../assets/headericons/briefcase.svg\";\nimport Bell from \"../assets/headericons/bell.svg\";\nimport Group from '../assets/Group.png';\nimport Notification from '../assets/icons/NotificationOval.png';\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.showUserDropdown = function (evt) {\n      evt.preventDefault();\n\n      var unReads = _this.props.notifications.map(function (notification) {\n        return notification.id;\n      });\n\n      _this.setState({\n        showUserDropdown: true\n      }, function () {\n        return document.addEventListener('click', _this.closeUserDropdown);\n      });\n\n      _this.props.markReadActivities(JSON.stringify(unReads));\n    };\n\n    _this.closeUserDropdown = function () {\n      return _this.setState({\n        showUserDropdown: false\n      }, function () {\n        return document.removeEventListener('click', _this.closeUserDropdown);\n      });\n    };\n\n    _this.state = {\n      showUserDropdown: false,\n      notifications: props.notificationsList,\n      notificationIDs: []\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUnreadActivities();\n      this.props.getActivities();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.closeUserDropdown);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"Register-Header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(ToastContainer, {\n        autoClose: 3000,\n        transition: Flip,\n        hideProgressBar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Register-items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/feed\",\n        id: \"header-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-logo\",\n        src: logo,\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(Search, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(NavLink, {\n        to: \"/messages\",\n        id: \"header-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-icon\",\n        src: Inbox,\n        alt: \"Inbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"header-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Inbox\")), React.createElement(NavLink, {\n        to: \"/feed\",\n        id: \"header-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-icon\",\n        style: {\n          minHeight: '30px',\n          marginTop: '10px'\n        },\n        src: Home,\n        alt: \"Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"header-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Home\")), React.createElement(NavLink, {\n        to: \"/people\",\n        id: \"header-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-icon\",\n        src: Groups,\n        alt: \"People\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"header-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"People\")), React.createElement(NavLink, {\n        to: \"/jobs\",\n        id: \"header-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-icon\",\n        src: Jobs,\n        alt: \"Jobs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"header-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Jobs\")), React.createElement(\"div\", {\n        onClick: this.showUserDropdown,\n        style: {\n          marginTop: \"-12px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-icon\",\n        src: Bell,\n        alt: \"Notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"header-label-activity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Activity\"), this.props.notifications.length > 0 ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"notification-icon\",\n        src: Notification,\n        alt: \"New Notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"notification-number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.props.notifications.length)) : null, this.state.showUserDropdown ? this.props.notifications.length > 0 ? React.createElement(\"div\", {\n        className: \"dropdown-menu\",\n        ref: function ref(element) {\n          _this2.dropdownMenu = element;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.props.notifications.map(function (notification) {\n        var data = notification.attributes;\n        return React.createElement(Notifications, {\n          data: data,\n          key: notification.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        });\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"Notification-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"View All Notifications\")))) : // if the notifications are already viewed\n      React.createElement(\"div\", {\n        className: \"dropdown-menu\",\n        ref: function ref(element) {\n          _this2.dropdownMenu = element;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"No-New-Notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" No New Notifications \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"notification-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"View All Notifications\")), this.props.allNotifications.map(function (allNotify) {\n        var data = allNotify.attributes;\n        return React.createElement(Notifications, {\n          data: data,\n          key: allNotify.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        });\n      })) : null), React.createElement(NavLink, {\n        to: \"/\".concat(localStorage.id, \"/user/\"),\n        id: \"header-menu-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"header-image\",\n        src: !localStorage.image ? Group : localStorage.image,\n        alt: \"User\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(Add, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    notifications: state.notificationsList,\n    allNotifications: state.allNotificationsList\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getUnreadActivities: getUnreadActivities,\n  getActivities: getActivities,\n  markReadActivities: markReadActivities\n})(Header);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/components/Header.js"],"names":["React","Component","connect","NavLink","Search","Add","Notifications","getUnreadActivities","markReadActivities","getActivities","ToastContainer","Flip","Group","Notification","Header","props","showUserDropdown","evt","preventDefault","unReads","notifications","map","notification","id","setState","document","addEventListener","closeUserDropdown","JSON","stringify","removeEventListener","state","notificationsList","notificationIDs","window","scrollTo","logo","Inbox","minHeight","marginTop","Home","Groups","Jobs","Bell","length","element","dropdownMenu","data","attributes","allNotifications","allNotify","localStorage","image","mapStateToProps","allNotificationsList"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,SAASC,mBAAT,EAA8BC,kBAA9B,EAAkDC,aAAlD,QAAuE,iCAAvE;AACA,SAASC,cAAT,EAAyBC,IAAzB,QAAqC,gBAArC;;;;;;;AAOA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,YAAP,MAAyB,sCAAzB;;IAEMC,M;;;;;AACL,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,gFAAMA,KAAN;;AADkB,UAgBnBC,gBAhBmB,GAgBA,UAAAC,GAAG,EAAI;AACzBA,MAAAA,GAAG,CAACC,cAAJ;;AAEA,UAAIC,OAAO,GAAG,MAAKJ,KAAL,CAAWK,aAAX,CAAyBC,GAAzB,CAA6B,UAAAC,YAAY;AAAA,eAAIA,YAAY,CAACC,EAAjB;AAAA,OAAzC,CAAd;;AAEA,YAAKC,QAAL,CAAc;AACbR,QAAAA,gBAAgB,EAAE;AADL,OAAd,EAEG;AAAA,eAAMS,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,MAAKC,iBAAxC,CAAN;AAAA,OAFH;;AAIA,YAAKZ,KAAL,CAAWP,kBAAX,CAA8BoB,IAAI,CAACC,SAAL,CAAeV,OAAf,CAA9B;AACA,KA1BkB;;AAAA,UA4BnBQ,iBA5BmB,GA4BC;AAAA,aAAM,MAAKH,QAAL,CAAc;AACvCR,QAAAA,gBAAgB,EAAE;AADqB,OAAd,EAEvB;AAAA,eAAMS,QAAQ,CAACK,mBAAT,CAA6B,OAA7B,EAAsC,MAAKH,iBAA3C,CAAN;AAAA,OAFuB,CAAN;AAAA,KA5BD;;AAGlB,UAAKI,KAAL,GAAa;AACZf,MAAAA,gBAAgB,EAAE,KADN;AAEZI,MAAAA,aAAa,EAAEL,KAAK,CAACiB,iBAFT;AAGZC,MAAAA,eAAe,EAAE;AAHL,KAAb;AAHkB;AAQlB;;;;wCAEmB;AACnBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,WAAKpB,KAAL,CAAWR,mBAAX;AACA,WAAKQ,KAAL,CAAWN,aAAX;AACA;;;2CAkBsB;AACtBgB,MAAAA,QAAQ,CAACK,mBAAT,CAA6B,OAA7B,EAAsC,KAAKH,iBAA3C;AACA;;;6BAEQ;AAAA;;AACR,aACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,cAAD;AAAgB,QAAA,SAAS,EAAE,IAA3B;AAAiC,QAAA,UAAU,EAAEhB,IAA7C;AAAmD,QAAA,eAAe,EAAE,IAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,OAAZ;AAAoB,QAAA,EAAE,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,GAAG,EAAEyB,IAA3B;AAAiC,QAAA,GAAG,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAKC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALD,EAOC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,WAAZ;AAAwB,QAAA,EAAE,EAAC,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,GAAG,EAAEC,KAA3B;AAAkC,QAAA,GAAG,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD,CAPD,EAYC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,OAAZ;AAAoB,QAAA,EAAE,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AACC,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE,MAAb;AAAqBC,UAAAA,SAAS,EAAE;AAAhC,SADR;AAEC,QAAA,GAAG,EAAEC,IAFN;AAEY,QAAA,GAAG,EAAC,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAMC;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND,CAZD,EAqBC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,SAAZ;AAAsB,QAAA,EAAE,EAAC,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,GAAG,EAAEC,MAA3B;AAAmC,QAAA,GAAG,EAAC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,CArBD,EA0BC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,OAAZ;AAAoB,QAAA,EAAE,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,GAAG,EAAEC,IAA3B;AAAiC,QAAA,GAAG,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,CA1BD,EA+BC;AAAK,QAAA,OAAO,EAAE,KAAK1B,gBAAnB;AAAqC,QAAA,KAAK,EAAE;AAACuB,UAAAA,SAAS,EAAE;AAAZ,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,GAAG,EAAEI,IAA3B;AAAiC,QAAA,GAAG,EAAC,eAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGC;AAAK,QAAA,EAAE,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,EAKG,KAAK5B,KAAL,CAAWK,aAAX,CAAyBwB,MAAzB,GAAkC,CAAlC,GACD,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,mBAAR;AAA4B,QAAA,GAAG,EAAE/B,YAAjC;AAA+C,QAAA,GAAG,EAAC,mBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGC;AAAK,QAAA,EAAE,EAAC,qBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgC,KAAKE,KAAL,CAAWK,aAAX,CAAyBwB,MAAzD,CAHD,CADC,GAME,IAXL,EAaG,KAAKb,KAAL,CAAWf,gBAAX,GACD,KAAKD,KAAL,CAAWK,aAAX,CAAyBwB,MAAzB,GAAkC,CAAlC,GACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,GAAG,EAAE,aAAAC,OAAO,EAAI;AAAE,UAAA,MAAI,CAACC,YAAL,GAAoBD,OAApB;AAA8B,SAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAK9B,KAAL,CAAWK,aAAX,CAAyBC,GAAzB,CAA6B,UAAAC,YAAY,EAAI;AAC9C,YAAIyB,IAAI,GAAGzB,YAAY,CAAC0B,UAAxB;AAEA,eACC,oBAAC,aAAD;AACC,UAAA,IAAI,EAAED,IADP;AAEC,UAAA,GAAG,EAAEzB,YAAY,CAACC,EAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAMA,OATC,CADH,EAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAQ,QAAA,SAAS,EAAC,kBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,CADD,CAZD,CADD,GAmBM;AACL;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,GAAG,EAAE,aAAAsB,OAAO,EAAI;AAAE,UAAA,MAAI,CAACC,YAAL,GAAoBD,OAApB;AAA8B,SAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,sBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,EAKC;AAAK,QAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAC,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,CALD,EASG,KAAK9B,KAAL,CAAWkC,gBAAX,CAA4B5B,GAA5B,CAAgC,UAAA6B,SAAS,EAAI;AAC9C,YAAIH,IAAI,GAAGG,SAAS,CAACF,UAArB;AAEA,eACC,oBAAC,aAAD;AACC,UAAA,IAAI,EAAED,IADP;AAEC,UAAA,GAAG,EAAEG,SAAS,CAAC3B,EAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAMA,OATC,CATH,CArBA,GAyCG,IAtDN,CA/BD,EAwFC,oBAAC,OAAD;AAAS,QAAA,EAAE,aAAM4B,YAAY,CAAC5B,EAAnB,WAAX;AAA0C,QAAA,EAAE,EAAC,mBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,EAAE,EAAC,cAAR;AAAuB,QAAA,GAAG,EAAG,CAAC4B,YAAY,CAACC,KAAd,GAAsBxC,KAAtB,GAA8BuC,YAAY,CAACC,KAAxE;AAAgF,QAAA,GAAG,EAAC,MAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAxFD,EA4FC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5FD,CAHD,CADD;AAoGA;;;;EA1ImBnD,S;;AA6IrB,IAAMoD,eAAe,GAAG,SAAlBA,eAAkB,CAAAtB,KAAK;AAAA,SAAK;AACjCX,IAAAA,aAAa,EAAGW,KAAK,CAACC,iBADW;AAEjCiB,IAAAA,gBAAgB,EAAElB,KAAK,CAACuB;AAFS,GAAL;AAAA,CAA7B;;AAKA,eAAepD,OAAO,CAACmD,eAAD,EAAkB;AAAC9C,EAAAA,mBAAmB,EAAnBA,mBAAD;AAAsBE,EAAAA,aAAa,EAAbA,aAAtB;AAAqCD,EAAAA,kBAAkB,EAAlBA;AAArC,CAAlB,CAAP,CAAmFM,MAAnF,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Search from '../containers/Search';\nimport Add from '../containers/Add';\nimport Notifications from './header.notifications.components.js';\nimport { getUnreadActivities, markReadActivities, getActivities } from '../actions/notification.actions';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport logo from '../assets/headericons/Logo_svg.svg';\nimport Inbox from '../assets/headericons/inbox.svg';\nimport Home from '../assets/headericons/home.svg';\nimport Groups from '../assets/headericons/Groups_Icon.svg';\nimport Jobs from '../assets/headericons/briefcase.svg';\nimport Bell from '../assets/headericons/bell.svg';\nimport Group from '../assets/Group.png';\nimport Notification from '../assets/icons/NotificationOval.png';\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tshowUserDropdown: false,\n\t\t\tnotifications: props.notificationsList,\n\t\t\tnotificationIDs: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.scrollTo(0,0);\n\t\tthis.props.getUnreadActivities();\n\t\tthis.props.getActivities();\n\t}\n\n\tshowUserDropdown = evt => {\n\t\tevt.preventDefault();\n\n\t\tlet unReads = this.props.notifications.map(notification => notification.id);\n\n\t\tthis.setState({\n\t\t\tshowUserDropdown: true\n\t\t}, () => document.addEventListener('click', this.closeUserDropdown));\n\n\t\tthis.props.markReadActivities(JSON.stringify(unReads));\n\t}\n\n\tcloseUserDropdown = () => this.setState({\n\t\tshowUserDropdown: false\n\t}, () => document.removeEventListener('click', this.closeUserDropdown));\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener('click', this.closeUserDropdown);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Register-Header\">\n\t\t\t\t<ToastContainer autoClose={3000} transition={Flip} hideProgressBar={true} />\n\n\t\t\t\t<div className=\"Register-items\">\n\t\t\t\t\t<NavLink to=\"/feed\" id=\"header-links\">\n\t\t\t\t\t\t<img id=\"header-logo\" src={logo} alt=\"logo\" />\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<Search />\n\n\t\t\t\t\t<NavLink to=\"/messages\" id=\"header-links\">\n\t\t\t\t\t\t<img id=\"header-icon\" src={Inbox} alt=\"Inbox\" />\n\t\t\t\t\t\t<div id=\"header-label\">Inbox</div>\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<NavLink to=\"/feed\" id=\"header-links\">\n\t\t\t\t\t\t<img id=\"header-icon\"\n\t\t\t\t\t\t\tstyle={{ minHeight: '30px', marginTop: '10px' }}\n\t\t\t\t\t\t\tsrc={Home} alt=\"Home\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div id=\"header-label\">Home</div>\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<NavLink to=\"/people\" id=\"header-links\">\n\t\t\t\t\t\t<img id=\"header-icon\" src={Groups} alt=\"People\" />\n\t\t\t\t\t\t<div id=\"header-label\">People</div>\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<NavLink to=\"/jobs\" id=\"header-links\">\n\t\t\t\t\t\t<img id=\"header-icon\" src={Jobs} alt=\"Jobs\" />\n\t\t\t\t\t\t<div id=\"header-label\">Jobs</div>\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<div onClick={this.showUserDropdown} style={{marginTop: \"-12px\"}}>\n\t\t\t\t\t\t<img id=\"header-icon\" src={Bell} alt=\"Notifications\" />\n\n\t\t\t\t\t\t<div id=\"header-label-activity\">Activity</div>\n\n\t\t\t\t\t\t{ this.props.notifications.length > 0 ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<img id=\"notification-icon\" src={Notification} alt=\"New Notifications\" />\n\n\t\t\t\t\t\t\t\t<div id=\"notification-number\">{ this.props.notifications.length }</div>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t) : null }\n\n\t\t\t\t\t\t{ this.state.showUserDropdown ?\n\t\t\t\t\t\t\tthis.props.notifications.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" ref={element => { this.dropdownMenu = element; }} >\n\t\t\t\t\t\t\t\t\t{ this.props.notifications.map(notification => {\n\t\t\t\t\t\t\t\t\t\tlet data = notification.attributes;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Notifications\n\t\t\t\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={notification.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<NavLink to=\"/notifications\">\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"Notification-btn\">View All Notifications</button>\n\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : ( // if the notifications are already viewed\n\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\" ref={element => { this.dropdownMenu = element; }} >\n\t\t\t\t\t\t\t\t\t<div id=\"No-New-Notifications\"> No New Notifications </div>\n\n\t\t\t\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t\t\t\t<div id=\"notification-link\">\n\t\t\t\t\t\t\t\t\t\t<NavLink to=\"/notifications\">View All Notifications</NavLink>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{ this.props.allNotifications.map(allNotify => {\n\t\t\t\t\t\t\t\t\t\tlet data = allNotify.attributes;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Notifications\n\t\t\t\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={allNotify.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<NavLink to={`/${localStorage.id}/user/`} id=\"header-menu-links\">\n\t\t\t\t\t\t<img id=\"header-image\" src={ !localStorage.image ? Group : localStorage.image } alt=\"User\" />\n\t\t\t\t\t</NavLink>\n\n\t\t\t\t\t<Add />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tnotifications : state.notificationsList,\n\tallNotifications: state.allNotificationsList\n})\n\nexport default connect(mapStateToProps, {getUnreadActivities, getActivities, markReadActivities})(Header);"]},"metadata":{},"sourceType":"module"}