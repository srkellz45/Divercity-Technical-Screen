{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nimport { toast } from \"react-toastify\";\nvar companyURL = \"\".concat(url, \"job_employers\");\nvar getCompanySizesURL = \"\".concat(url, \"data/company_sizes\");\nvar getJobsByCompanyURL = \"\".concat(url, \"jobs?company_id=\");\nvar getMoreJobsByCompanyURL = \"\".concat(url, \"jobs?page[number]=\");\nvar getCompaniesURL = \"\".concat(url, \"job_employers?page[number]=0&page[size]=20\");\nvar searchCompaniesURL = \"\".concat(url, \"job_employers?page[number]=0&page[size]=20&search_query=\");\nvar getEmployeesURL = \"\".concat(url, \"job_employers/\");\nvar companyLogosURL = \"https://pinc-node-micro.herokuapp.com/image-search?q=\";\nvar getSingleCompanyURL = \"\".concat(url, \"job_employers/\");\nvar moreCompaniesURL = \"\".concat(url, \"job_employers?page[number]=\");\nvar myCompanyAccessURL = \"\".concat(url, \"job_employers/mine\");\nvar companyAdminsURL = \"\".concat(url, \"job_employers/\"); //const addRatingURL = '${url}job_employers/';\n// ```Method: POST\n// URL: {{base_url}}/job_employers/:companyId/create_admin```\n// *Companies I’m admin of*\n// ```Method: GET\n// URL: {{base_url}}/job_employers/iam_admin```\n\nexport var ADD_COMPANY = 'ADD_COMPANY';\nexport var EDIT_COMPANY = 'EDIT_COMPANY';\nexport var GET_COMPANY_SIZES = 'GET_COMPANY_SIZES';\nexport var GET_COMPANY_JOBS = 'GET_COMPANY_JOBS';\nexport var GET_MORE_COMPANY_JOBS = 'GET_MORE_COMPANY_JOBS';\nexport var GET_COMPANIES = 'GET_COMPANIES';\nexport var GET_EMPLOYEES = 'GET_EMPLOYEES';\nexport var GET_RATINGS = 'GET_RATINGS';\nexport var ADD_USER_RATING = 'ADD_USER_RATING';\nexport var GET_SINGLE_COMPANY = 'GET_SINGLE_COMPANY';\nexport var LOAD_MORE_COMPANIES = 'LOAD_MORE_COMPANIES';\nexport var GET_LOGOS = 'GET_LOGOS';\nexport var ADD_COMPANY_ADMIN = 'ADD_COMPANY_ADMIN';\nexport var GET_MY_COMPANIES = 'GET_MY_COMPANIES';\nexport var GET_COMPANY_ADMINS = 'GET_COMPANY_ADMINS';\nexport var ERROR = 'ERROR';\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n}; // Method: POST\n// URL: {{base_url}}/job_employers\n// Body:\n// {\n//     \"company\": {\n//         \"name\": \"Portland Engineering\",\n//         \"user_company_size_id\": 3,\n//         \"description\": \"A Medium sized company\",\n//         \"industry_id\": 1\n//     }\n// }\n//CREATE (POST) NEW COMPANY\n\n\nexport var addCompany = function addCompany(company, ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: companyURL,\n      headers: headers(),\n      data: {\n        \"company\": {\n          \"name\": company.name,\n          \"user_company_size_id\": company.size,\n          \"description\": company.description,\n          \"headquarters\": company.location,\n          \"industry_id\": company.industry,\n          \"address\": company.address,\n          \"phone_number\": company.phone,\n          \"email\": company.email,\n          \"zip\": company.zip,\n          \"photo\": company.logo\n        }\n      }\n    }).then(function (response) {\n      dispatch({\n        type: ADD_COMPANY,\n        newCompany: response.data.data\n      });\n      toast.success(\"\".concat(response.data.data.attributes.name, \" successfully created!\"), {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true\n      });\n      history.push(\"/company/\".concat(response.data.data.id)); // PUSH to NEW COMPANY PAGE\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var editCompany = function editCompany(newCompanyInfo, companyID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: companyURL + \"/\" + companyID,\n      headers: headers(),\n      data: {\n        company: newCompanyInfo\n      }\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: GET_SINGLE_COMPANY,\n          company: response.data.data\n        }); //  dispatch({\n        //    type: EDIT_COMPANY,\n        //    editedCompany: response.data.data\n        // });\n      }\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getCompanySizes = function getCompanySizes() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getCompanySizesURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_COMPANY_SIZES,\n        companySizes: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getJobsByCompany = function getJobsByCompany(companyID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getJobsByCompanyURL + companyID,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_COMPANY_JOBS,\n        jobs: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // PAGINATION to GET more jobs by COMPANY and add them to job STATE\n\nexport var loadMoreJobsByCompany = function loadMoreJobsByCompany(page, companyID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getMoreJobsByCompanyURL + page + \"&page[size]=5&company_id=\" + companyID,\n      headers: headers()\n    }).then(function (jobs) {\n      dispatch({\n        type: GET_MORE_COMPANY_JOBS,\n        jobs: jobs.data.data,\n        page: jobs.data.meta.total_pages\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var loadCompaniesForPeople = function loadCompaniesForPeople() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getCompaniesURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_COMPANIES,\n        companies: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var loadCompanies = function loadCompanies(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: searchCompaniesURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_COMPANIES,\n        companies: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // PAGINATION to GET more jobs and add them to job STATE\n\nexport var loadMoreCompanies = function loadMoreCompanies(page, query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: moreCompaniesURL + page + \"&page[size]=20\",\n      headers: headers()\n    }).then(function (companies) {\n      dispatch({\n        type: LOAD_MORE_COMPANIES,\n        companies: companies.data.data,\n        page: companies.data.meta.total_pages\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getSingleCompany = function getSingleCompany(companyID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getSingleCompanyURL + companyID,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_SINGLE_COMPANY,\n        company: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getEmployees = function getEmployees(ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getEmployeesURL + ID + \"/employees\",\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_EMPLOYEES,\n        employees: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getRatings = function getRatings(ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getEmployeesURL + ID + \"/reviews\",\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_RATINGS,\n        ratings: response.data.data\n      }); //console.log('ratings',response);\n    }).catch(function (err) {\n      toast.error(\"Error getting ratings\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; //ADD (POST) NEW USER RATING\n\nexport var addUserRating = function addUserRating(rating, review, companyID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: getEmployeesURL + companyID + '/rate',\n      headers: headers(),\n      data: {\n        \"rating\": {\n          \"rate\": rating,\n          \"review\": review\n        }\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        dispatch({\n          type: ADD_USER_RATING,\n          rating: response.data.data\n        });\n      }\n\n      toast.success(\"Company successfully reviewed!\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Failed to add review'\n      });\n    });\n  };\n};\nexport var getCompanyLogos = function getCompanyLogos(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: companyLogosURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_LOGOS,\n        logos: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getMyCompanies = function getMyCompanies() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: myCompanyAccessURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_MY_COMPANIES,\n        companies: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Couldn't Retrieve Your Companies\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getCompanyAdmins = function getCompanyAdmins(id) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: companyAdminsURL + id + \"/view_admins\",\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_COMPANY_ADMINS,\n        admins: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Couldn't Retrieve Company Admins\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: false\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var addCompanyAdmin = function addCompanyAdmin(companyID, userID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: companyAdminsURL + parseInt(companyID) + \"/create_admin\",\n      headers: headers(),\n      data: {\n        \"admin\": {\n          \"user_id\": userID\n        }\n      }\n    }).then(function (response) {\n      if (response.status === 201) {\n        toast.success(\"Admin Added\", {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: false\n        });\n      }\n\n      dispatch({\n        type: ADD_COMPANY_ADMIN,\n        admins: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Couldn't Add Admin, Please Try Again\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: false\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/company.actions.js"],"names":["Axios","url","history","toast","companyURL","getCompanySizesURL","getJobsByCompanyURL","getMoreJobsByCompanyURL","getCompaniesURL","searchCompaniesURL","getEmployeesURL","companyLogosURL","getSingleCompanyURL","moreCompaniesURL","myCompanyAccessURL","companyAdminsURL","ADD_COMPANY","EDIT_COMPANY","GET_COMPANY_SIZES","GET_COMPANY_JOBS","GET_MORE_COMPANY_JOBS","GET_COMPANIES","GET_EMPLOYEES","GET_RATINGS","ADD_USER_RATING","GET_SINGLE_COMPANY","LOAD_MORE_COMPANIES","GET_LOGOS","ADD_COMPANY_ADMIN","GET_MY_COMPANIES","GET_COMPANY_ADMINS","ERROR","headers","localStorage","getItem","uid","client","id","addCompany","company","ID","dispatch","method","data","name","size","description","location","industry","address","phone","email","zip","logo","then","response","type","newCompany","success","attributes","position","POSITION","TOP_CENTER","hideProgressBar","push","catch","err","error","pauseOnHover","editCompany","newCompanyInfo","companyID","console","log","status","getCompanySizes","companySizes","getJobsByCompany","jobs","loadMoreJobsByCompany","page","meta","total_pages","loadCompaniesForPeople","companies","loadCompanies","query","loadMoreCompanies","getSingleCompany","getEmployees","employees","getRatings","ratings","addUserRating","rating","review","getCompanyLogos","logos","getMyCompanies","getCompanyAdmins","admins","addCompanyAdmin","userID","parseInt"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nimport { toast } from \"react-toastify\";\n\nconst companyURL = `${url}job_employers`;\nconst getCompanySizesURL = `${url}data/company_sizes`;\nconst getJobsByCompanyURL = `${url}jobs?company_id=`;\nconst getMoreJobsByCompanyURL = `${url}jobs?page[number]=`;\nconst getCompaniesURL = `${url}job_employers?page[number]=0&page[size]=20`;\nconst searchCompaniesURL = `${url}job_employers?page[number]=0&page[size]=20&search_query=`;\nconst getEmployeesURL = `${url}job_employers/`;\nconst companyLogosURL = `https://pinc-node-micro.herokuapp.com/image-search?q=`;\nconst getSingleCompanyURL = `${url}job_employers/`;\nconst moreCompaniesURL = `${url}job_employers?page[number]=`;\nconst myCompanyAccessURL = `${url}job_employers/mine`;\nconst companyAdminsURL = `${url}job_employers/`;\n//const addRatingURL = '${url}job_employers/';\n\n\n// ```Method: POST\n// URL: {{base_url}}/job_employers/:companyId/create_admin```\n\n// *Companies I’m admin of*\n// ```Method: GET\n// URL: {{base_url}}/job_employers/iam_admin```\n\nexport const ADD_COMPANY = 'ADD_COMPANY';\nexport const EDIT_COMPANY = 'EDIT_COMPANY';\nexport const GET_COMPANY_SIZES = 'GET_COMPANY_SIZES';\nexport const GET_COMPANY_JOBS = 'GET_COMPANY_JOBS';\nexport const GET_MORE_COMPANY_JOBS = 'GET_MORE_COMPANY_JOBS';\nexport const GET_COMPANIES = 'GET_COMPANIES';\nexport const GET_EMPLOYEES = 'GET_EMPLOYEES';\nexport const GET_RATINGS = 'GET_RATINGS';\nexport const ADD_USER_RATING = 'ADD_USER_RATING';\nexport const GET_SINGLE_COMPANY = 'GET_SINGLE_COMPANY';\nexport const LOAD_MORE_COMPANIES = 'LOAD_MORE_COMPANIES';\nexport const GET_LOGOS = 'GET_LOGOS';\nexport const ADD_COMPANY_ADMIN = 'ADD_COMPANY_ADMIN';\nexport const GET_MY_COMPANIES = 'GET_MY_COMPANIES';\nexport const GET_COMPANY_ADMINS = 'GET_COMPANY_ADMINS';\nexport const ERROR = 'ERROR';\n\nconst headers = () => ({\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\n// Method: POST\n// URL: {{base_url}}/job_employers\n// Body:\n// {\n//     \"company\": {\n//         \"name\": \"Portland Engineering\",\n//         \"user_company_size_id\": 3,\n//         \"description\": \"A Medium sized company\",\n//         \"industry_id\": 1\n//     }\n// }\n//CREATE (POST) NEW COMPANY\nexport const addCompany = (company, ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: companyURL,\n      headers: headers(),\n      data:\n        {\n          \"company\": {\n            \"name\": company.name,\n            \"user_company_size_id\": company.size,\n            \"description\": company.description,\n            \"headquarters\": company.location,\n            \"industry_id\": company.industry,\n            \"address\": company.address,\n            \"phone_number\": company.phone,\n            \"email\": company.email,\n            \"zip\": company.zip,\n            \"photo\": company.logo\n          }\n        }\n    })\n    .then(response => {\n       dispatch({\n         type: ADD_COMPANY,\n         newCompany: response.data.data\n      });\n       toast.success(`${response.data.data.attributes.name} successfully created!`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n      });\n      history.push(`/company/${response.data.data.id}`);\n      // PUSH to NEW COMPANY PAGE\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const editCompany = (newCompanyInfo, companyID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: companyURL + `/` + companyID,\n      headers: headers(),\n      data: { company : newCompanyInfo}\n    })\n    .then(response => {\n      console.log(response);\n      if(response.status === 200){\n        dispatch({\n            type: GET_SINGLE_COMPANY,\n            company: response.data.data\n        });\n        //  dispatch({\n        //    type: EDIT_COMPANY,\n        //    editedCompany: response.data.data\n        // });\n      }\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getCompanySizes = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getCompanySizesURL,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_COMPANY_SIZES,\n          companySizes: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getJobsByCompany = (companyID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getJobsByCompanyURL + companyID,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_COMPANY_JOBS,\n          jobs: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n// PAGINATION to GET more jobs by COMPANY and add them to job STATE\nexport const loadMoreJobsByCompany = (page, companyID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getMoreJobsByCompanyURL + page + `&page[size]=5&company_id=` + companyID,\n      headers: headers()\n      })\n    .then(jobs => {\n      dispatch({\n        type: GET_MORE_COMPANY_JOBS,\n        jobs: jobs.data.data,\n        page: jobs.data.meta.total_pages\n      });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const loadCompaniesForPeople = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getCompaniesURL,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_COMPANIES,\n          companies: response.data.data\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const loadCompanies = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: searchCompaniesURL + query,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_COMPANIES,\n          companies: response.data.data\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n// PAGINATION to GET more jobs and add them to job STATE\nexport const loadMoreCompanies = (page, query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: moreCompaniesURL + page + `&page[size]=20`,\n      headers: headers()\n      })\n    .then(companies => {\n      dispatch({\n        type: LOAD_MORE_COMPANIES,\n        companies: companies.data.data,\n        page: companies.data.meta.total_pages\n      });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getSingleCompany = (companyID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getSingleCompanyURL + companyID,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_SINGLE_COMPANY,\n          company: response.data.data\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getEmployees = (ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getEmployeesURL + ID + `/employees`,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_EMPLOYEES,\n          employees: response.data.data\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getRatings = (ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getEmployeesURL + ID + `/reviews`,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_RATINGS,\n          ratings: response.data.data\n       });\n       //console.log('ratings',response);\n    })\n    .catch(err => {\n      toast.error(`Error getting ratings`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n//ADD (POST) NEW USER RATING\nexport const addUserRating = (rating, review, companyID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: getEmployeesURL + companyID + '/rate',\n      headers: headers(),\n      data: {\n          \"rating\": {\n            \"rate\": rating,\n            \"review\": review\n          }\n        }\n    })\n    .then((response) => {\n      if(response.status === 200) {\n        dispatch({\n          type: ADD_USER_RATING,\n          rating: response.data.data\n        });\n      }\n      toast.success(`Company successfully reviewed!`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Failed to add review'\n      });\n    });\n  };\n};\nexport const getCompanyLogos = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: companyLogosURL + query,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_LOGOS,\n          logos: response.data.data\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const getMyCompanies = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: myCompanyAccessURL,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: GET_MY_COMPANIES,\n        companies: response.data.data\n      });\n    })\n    .catch(err => {\n      toast.error(`Couldn't Retrieve Your Companies`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const getCompanyAdmins = (id) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: companyAdminsURL + id + `/view_admins`,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: GET_COMPANY_ADMINS,\n        admins: response.data.data\n      });\n    })\n    .catch(err => {\n      toast.error(`Couldn't Retrieve Company Admins`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: false,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const addCompanyAdmin = (companyID, userID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: companyAdminsURL + parseInt(companyID) + `/create_admin`,\n      headers: headers(),\n      data:\n        {\n          \"admin\": {\n            \"user_id\": userID\n          }\n        }\n    })\n    .then(response => {\n      if(response.status === 201) {\n        toast.success(`Admin Added`, {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: false,\n        });\n      }\n      dispatch({\n        type: ADD_COMPANY_ADMIN,\n        admins: response.data.data\n      });\n    })\n    .catch(err => {\n      toast.error(`Couldn't Add Admin, Please Try Again`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: false,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}