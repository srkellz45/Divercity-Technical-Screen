{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nvar jobsURL = \"\".concat(url, \"jobs/\");\nvar myJobsURL = \"\".concat(url, \"jobs?user=\");\nvar editJobsURL = \"\".concat(url, \"jobs/\");\nexport var GET_APPLICANTS = 'GET_APPLICANTS';\nexport var GET_MY_JOBS = 'GET_MY_JOBS';\nexport var GET_MORE_JOBS = 'GET_MORE_JOBS';\nexport var PUBLISH_JOB = 'PUBLISH_JOB';\nexport var UN_PUBLISH_JOB = 'UN_PUBLISH_JOB';\nexport var DELETE_JOB = 'DELETE_JOB';\nexport var EDIT_JOB = 'EDIT_JOB';\nexport var EMPTY_LIST = 'EMPTY_LIST';\nexport var ERROR = 'ERROR';\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n};\n\nexport var getJobApplicants = function getJobApplicants(id) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: jobsURL + id + \"/applicants\",\n      headers: headers()\n    }).then(function (response) {\n      if (response.data.data.length === 0) {\n        dispatch({\n          type: EMPTY_LIST,\n          applicants: response.data.data\n        });\n      }\n\n      if (response.data.data.length > 0) {\n        dispatch({\n          type: GET_APPLICANTS,\n          applicants: response.data.data\n        });\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // GET MY JOBS THAT I HAVE POSTED\n\nexport var getMyJobs = function getMyJobs(id) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: myJobsURL + id + \"&page[number]=0&page[size]=10\",\n      headers: headers()\n    }).then(function (response) {\n      if (response.data.data.length > 0) {\n        localStorage.setItem('hasPostedJob', true);\n      }\n\n      dispatch({\n        type: GET_MY_JOBS,\n        myJobs: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var editJob = function editJob(newJobInfo, jobID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: editJobsURL + jobID,\n      headers: headers(),\n      data: newJobInfo\n    }).then(function (response) {\n      if (response.status === 200) {\n        dispatch({\n          type: EDIT_JOB,\n          editedJob: response.data.data\n        });\n      }\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // PAGINATION to GET more jobs and add them to job STATE\n\nexport var loadMoreJobs = function loadMoreJobs(id, page, query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: myJobsURL + id + \"&page[number]=\" + page + \"&page[size]=5\",\n      headers: headers()\n    }).then(function (jobs) {\n      dispatch({\n        type: GET_MORE_JOBS,\n        myJobs: jobs.data.data,\n        page: jobs.data.meta.total_pages\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // PUBLISH UNPUBLISH\n\nexport var publishUnpublish = function publishUnpublish(jobID, action, userID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: jobsURL + jobID + \"/perform\",\n      headers: headers(),\n      data: {\n        \"intent\": action\n      }\n    }).then(function (response) {\n      if (response.data.data.attributes.publishable) {\n        dispatch({\n          type: PUBLISH_JOB,\n          publish: response.data.data\n        }); //history.push(`/${userID}/user/jobs`);\n      }\n\n      if (!response.data.data.attributes.publishable) {\n        dispatch({\n          type: UN_PUBLISH_JOB,\n          unPublish: response.data.data\n        });\n      }\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var deleteJob = function deleteJob(jobID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: jobsURL + jobID + \"/perform\",\n      headers: headers(),\n      data: {\n        \"intent\": \"delete\"\n      }\n    }).then(function (response) {\n      dispatch({\n        type: DELETE_JOB,\n        deletedJob: response.data.data\n      }); //history.push(`/${userID}/user/jobs`);\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/recruiter.actions.js"],"names":["Axios","url","history","jobsURL","myJobsURL","editJobsURL","GET_APPLICANTS","GET_MY_JOBS","GET_MORE_JOBS","PUBLISH_JOB","UN_PUBLISH_JOB","DELETE_JOB","EDIT_JOB","EMPTY_LIST","ERROR","headers","localStorage","getItem","uid","client","id","getJobApplicants","dispatch","method","then","response","data","length","type","applicants","catch","err","console","log","error","getMyJobs","setItem","myJobs","editJob","newJobInfo","jobID","status","editedJob","loadMoreJobs","page","query","jobs","meta","total_pages","publishUnpublish","action","userID","attributes","publishable","publish","unPublish","deleteJob","deletedJob"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\n\nconst jobsURL = `${url}jobs/`;\nconst myJobsURL = `${url}jobs?user=`;\nconst editJobsURL = `${url}jobs/`;\n\nexport const GET_APPLICANTS = 'GET_APPLICANTS';\nexport const GET_MY_JOBS = 'GET_MY_JOBS';\nexport const GET_MORE_JOBS = 'GET_MORE_JOBS';\nexport const PUBLISH_JOB = 'PUBLISH_JOB';\nexport const UN_PUBLISH_JOB = 'UN_PUBLISH_JOB';\nexport const DELETE_JOB = 'DELETE_JOB';\nexport const EDIT_JOB = 'EDIT_JOB';\nexport const EMPTY_LIST = 'EMPTY_LIST';\nexport const ERROR = 'ERROR';\n\n  const headers = () => ({\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\n\nexport const getJobApplicants = (id) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: jobsURL + id + `/applicants`,\n      headers: headers()\n    })\n    .then(response => {\n      if(response.data.data.length === 0) {\n        dispatch({\n          type: EMPTY_LIST,\n          applicants: response.data.data\n        });\n      }\n      if(response.data.data.length > 0) {\n        dispatch({\n          type: GET_APPLICANTS,\n          applicants: response.data.data\n        });\n      }\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n// GET MY JOBS THAT I HAVE POSTED\nexport const getMyJobs = (id) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: myJobsURL + id + `&page[number]=0&page[size]=10`,\n      headers: headers()\n    })\n    .then(response => {\n      if(response.data.data.length > 0) {\n        localStorage.setItem('hasPostedJob', true);\n      }\n        dispatch({\n          type: GET_MY_JOBS,\n          myJobs: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const editJob = (newJobInfo, jobID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: editJobsURL + jobID,\n      headers: headers(),\n      data: newJobInfo\n    })\n    .then(response => {\n      if(response.status === 200){\n         dispatch({\n           type: EDIT_JOB,\n           editedJob: response.data.data\n        });\n      }\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n// PAGINATION to GET more jobs and add them to job STATE\nexport const loadMoreJobs = (id, page, query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: myJobsURL + id + `&page[number]=` + page + `&page[size]=5`,\n      headers: headers()\n      })\n    .then(jobs => {\n      dispatch({\n        type: GET_MORE_JOBS,\n        myJobs: jobs.data.data,\n        page: jobs.data.meta.total_pages\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n// PUBLISH UNPUBLISH\nexport const publishUnpublish = (jobID, action, userID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: jobsURL + jobID + `/perform`,\n      headers: headers(),\n      data: { \"intent\": action }\n    })\n    .then(response => {\n      if(response.data.data.attributes.publishable) {\n         dispatch({\n           type: PUBLISH_JOB,\n           publish: response.data.data\n        });\n        //history.push(`/${userID}/user/jobs`);\n      }\n      if(!response.data.data.attributes.publishable) {\n         dispatch({\n           type: UN_PUBLISH_JOB,\n           unPublish: response.data.data\n        });\n      }\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const deleteJob = (jobID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: jobsURL + jobID + `/perform`,\n      headers: headers(),\n      data: { \"intent\": \"delete\" }\n    })\n    .then(response => {\n       dispatch({\n         type: DELETE_JOB,\n         deletedJob: response.data.data\n      });\n      //history.push(`/${userID}/user/jobs`);\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n"]},"metadata":{},"sourceType":"module"}