{"ast":null,"code":"import _toConsumableArray from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Company/AddRemoveAdmin/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport { addCompanyAdmin as _addCompanyAdmin } from '../../../actions/company.actions.js';\nimport AdminConnections from '../../../components/company.admin.connections.components.js';\nimport CompanyAdmin from '../../../components/company.admin.components.js';\n\nvar AddRemoveAdmin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddRemoveAdmin, _Component);\n\n  function AddRemoveAdmin(props) {\n    var _this;\n\n    _classCallCheck(this, AddRemoveAdmin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddRemoveAdmin).call(this, props));\n    _this.state = {\n      checked: [],\n      admin: [],\n      companyID: props.companyID\n    };\n    _this.selectAdmin = _this.selectAdmin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddRemoveAdmin, [{\n    key: \"selectAdmin\",\n    value: function selectAdmin(evt) {\n      console.log(evt);\n      evt.preventDefault();\n      var list = this.state.checked;\n      var index = list.indexOf(parseInt(evt.target.id));\n\n      if (!isNaN(evt.target.id) && index === -1) {\n        // if it's not a part of the Selected array, add it\n        this.setState({\n          checked: [].concat(_toConsumableArray(list), [parseInt(evt.target.id)])\n        });\n      } else {\n        // otherwise if it's in the array, remove it\n        this.setState({\n          checked: [].concat(_toConsumableArray(list.slice(0, index)), _toConsumableArray(list.slice(index + 1)))\n        });\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(evt) {\n      evt.preventDefault();\n      var companyID = this.state.companyID;\n\n      for (var i = 0; i < this.state.checked.length; i++) {\n        var userID = this.state.checked[i];\n\n        if (!isNaN(userID)) {\n          this.props.addCompanyAdmin(companyID, userID);\n          this.props.onClose();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"AddAdmin-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"AddAdmin-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Add/Remove Admin\"), React.createElement(\"button\", {\n        className: \"AddAdmin-close-btn\",\n        type: \"button\",\n        onClick: function onClick(e) {\n          e.preventDefault();\n\n          _this2.props.onClose();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"AddAdmin-components\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(AdminConnections, {\n        data: this.props.connections,\n        select: this.selectAdmin,\n        checked: this.state.checked,\n        admin: this.props.admin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(CompanyAdmin, {\n        data: this.props.admin,\n        selected: this.state.checked,\n        connections: this.props.connections,\n        select: this.selectAdmin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"AddAdmin-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSubmit,\n        \"aria-label\": \"Save\",\n        className: \"AddAdmin-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Save\")));\n    }\n  }]);\n\n  return AddRemoveAdmin;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    connections: state.connectionsList,\n    admin: state.companyAdminList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addCompanyAdmin: function addCompanyAdmin(companyID, userID) {\n      dispatch(_addCompanyAdmin(companyID, userID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddRemoveAdmin);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Company/AddRemoveAdmin/index.js"],"names":["React","Component","connect","ToastContainer","Flip","addCompanyAdmin","AdminConnections","CompanyAdmin","AddRemoveAdmin","props","state","checked","admin","companyID","selectAdmin","bind","handleSubmit","evt","console","log","preventDefault","list","index","indexOf","parseInt","target","id","isNaN","setState","slice","i","length","userID","onClose","e","connections","mapStateToProps","connectionsList","companyAdminList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport { addCompanyAdmin } from '../../../actions/company.actions.js';\nimport AdminConnections from '../../../components/company.admin.connections.components.js';\nimport CompanyAdmin from '../../../components/company.admin.components.js';\n\nclass AddRemoveAdmin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checked: [],\n      admin: [],\n      companyID: props.companyID\n    };\n    this.selectAdmin = this.selectAdmin.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  selectAdmin(evt) {\n    console.log(evt);\n    evt.preventDefault();\n    let list = this.state.checked;\n\n    let index = list.indexOf(parseInt(evt.target.id));\n    if( !isNaN(evt.target.id) && index === -1 ) { // if it's not a part of the Selected array, add it\n      this.setState({\n        checked: [ ...list, parseInt(evt.target.id) ],\n      });\n    } else { // otherwise if it's in the array, remove it\n      this.setState({\n        checked: [ ...list.slice(0, index), ...list.slice(index + 1) ]\n      });\n    }\n  }\n  handleSubmit (evt) {\n    evt.preventDefault();\n    let companyID = this.state.companyID;\n    for (var i = 0; i < this.state.checked.length; i++) {\n      let userID = this.state.checked[i];\n      if( !isNaN(userID) ) {\n        this.props.addCompanyAdmin(companyID, userID);\n        this.props.onClose();\n      }\n    }\n  }\n  render() {\n   return(\n      <div className=\"AddAdmin-body\">\n        <div className=\"AddAdmin-headline\">\n          Add/Remove Admin\n        </div>\n        <button\n          className=\"AddAdmin-close-btn\"\n          type=\"button\"\n          onClick={e => { e.preventDefault(); this.props.onClose() }} >\n          X\n        </button>\n        <div className=\"AddAdmin-components\">\n          <AdminConnections\n            data={ this.props.connections }\n            select={ this.selectAdmin }\n            checked={ this.state.checked }\n            admin={ this.props.admin }\n          />\n          <CompanyAdmin\n            data={ this.props.admin }\n            selected={ this.state.checked }\n            connections={ this.props.connections }\n            select={ this.selectAdmin }\n          />\n        </div>\n        <div className=\"AddAdmin-button\">\n          <button\n              onClick={ this.handleSubmit }\n              aria-label=\"Save\"\n              className=\"AddAdmin-btn\"\n            >\n            Save\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    connections : state.connectionsList,\n    admin: state.companyAdminList,\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addCompanyAdmin: (companyID, userID) => {\n      dispatch(addCompanyAdmin(companyID, userID));\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(AddRemoveAdmin);"]},"metadata":{},"sourceType":"module"}