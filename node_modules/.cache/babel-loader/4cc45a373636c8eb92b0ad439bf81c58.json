{"ast":null,"code":"import _defineProperty from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Groups/GroupsFeed/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getGroups as _getGroups, followGroupsOnboarding as _followGroupsOnboarding, getMoreGroups as _getMoreGroups } from '../../../actions/group.actions';\nimport { getUser as _getUser, getMoreConnections } from '../../../actions/user.actions';\nimport { loadCompanies as _loadCompanies } from '../../../actions/company.actions';\nimport { getRecommendedConnections as _getRecommendedConnections, followUser as _followUser, getConnectionsRequests as _getConnectionsRequests, getAllUsers as _getAllUsers, getMoreUsers as _getMoreUsers } from '../../../actions/connection.actions';\nimport Header from '../../../components/Header';\nimport TrendingGroups from '../../../components/groups.Trending.components';\nimport PeopleCompanies from '../../../components/people.companies.components.js';\nimport PeopleGroups from '../../../components/people.groups.components.js';\nimport PeopleConnections from '../../../components/people.connections.components.js';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport Modal from '../../Modal';\n\nvar GroupsFeed =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GroupsFeed, _Component);\n\n  function GroupsFeed(props) {\n    var _this;\n\n    _classCallCheck(this, GroupsFeed);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GroupsFeed).call(this, props));\n    _this.state = {\n      groupId: '',\n      loading: false,\n      usersPage: 1,\n      groupsPage: 1,\n      connectionsSelected: false,\n      companiesSelected: false,\n      groupsSelected: true,\n      isOpen: false\n    };\n    _this.joinGroup = _this.joinGroup.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openModal = _this.openModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSelectors = _this.handleSelectors.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadMore = _this.loadMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.connectWithUser = _this.connectWithUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.trackScrolling = _this.trackScrolling.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.isBottom = _this.isBottom.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(GroupsFeed, [{\n    key: \"openModal\",\n    value: function openModal(evt) {\n      this.setState({\n        isOpen: true\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        isOpen: false\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(localStorage.id);\n      this.props.getConnectionsRequests(localStorage.id);\n      this.props.getGroups();\n      this.props.loadCompanies('a');\n      this.props.getRecommendedConnections();\n      this.props.getAllUsers();\n      localStorage.setItem(\"pageLimit\", 10);\n      document.addEventListener('scroll', this.trackScrolling);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('scroll', this.trackScrolling);\n      localStorage.removeItem('groupsEmpty');\n      localStorage.removeItem('connectionsEmpty');\n    }\n  }, {\n    key: \"joinGroup\",\n    value: function joinGroup(evt) {\n      evt.preventDefault();\n      this.props.followGroupsOnboarding(evt.target.id);\n    }\n  }, {\n    key: \"handleSelectors\",\n    value: function handleSelectors(evt) {\n      this.setState(_defineProperty({\n        connectionsSelected: false,\n        companiesSelected: false,\n        groupsSelected: false\n      }, evt.target.id, true));\n      localStorage.setItem(\"pageLimit\", 10);\n    }\n  }, {\n    key: \"connectWithUser\",\n    value: function connectWithUser(evt) {\n      evt.preventDefault();\n      this.props.followUser(evt.target.id);\n    } // handleChange(evt) {\n    //   evt.preventDefault();\n    //   const target = evt.target;\n    //   this.props.loadSingleJob(target.id);\n    //   this.setState({\n    //     jobId : target.id,\n    //     isOpen: true,\n    //     singleJob: this.props.singleJob\n    //   });\n    // }\n\n  }, {\n    key: \"loadMore\",\n    value: function loadMore(evt) {\n      if (this.state.connectionsSelected) {\n        this.setState({\n          usersPage: this.state.usersPage + 1\n        });\n        this.props.getMoreUsers(this.state.usersPage);\n      }\n\n      if (this.state.companiesSelected) {//this.props.getMoreCompanies(this.state.page);\n      }\n\n      if (this.state.groupsSelected) {\n        this.setState({\n          groupsPage: this.state.groupsPage + 1\n        });\n        this.props.getMoreGroups(this.state.groupsPage);\n      }\n    }\n  }, {\n    key: \"isBottom\",\n    value: function isBottom(el) {\n      return el.getBoundingClientRect().bottom <= window.innerHeight;\n    }\n  }, {\n    key: \"trackScrolling\",\n    value: function trackScrolling() {\n      var wrappedElement = document.getElementById('main');\n\n      if (this.isBottom(wrappedElement)) {\n        this.loadMore();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(ToastContainer, {\n        autoClose: 3000,\n        transition: Flip,\n        hideProgressBar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), this.props.allUsers.length <= 0 ? React.createElement(\"div\", {\n        id: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Loading\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \".\"))) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"People-grid-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"People-Grid-Top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSelectors,\n        className: \"People-Selector-btn\",\n        id: \"connectionsSelected\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"connectionsSelected\",\n        className: this.state.connectionsSelected ? \"Selected\" : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \" Connections \")), React.createElement(\"button\", {\n        onClick: this.handleSelectors,\n        className: \"People-Selector-btn\",\n        id: \"companiesSelected\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"companiesSelected\",\n        className: this.state.companiesSelected ? \"Selected\" : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \" Companies \")), React.createElement(\"button\", {\n        onClick: this.handleSelectors,\n        className: \"People-Selector-btn\",\n        id: \"groupsSelected\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"groupsSelected\",\n        className: this.state.groupsSelected ? \"Selected\" : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \" Groups \")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.connectionsSelected ? // CONNECTIONS SELECTED\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.props.allUsers.length <= 0 ? null : React.createElement(\"div\", {\n        className: \"People-Connections\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(PeopleConnections, {\n        data: this.props.allUsers,\n        connect: this.connectWithUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })), !localStorage.connectionsEmpty ? // LOAD MORE connections BUTTON\n      React.createElement(\"div\", {\n        id: \"loading-more-people\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Fetching\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        className: \"No-More-People\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Looks like that's all the connections we have for you...\")) : null, this.state.companiesSelected ? // COMPANIES SELECTED\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, this.props.companies.length <= 0 ? null : React.createElement(\"div\", {\n        className: \"People-Company\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(PeopleCompanies, {\n        data: this.props.companies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }))) : null, this.state.groupsSelected ? // GROUPS FEED\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"People-Company\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(PeopleGroups, {\n        data: this.props.groups,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), !localStorage.groupsEmpty ? // LOAD MORE JOBS BUTTON\n      React.createElement(\"div\", {\n        id: \"loading-more-people\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Fetching\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        className: \"No-More-People\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"That's all the groups right now...\")) : null)));\n    }\n  }]);\n\n  return GroupsFeed;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    groups: state.groupsList,\n    // makes it this.props.groups\n    user: state.userList,\n    allUsers: state.allUsersList,\n    people: state.peopleList,\n    companies: state.companiesList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(id) {\n      dispatch(_getUser(id));\n    },\n    followGroupsOnboarding: function followGroupsOnboarding(id) {\n      dispatch(_followGroupsOnboarding(id));\n    },\n    getRecommendedConnections: function getRecommendedConnections() {\n      dispatch(_getRecommendedConnections());\n    },\n    getAllUsers: function getAllUsers() {\n      dispatch(_getAllUsers());\n    },\n    followUser: function followUser(id) {\n      dispatch(_followUser(id));\n    },\n    loadCompanies: function loadCompanies(query) {\n      dispatch(_loadCompanies(query));\n    },\n    getMoreUsers: function getMoreUsers(page) {\n      dispatch(_getMoreUsers(page));\n    },\n    getMoreGroups: function getMoreGroups(page) {\n      dispatch(_getMoreGroups(page));\n    },\n    getConnectionsRequests: function getConnectionsRequests(id) {\n      dispatch(_getConnectionsRequests(id));\n    },\n    getGroups: function getGroups() {\n      dispatch(_getGroups());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupsFeed); // <div className=\"Recommended-header\" >\n//                 Recommended Groups\n//               </div>\n//             { this.props.trending.map((group) => {\n//               let groups = group.attributes;\n//               return (\n//                 <div className=\"Recommended\" key={ group.id }>\n//                   <TrendingGroups\n//                     image={ groups.picture_main }\n//                     title={ groups.title }\n//                     followers={ groups.followers_count }\n//                     id={ group.id }\n//                     handler={this.joinGroup}\n//                     following={groups.is_followed_by_current}\n//                   />\n//                 </div>\n//               );\n//             })}\n//           </div>","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Groups/GroupsFeed/index.js"],"names":["React","Component","connect","getGroups","followGroupsOnboarding","getMoreGroups","getUser","getMoreConnections","loadCompanies","getRecommendedConnections","followUser","getConnectionsRequests","getAllUsers","getMoreUsers","Header","TrendingGroups","PeopleCompanies","PeopleGroups","PeopleConnections","ToastContainer","Flip","Modal","GroupsFeed","props","state","groupId","loading","usersPage","groupsPage","connectionsSelected","companiesSelected","groupsSelected","isOpen","joinGroup","bind","openModal","closeModal","handleSelectors","loadMore","connectWithUser","trackScrolling","isBottom","evt","setState","window","scrollTo","localStorage","id","setItem","document","addEventListener","removeEventListener","removeItem","preventDefault","target","el","getBoundingClientRect","bottom","innerHeight","wrappedElement","getElementById","allUsers","length","cursor","connectionsEmpty","companies","groups","groupsEmpty","mapStateToProps","groupsList","user","userList","allUsersList","people","peopleList","companiesList","mapDispatchToProps","dispatch","query","page"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    getGroups,\n    followGroupsOnboarding,\n    getMoreGroups\n  } from '../../../actions/group.actions';\nimport {\n  getUser,\n  getMoreConnections,\n  } from '../../../actions/user.actions';\nimport { loadCompanies } from '../../../actions/company.actions';\n\nimport {\n  getRecommendedConnections,\n  followUser,\n  getConnectionsRequests,\n  getAllUsers,\n  getMoreUsers\n  } from '../../../actions/connection.actions';\n\nimport Header from '../../../components/Header';\nimport TrendingGroups from '../../../components/groups.Trending.components';\nimport PeopleCompanies from '../../../components/people.companies.components.js';\nimport PeopleGroups from '../../../components/people.groups.components.js';\nimport PeopleConnections from '../../../components/people.connections.components.js';\nimport { ToastContainer, Flip } from \"react-toastify\";\nimport Modal from '../../Modal';\n\nclass GroupsFeed extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      groupId: '',\n      loading: false,\n      usersPage: 1,\n      groupsPage: 1,\n      connectionsSelected: false,\n      companiesSelected: false,\n      groupsSelected: true,\n      isOpen: false,\n    };\n    this.joinGroup = this.joinGroup.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.handleSelectors = this.handleSelectors.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n    this.connectWithUser = this.connectWithUser.bind(this);\n    this.trackScrolling = this.trackScrolling.bind(this);\n    this.isBottom = this.isBottom.bind(this);\n\n  }\n  openModal (evt) {\n    this.setState({\n      isOpen: true,\n    });\n  }\n\n  closeModal () {\n    this.setState({\n      isOpen: false\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.props.getUser(localStorage.id);\n    this.props.getConnectionsRequests(localStorage.id);\n    this.props.getGroups();\n    this.props.loadCompanies('a');\n\n    this.props.getRecommendedConnections();\n    this.props.getAllUsers();\n    localStorage.setItem(\"pageLimit\", 10);\n    document.addEventListener('scroll', this.trackScrolling);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.trackScrolling);\n    localStorage.removeItem('groupsEmpty');\n    localStorage.removeItem('connectionsEmpty');\n  }\n  joinGroup(evt) {\n    evt.preventDefault();\n    this.props.followGroupsOnboarding(evt.target.id);\n  }\n  handleSelectors (evt) {\n    this.setState({\n      connectionsSelected: false,\n      companiesSelected: false,\n      groupsSelected: false,\n      [evt.target.id] : true,\n    });\n    localStorage.setItem(\"pageLimit\", 10);\n  }\n  connectWithUser(evt) {\n    evt.preventDefault();\n    this.props.followUser(evt.target.id);\n  }\n\n  // handleChange(evt) {\n  //   evt.preventDefault();\n  //   const target = evt.target;\n  //   this.props.loadSingleJob(target.id);\n  //   this.setState({\n  //     jobId : target.id,\n  //     isOpen: true,\n  //     singleJob: this.props.singleJob\n  //   });\n  // }\n  loadMore(evt) {\n\n    if(this.state.connectionsSelected){\n      this.setState({\n        usersPage: this.state.usersPage + 1\n      });\n      this.props.getMoreUsers(this.state.usersPage);\n    }\n    if(this.state.companiesSelected){\n      //this.props.getMoreCompanies(this.state.page);\n    }\n    if(this.state.groupsSelected){\n      this.setState({\n        groupsPage: this.state.groupsPage + 1\n      });\n      this.props.getMoreGroups(this.state.groupsPage);\n    }\n  }\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n  trackScrolling() {\n    const wrappedElement = document.getElementById('main');\n    if (this.isBottom(wrappedElement)) {\n      this.loadMore();\n    }\n  }\n\n  render() {\n\n    return(\n      <div id=\"main\">\n        <Header />\n        <ToastContainer autoClose={3000} transition={Flip} hideProgressBar={true} />\n        { this.props.allUsers.length <= 0 ? (\n            <div id=\"loading\">\n            <p className=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n            </div>\n          ) : (\n        <React.Fragment>\n          <div className=\"People-grid-container\">\n            <div id=\"People-Grid-Top\">\n              <button onClick={ this.handleSelectors } className=\"People-Selector-btn\" id=\"connectionsSelected\" style={{cursor:'pointer'}}>\n                <div id=\"connectionsSelected\" className={this.state.connectionsSelected ? (\"Selected\") : (null)}> Connections </div>\n              </button>\n              <button onClick={ this.handleSelectors } className=\"People-Selector-btn\" id=\"companiesSelected\" style={{cursor:'pointer'}}>\n                <div id=\"companiesSelected\" className={this.state.companiesSelected ? (\"Selected\") : (null)}> Companies </div>\n              </button>\n              <button onClick={ this.handleSelectors } className=\"People-Selector-btn\" id=\"groupsSelected\" style={{cursor:'pointer'}}>\n                <div id=\"groupsSelected\" className={this.state.groupsSelected ? (\"Selected\") : (null)}> Groups </div>\n              </button>\n            </div>\n          </div>\n\n        <div>\n          { this.state.connectionsSelected ? ( // CONNECTIONS SELECTED\n            <React.Fragment>\n              { this.props.allUsers.length <= 0 ? (\n                null\n                ) : (\n                <div className=\"People-Connections\">\n                  <PeopleConnections\n                    data={ this.props.allUsers }\n                    connect={ this.connectWithUser }\n                  />\n                </div>\n              )}\n              { !localStorage.connectionsEmpty ? ( // LOAD MORE connections BUTTON\n              <div id=\"loading-more-people\">\n                <p className=\"loading\">Fetching<span>.</span><span>.</span><span>.</span></p>\n              </div>\n              ) : (\n              <div className=\"No-More-People\">\n                Looks like that's all the connections we have for you...\n              </div>\n              )}\n            </React.Fragment>\n          ) : ( null )}\n\n          { this.state.companiesSelected ? ( // COMPANIES SELECTED\n            <React.Fragment>\n            { this.props.companies.length <= 0 ? (\n              null\n              ) : (\n              <div className=\"People-Company\">\n                <PeopleCompanies\n                  data={ this.props.companies }\n                />\n              </div>\n            )}\n            </React.Fragment>\n          ) : (null) }\n\n          { this.state.groupsSelected ? ( // GROUPS FEED\n            <React.Fragment>\n              <div className=\"People-Company\">\n                <PeopleGroups\n                  data={ this.props.groups }\n                />\n              </div>\n            { !localStorage.groupsEmpty ? ( // LOAD MORE JOBS BUTTON\n            <div id=\"loading-more-people\">\n              <p className=\"loading\">Fetching<span>.</span><span>.</span><span>.</span></p>\n            </div>\n            ) : (\n            <div className=\"No-More-People\">\n              That's all the groups right now...\n            </div>\n            )}\n            </React.Fragment>\n          ) : (null) }\n        </div>\n      </React.Fragment>\n      )}\n      </div>\n\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    groups : state.groupsList, // makes it this.props.groups\n    user : state.userList,\n    allUsers : state.allUsersList,\n    people : state.peopleList,\n    companies: state.companiesList,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (id) => {\n      dispatch(getUser(id));\n    },\n    followGroupsOnboarding: (id) => {\n      dispatch(followGroupsOnboarding(id));\n    },\n    getRecommendedConnections: () => {\n      dispatch(getRecommendedConnections());\n    },\n    getAllUsers: () => {\n      dispatch(getAllUsers());\n    },\n    followUser: (id) => {\n      dispatch(followUser(id));\n    },\n    loadCompanies: (query) => {\n      dispatch(loadCompanies(query));\n    },\n    getMoreUsers: (page) => {\n      dispatch(getMoreUsers(page));\n    },\n    getMoreGroups: (page) => {\n      dispatch(getMoreGroups(page));\n    },\n    getConnectionsRequests: (id) => {\n      dispatch(getConnectionsRequests(id));\n    },\n    getGroups: () => {\n      dispatch(getGroups());\n    }\n  }\n}\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GroupsFeed);\n\n\n// <div className=\"Recommended-header\" >\n//                 Recommended Groups\n//               </div>\n//             { this.props.trending.map((group) => {\n//               let groups = group.attributes;\n//               return (\n//                 <div className=\"Recommended\" key={ group.id }>\n//                   <TrendingGroups\n//                     image={ groups.picture_main }\n//                     title={ groups.title }\n//                     followers={ groups.followers_count }\n//                     id={ group.id }\n//                     handler={this.joinGroup}\n//                     following={groups.is_followed_by_current}\n//                   />\n//                 </div>\n//               );\n//             })}\n//           </div>"]},"metadata":{},"sourceType":"module"}