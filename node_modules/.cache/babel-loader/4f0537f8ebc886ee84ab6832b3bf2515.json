{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nimport { toast } from \"react-toastify\";\nexport var GET_CONNECTIONS = 'GET_CONNECTIONS';\nexport var GET_OTHER_USER_CONNECTIONS = 'GET_OTHER_USER_CONNECTIONS';\nexport var VIEW_FOLLOWED_USER = 'VIEW_FOLLOWED_USER';\nexport var GET_RECOMMENDED_USERS = 'GET_RECOMMENDED_USERS';\nexport var FOLLOW_REC_USER = 'FOLLOW_REC_USER';\nexport var FOLLOW_PEOPLE = 'FOLLOW_PEOPLE';\nexport var GET_PEOPLE = 'GET_PEOPLE';\nexport var ACCEPT_CONNECTION = 'ACCEPT_CONNECTION';\nexport var GET_CONNECTIONS_REQUESTS = 'GET_CONNECTIONS_REQUESTS';\nexport var GET_ALL_USERS = 'GET_ALL_USERS';\nexport var FOLLOW_USER = 'FOLLOW_USER';\nexport var GET_MORE_USERS = 'GET_MORE_USERS';\nexport var ERROR = 'ERROR';\nvar connectUserURL = \"\".concat(url, \"users/connect\");\nvar disconnectUserURL = \"\".concat(url, \"users/remove_connection\");\nvar getUserURL = \"\".concat(url, \"users/\");\nvar getAllUsersURL = \"\".concat(url, \"users?page[number]=\");\nvar getMyConnectionRequestsURL = \"\".concat(url, \"users/\");\nvar acceptConnectionURL = \"\".concat(url, \"/users/accept_connection\");\nvar myFollowersURL = \"\".concat(url, \"/users/\");\nvar getRecommendedConnectionsURL = \"\".concat(url, \"recommenders/users?page[number]=\");\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n};\n\nexport var connectUser = function connectUser(ID, method) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getUserURL + ID,\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: VIEW_FOLLOWED_USER,\n            user: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var unconnectUser = function unconnectUser(ID, userID, where) {\n  return function (dispatch) {\n    return Axios({\n      method: 'delete',\n      url: disconnectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      console.log(response);\n      console.log(where);\n      console.log(userID);\n\n      if (response.status === 200) {\n        toast.success(\"Unconnected\", {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true\n        });\n\n        switch (where) {\n          case 'myProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + \"/connections\",\n              headers: headers()\n            }).then(function (response) {\n              console.log(response);\n              dispatch({\n                type: GET_CONNECTIONS,\n                connections: response.data.data,\n                id: ID\n              });\n            }).catch(function (err) {\n              toast.error(\"Something went wrong\", {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true\n              });\n              console.log(err);\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n        }\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var followUserConnections = function followUserConnections(ID, userID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 201) {\n        toast.success(\"Connection Request Sent\", {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true\n        });\n        return Axios({\n          method: 'get',\n          url: myFollowersURL + userID + \"/connections\",\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: GET_CONNECTIONS,\n            connections: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getConnections = function getConnections(ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: myFollowersURL + ID + \"/connections\",\n      headers: headers()\n    }).then(function (response) {\n      console.log(response);\n      dispatch({\n        type: GET_CONNECTIONS,\n        connections: response.data.data,\n        id: ID\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getConnectionsRequests = function getConnectionsRequests(ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getMyConnectionRequestsURL + ID + \"/connection_requests\",\n      headers: headers()\n    }).then(function (response) {\n      console.log(response.data.data);\n      dispatch({\n        type: GET_CONNECTIONS_REQUESTS,\n        requests: response.data.data\n      });\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var acceptConnection = function acceptConnection(ID, myID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: acceptConnectionURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: myFollowersURL + ID + \"/connections\",\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: ACCEPT_CONNECTION,\n            connection: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getRecommendedConnections = function getRecommendedConnections() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getRecommendedConnectionsURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_PEOPLE,\n        recUsers: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getAllUsers = function getAllUsers() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getAllUsersURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_ALL_USERS,\n        users: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var followUser = function followUser(ID, method) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getAllUsersURL,\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: FOLLOW_USER,\n            users: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getMoreUsers = function getMoreUsers(page, query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getAllUsersURL + page + \"&page[size]=20\",\n      headers: headers()\n    }).then(function (users) {\n      if (users.data.data.length === 0) {\n        localStorage.setItem('usersEmpty', true);\n      }\n\n      dispatch({\n        type: GET_MORE_USERS,\n        users: users.data.data,\n        page: users.data.meta.total_pages\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var followRecommendedConnections = function followRecommendedConnections(ID, method) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getRecommendedConnectionsURL,\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: FOLLOW_REC_USER,\n            recUsers: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var followPeopleConnection = function followPeopleConnection(ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getRecommendedConnectionsURL,\n          headers: headers()\n        }).then(function (response) {\n          dispatch({\n            type: FOLLOW_PEOPLE,\n            recUsers: response.data.data\n          });\n        });\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // NEW NEW\n// Unconnect with User\n\nexport var disconnectUser = function disconnectUser(ID, userID, where) {\n  console.log(userID);\n  console.log(ID);\n  console.log(where);\n  return function (dispatch) {\n    return Axios({\n      method: 'delete',\n      url: disconnectUserURL,\n      data: {\n        \"user_id\": ID\n      },\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 200) {\n        toast.success(\"Unconnected\", {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true\n        });\n\n        switch (where) {\n          case 'myProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + \"/connections\",\n              headers: headers()\n            }).then(function (response) {\n              console.log(response, 'from the action');\n              dispatch({\n                type: GET_CONNECTIONS,\n                connections: response.data.data,\n                id: userID\n              });\n            }).catch(function (err) {\n              toast.error(\"Something went wrong\", {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true\n              });\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n\n          case 'otherUserProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + \"/connections\",\n              headers: headers()\n            }).then(function (response) {\n              console.log(response);\n              dispatch({\n                type: GET_OTHER_USER_CONNECTIONS,\n                connections: response.data.data,\n                id: ID\n              });\n            }).catch(function (err) {\n              toast.error(\"Something went wrong\", {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true\n              });\n              console.log(err);\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n        }\n      }\n    }).catch(function (err) {\n      toast.error(\"Something went wrong\", {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/connection.actions.js"],"names":["Axios","url","history","toast","GET_CONNECTIONS","GET_OTHER_USER_CONNECTIONS","VIEW_FOLLOWED_USER","GET_RECOMMENDED_USERS","FOLLOW_REC_USER","FOLLOW_PEOPLE","GET_PEOPLE","ACCEPT_CONNECTION","GET_CONNECTIONS_REQUESTS","GET_ALL_USERS","FOLLOW_USER","GET_MORE_USERS","ERROR","connectUserURL","disconnectUserURL","getUserURL","getAllUsersURL","getMyConnectionRequestsURL","acceptConnectionURL","myFollowersURL","getRecommendedConnectionsURL","headers","localStorage","getItem","uid","client","id","connectUser","ID","method","dispatch","data","then","response","status","type","user","catch","err","error","position","POSITION","TOP_CENTER","hideProgressBar","pauseOnHover","console","log","unconnectUser","userID","where","success","connections","followUserConnections","getConnections","getConnectionsRequests","requests","acceptConnection","myID","connection","getRecommendedConnections","recUsers","getAllUsers","users","followUser","getMoreUsers","page","query","length","setItem","meta","total_pages","followRecommendedConnections","followPeopleConnection","disconnectUser"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nimport { toast } from \"react-toastify\";\n\nexport const GET_CONNECTIONS = 'GET_CONNECTIONS';\nexport const GET_OTHER_USER_CONNECTIONS = 'GET_OTHER_USER_CONNECTIONS';\nexport const VIEW_FOLLOWED_USER = 'VIEW_FOLLOWED_USER';\nexport const GET_RECOMMENDED_USERS = 'GET_RECOMMENDED_USERS';\nexport const FOLLOW_REC_USER = 'FOLLOW_REC_USER';\nexport const FOLLOW_PEOPLE = 'FOLLOW_PEOPLE';\nexport const GET_PEOPLE = 'GET_PEOPLE';\nexport const ACCEPT_CONNECTION = 'ACCEPT_CONNECTION';\nexport const GET_CONNECTIONS_REQUESTS = 'GET_CONNECTIONS_REQUESTS';\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const GET_MORE_USERS = 'GET_MORE_USERS';\nexport const ERROR = 'ERROR';\n\nconst connectUserURL = `${url}users/connect`;\nconst disconnectUserURL = `${url}users/remove_connection`;\nconst getUserURL = `${url}users/`;\nconst getAllUsersURL = `${url}users?page[number]=`;\nconst getMyConnectionRequestsURL = `${url}users/`;\nconst acceptConnectionURL = `${url}/users/accept_connection`;\nconst myFollowersURL = `${url}/users/`;\nconst getRecommendedConnectionsURL = `${url}recommenders/users?page[number]=`;\n\nconst headers = () => ({\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\nexport const connectUser = (ID, method) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      if(response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getUserURL + ID,\n          headers: headers()\n        })\n        .then(response => {\n            dispatch({\n              type: VIEW_FOLLOWED_USER,\n              user: response.data.data\n           });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const unconnectUser = (ID, userID, where) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'delete',\n      url: disconnectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      console.log(response);\n      console.log(where);\n      console.log(userID);\n      if(response.status === 200) {\n        toast.success(`Unconnected`, {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true,\n        });\n        switch(where) {\n          case 'myProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + `/connections`,\n              headers: headers()\n            })\n            .then(response => {\n              console.log(response);\n              dispatch({\n                type: GET_CONNECTIONS,\n                connections: response.data.data,\n                id: ID,\n              });\n            })\n            .catch(err => {\n              toast.error(`Something went wrong`, {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true,\n              });\n              console.log(err);\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n\n        }\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const followUserConnections = (ID, userID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      if(response.status === 201) {\n        toast.success(`Connection Request Sent`, {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true,\n        });\n        return Axios({\n          method: 'get',\n          url: myFollowersURL + userID + `/connections`,\n          headers: headers()\n        })\n        .then(response => {\n            dispatch({\n              type: GET_CONNECTIONS,\n              connections: response.data.data\n           });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const getConnections = (ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: myFollowersURL + ID + `/connections`,\n      headers: headers()\n    })\n    .then(response => {\n      console.log(response);\n        dispatch({\n          type: GET_CONNECTIONS,\n          connections: response.data.data,\n          id: ID,\n       });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getConnectionsRequests = (ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getMyConnectionRequestsURL + ID + `/connection_requests`,\n      headers: headers()\n    })\n    .then(response => {\n       console.log(response.data.data);\n       dispatch({\n         type: GET_CONNECTIONS_REQUESTS,\n         requests: response.data.data\n      });\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n\nexport const acceptConnection = (ID, myID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: acceptConnectionURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      console.log(response);\n      if(response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: myFollowersURL + ID + `/connections`,\n          headers: headers()\n        })\n        .then(response => {\n          dispatch({\n            type: ACCEPT_CONNECTION,\n            connection: response.data.data\n          });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getRecommendedConnections = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getRecommendedConnectionsURL,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_PEOPLE,\n          recUsers: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getAllUsers = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getAllUsersURL,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_ALL_USERS,\n          users: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const followUser = (ID, method) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      if(response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getAllUsersURL,\n          headers: headers()\n        })\n        .then(response => {\n          dispatch({\n            type: FOLLOW_USER,\n            users: response.data.data\n          });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getMoreUsers = (page, query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getAllUsersURL + page + `&page[size]=20`,\n      headers: headers()\n      })\n    .then(users => {\n      if(users.data.data.length === 0) {\n        localStorage.setItem('usersEmpty', true);\n      }\n      dispatch({\n        type: GET_MORE_USERS,\n        users: users.data.data,\n        page: users.data.meta.total_pages\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const followRecommendedConnections = (ID, method) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      console.log(response);\n      if(response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getRecommendedConnectionsURL,\n          headers: headers()\n        })\n        .then(response => {\n          dispatch({\n            type: FOLLOW_REC_USER,\n            recUsers: response.data.data\n          });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const followPeopleConnection = (ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: connectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      if(response.status === 201) {\n        return Axios({\n          method: 'get',\n          url: getRecommendedConnectionsURL,\n          headers: headers()\n        })\n        .then(response => {\n          dispatch({\n            type: FOLLOW_PEOPLE,\n            recUsers: response.data.data\n          });\n        });\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      console.log(err, 'error');\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n\n\n\n\n\n// NEW NEW\n// Unconnect with User\nexport const disconnectUser = (ID, userID, where) => {\n  console.log(userID);\n  console.log(ID);\n  console.log(where);\n  return (dispatch) => {\n    return Axios({\n      method: 'delete',\n      url: disconnectUserURL,\n      data: { \"user_id\": ID },\n      headers: headers()\n    })\n    .then(response => {\n      if(response.status === 200) {\n        toast.success(`Unconnected`, {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true,\n          pauseOnHover: true,\n        });\n        switch(where) {\n          case 'myProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + `/connections`,\n              headers: headers()\n            })\n            .then(response => {\n              console.log(response, 'from the action');\n              dispatch({\n                type: GET_CONNECTIONS,\n                connections: response.data.data,\n                id: userID,\n              });\n            })\n            .catch(err => {\n              toast.error(`Something went wrong`, {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true,\n              });\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n          case 'otherUserProfile':\n            return Axios({\n              method: 'get',\n              url: myFollowersURL + userID + `/connections`,\n              headers: headers()\n            })\n            .then(response => {\n              console.log(response);\n              dispatch({\n                type: GET_OTHER_USER_CONNECTIONS,\n                connections: response.data.data,\n                id: ID,\n              });\n            })\n            .catch(err => {\n              toast.error(`Something went wrong`, {\n                position: toast.POSITION.TOP_CENTER,\n                hideProgressBar: true,\n                pauseOnHover: true,\n              });\n              console.log(err);\n              dispatch({\n                type: ERROR,\n                error: err\n              });\n            });\n        }\n      }\n    })\n    .catch(err => {\n      toast.error(`Something went wrong`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n        pauseOnHover: true,\n      });\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}