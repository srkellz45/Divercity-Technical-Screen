{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nexport var LOAD_JOBS = 'LOAD_JOBS';\nexport var ERROR = 'ERROR';\nvar addIntegrationURL = \"\".concat(url, \"integrations\");\nvar pullJobsURL = \"\".concat(url, \"integrations/gh_pull_jobs\");\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n}; // add integration\n\n\nexport var addIntegration = function addIntegration(api, job_employer_id) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: addIntegrationURL,\n      headers: headers(),\n      data: {\n        \"integrations\": {\n          \"itype\": \"greenhouse\",\n          \"authentication\": api,\n          \"job_employer_id\": job_employer_id\n        }\n      }\n    }).then(function (response) {\n      console.log(response);\n      dispatch({\n        type: LOAD_JOBS,\n        integrationResponse: response.data.data\n      });\n      history.push(\"/jobs\");\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n}; // export const pullJobsGreenhouse = (ID) => {\n//   return (dispatch) => {\n//     return Axios({\n//       method: 'get',\n//       url: myFollowersURL + ID + `/connections`,\n//       headers: headers()\n//     })\n//     .then(response => {\n//       console.log(response);\n//        //  dispatch({\n//        //    type: GET_CONNECTIONS,\n//        //    connections: response.data.data,\n//        //    id: ID,\n//        // });\n//     })\n//     .catch(err => {\n//       toast.error(`Something went wrong`, {\n//         position: toast.POSITION.TOP_CENTER,\n//         hideProgressBar: true,\n//         pauseOnHover: true,\n//       });\n//       console.log(err);\n//       dispatch({\n//         type: ERROR,\n//         error: err\n//       });\n//     });\n//   };\n// };","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/greenhouse.actions.js"],"names":["Axios","url","history","LOAD_JOBS","ERROR","addIntegrationURL","pullJobsURL","headers","localStorage","getItem","uid","client","id","addIntegration","api","job_employer_id","dispatch","method","data","then","response","console","log","type","integrationResponse","push","catch","err","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,YAApB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,OAAO,IAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,IAAMC,KAAK,GAAG,OAAd;AAEP,IAAMC,iBAAiB,aAAOJ,GAAP,iBAAvB;AACA,IAAMK,WAAW,aAAOL,GAAP,8BAAjB;;AAEA,IAAMM,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAO;AACrB,oBAAgBC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADK;AAErBC,IAAAA,GAAG,EAAEF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAFgB;AAGrBE,IAAAA,MAAM,EAAEH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAHa;AAIrBG,IAAAA,EAAE,EAAEJ,YAAY,CAACC,OAAb,CAAqB,IAArB;AAJiB,GAAP;AAAA,CAAhB,C,CAQA;;;AACA,OAAO,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,eAAN,EAA0B;AACtD,SAAO,UAACC,QAAD,EAAc;AACnB,WAAOhB,KAAK,CAAC;AACXiB,MAAAA,MAAM,EAAE,MADG;AAEXhB,MAAAA,GAAG,EAAEI,iBAFM;AAGXE,MAAAA,OAAO,EAAEA,OAAO,EAHL;AAIXW,MAAAA,IAAI,EAAE;AAAE,wBAAgB;AACtB,mBAAS,YADa;AAEtB,4BAAkBJ,GAFI;AAGtB,6BAAmBC;AAHG;AAAlB;AAJK,KAAD,CAAL,CAWNI,IAXM,CAWD,UAAAC,QAAQ,EAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACCJ,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEpB,SADC;AAEPqB,QAAAA,mBAAmB,EAAEJ,QAAQ,CAACF,IAAT,CAAcA;AAF5B,OAAD,CAAR;AAIDhB,MAAAA,OAAO,CAACuB,IAAR;AACD,KAlBM,EAmBNC,KAnBM,CAmBA,UAAAC,GAAG,EAAI;AACZX,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEnB,KADC;AAEPwB,QAAAA,KAAK,EAAED;AAFA,OAAD,CAAR;AAID,KAxBM,CAAP;AAyBD,GA1BD;AA2BD,CA5BM,C,CAgCP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\n\nexport const LOAD_JOBS = 'LOAD_JOBS';\nexport const ERROR = 'ERROR';\n\nconst addIntegrationURL = `${ url }integrations`;\nconst pullJobsURL = `${ url }integrations/gh_pull_jobs`;\n\nconst headers = () => ({\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\n\n// add integration\nexport const addIntegration = (api, job_employer_id) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: addIntegrationURL,\n      headers: headers(),\n      data: { \"integrations\": {\n        \"itype\": \"greenhouse\",\n        \"authentication\": api,\n        \"job_employer_id\": job_employer_id\n        }\n      }\n    })\n    .then(response => {\n      console.log(response);\n       dispatch({\n         type: LOAD_JOBS,\n         integrationResponse: response.data.data\n      });\n      history.push(`/jobs`);\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n\n\n// export const pullJobsGreenhouse = (ID) => {\n//   return (dispatch) => {\n//     return Axios({\n//       method: 'get',\n//       url: myFollowersURL + ID + `/connections`,\n//       headers: headers()\n//     })\n//     .then(response => {\n//       console.log(response);\n//        //  dispatch({\n//        //    type: GET_CONNECTIONS,\n//        //    connections: response.data.data,\n//        //    id: ID,\n//        // });\n//     })\n//     .catch(err => {\n//       toast.error(`Something went wrong`, {\n//         position: toast.POSITION.TOP_CENTER,\n//         hideProgressBar: true,\n//         pauseOnHover: true,\n//       });\n//       console.log(err);\n//       dispatch({\n//         type: ERROR,\n//         error: err\n//       });\n//     });\n//   };\n// };"]},"metadata":{},"sourceType":"module"}