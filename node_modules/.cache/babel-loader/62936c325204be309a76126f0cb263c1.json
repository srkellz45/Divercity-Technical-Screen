{"ast":null,"code":"import _defineProperty from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Notifications/index.js\";\nimport React, { Component } from 'react';\nimport Moment from 'moment';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../../components/Header';\nimport { getActivities as _getActivities, markReadActivities as _markReadActivities } from '../../actions/notification.actions';\nimport { acceptConnection as _acceptConnection } from '../../actions/connection.actions';\nimport { getGroupRequests as _getGroupRequests, getGroupInvites as _getGroupInvites, acceptPrivateGroupRequest as _acceptPrivateGroupRequest, declinePrivateGroupRequest as _declinePrivateGroupRequest } from '../../actions/group.actions';\nimport Accept from '../../assets/icons/Accept_Filled.png';\nimport Decline from '../../assets/icons/Decline_Red.png';\n\nvar Notifications =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Notifications, _Component);\n\n  function Notifications(props) {\n    var _this;\n\n    _classCallCheck(this, Notifications);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notifications).call(this, props));\n    _this.state = {\n      notifications: props.notificationsList,\n      notificationIDs: [],\n      notificationsSelected: true,\n      groupRequestsSelected: false\n    };\n    _this.handleSelectors = _this.handleSelectors.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.acceptRequest = _this.acceptRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.declineRequest = _this.declineRequest.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.connect = _this.connect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.declineConnect = _this.declineConnect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Notifications, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getActivities();\n      this.props.getGroupRequests();\n      this.props.getGroupInvites();\n    }\n  }, {\n    key: \"handleSelectors\",\n    value: function handleSelectors(evt) {\n      this.setState(_defineProperty({\n        notificationsSelected: false,\n        groupRequestsSelected: false\n      }, evt.target.id, true));\n    }\n  }, {\n    key: \"acceptRequest\",\n    value: function acceptRequest(evt) {\n      evt.preventDefault();\n      this.props.acceptPrivateGroupRequest(evt.target.name, evt.target.id);\n    }\n  }, {\n    key: \"declineRequest\",\n    value: function declineRequest(evt) {\n      evt.preventDefault();\n      this.props.declinePrivateGroupRequest(evt.target.name, evt.target.id);\n    }\n  }, {\n    key: \"connect\",\n    value: function connect(evt) {\n      evt.preventDefault();\n      this.props.acceptConnection(evt.target.id, localStorage.id);\n    }\n  }, {\n    key: \"declineConnect\",\n    value: function declineConnect(evt) {\n      evt.preventDefault();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        id: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Notification-Body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"Notification-Selectors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSelectors,\n        className: \"Notification-Selector-btn\",\n        id: \"notificationsSelected\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"notificationsSelected\",\n        className: this.state.notificationsSelected ? \"Selected\" : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Notifications\")), React.createElement(\"button\", {\n        onClick: this.handleSelectors,\n        className: \"Notification-Selector-btn\",\n        id: \"groupRequestsSelected\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"groupRequestsSelected\",\n        className: this.state.groupRequestsSelected ? \"Selected\" : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Group Requests\"))), !this.props.notifications.length ? React.createElement(\"div\", {\n        id: \"loading-notifications\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Getting Notifications\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.notificationsSelected ? // NOTIFICATIONS\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.props.notifications.map(function (notification) {\n        var data = notification.attributes;\n        var Message;\n        Message = data.message.split(\"</b>\")[1];\n        return React.createElement(\"div\", {\n          className: \"AllNotification-container\",\n          key: _this2.props.notifications.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"AllNotification-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"AllNotification-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/users/\".concat(data.last_active_user_info.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: data.last_active_user_info.avatar_thumb,\n          alt: \"User Photo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"AllNotification-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/users/\".concat(data.last_active_user_info.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, data.last_active_user_info.name, \" \")), Message, React.createElement(\"div\", {\n          className: \"AllNotification-date\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, data.updated_ago_in_words, \" ago\")), data.a_type === \"follow\" ? React.createElement(\"div\", {\n          className: \"GroupNotification-icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: Accept,\n          className: \"Company-connected-icon\",\n          alt: \"Connect\",\n          id: data.last_active_user_info.id,\n          name: data.last_active_user_info.id,\n          onClick: _this2.connect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          style: {\n            marginLeft: \"15px\"\n          },\n          src: Decline,\n          className: \"Company-connected-icon\",\n          alt: \"Connect\",\n          id: data.last_active_user_info.id,\n          name: data.last_active_user_info.id,\n          onClick: _this2.declineConnect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        })) : null));\n      })) : null, this.state.groupRequestsSelected ? // NOTIFICATIONS\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.props.requests.map(function (request) {\n        return React.createElement(\"div\", {\n          className: \"AllNotification-container\",\n          key: _this2.props.requests.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"AllNotification-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"AllNotification-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/users/\".concat(request.attributes.user_id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: request.attributes.user_info.avatar_thumb,\n          alt: \"User Photo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"GroupNotification-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(NavLink, {\n          to: \"/users/\".concat(request.attributes.user_id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, request.attributes.user_info.name, \" \")), \"requested to join \\xA0\", React.createElement(NavLink, {\n          to: \"/groups/\".concat(request.attributes.group_info.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, request.attributes.group_info.title)), React.createElement(\"div\", {\n          className: \"AllNotification-date\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, Moment(request.attributes.created_at).fromNow())), React.createElement(\"div\", {\n          className: \"GroupNotification-icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: Accept,\n          className: \"Company-connected-icon\",\n          alt: \"Connect\",\n          id: request.attributes.user_id,\n          name: request.attributes.group_info.id,\n          onClick: _this2.acceptRequest,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          style: {\n            marginLeft: \"15px\"\n          },\n          src: Decline,\n          className: \"Company-connected-icon\",\n          alt: \"Connect\",\n          id: request.attributes.user_id,\n          name: request.attributes.group_info.id,\n          onClick: _this2.declineRequest,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }))));\n      })) : null)));\n    }\n  }]);\n\n  return Notifications;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    notifications: state.allNotificationsList,\n    recentNotifications: state.notificationsList,\n    requests: state.groupRequestsList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getActivities: function getActivities() {\n      dispatch(_getActivities());\n    },\n    getGroupRequests: function getGroupRequests() {\n      dispatch(_getGroupRequests());\n    },\n    getGroupInvites: function getGroupInvites() {\n      dispatch(_getGroupInvites());\n    },\n    markReadActivities: function markReadActivities(id) {\n      dispatch(_markReadActivities(id));\n    },\n    acceptPrivateGroupRequest: function acceptPrivateGroupRequest(groupID, userID) {\n      dispatch(_acceptPrivateGroupRequest(groupID, userID));\n    },\n    declinePrivateGroupRequest: function declinePrivateGroupRequest(groupID, userID) {\n      dispatch(_declinePrivateGroupRequest(groupID, userID));\n    },\n    acceptConnection: function acceptConnection(userID, myID) {\n      dispatch(_acceptConnection(userID, myID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Notifications/index.js"],"names":["React","Component","Moment","connect","NavLink","Header","getActivities","markReadActivities","acceptConnection","getGroupRequests","getGroupInvites","acceptPrivateGroupRequest","declinePrivateGroupRequest","Accept","Decline","Notifications","props","state","notifications","notificationsList","notificationIDs","notificationsSelected","groupRequestsSelected","handleSelectors","bind","acceptRequest","declineRequest","declineConnect","window","scrollTo","evt","setState","target","id","preventDefault","name","localStorage","cursor","length","map","notification","data","attributes","Message","message","split","last_active_user_info","avatar_thumb","updated_ago_in_words","a_type","marginLeft","requests","request","user_id","user_info","group_info","title","created_at","fromNow","mapStateToProps","allNotificationsList","recentNotifications","groupRequestsList","mapDispatchToProps","dispatch","groupID","userID","myID"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Moment from 'moment';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../../components/Header';\n\nimport { getActivities, markReadActivities } from '../../actions/notification.actions';\nimport { acceptConnection } from '../../actions/connection.actions';\nimport {\n  getGroupRequests,\n  getGroupInvites,\n  acceptPrivateGroupRequest,\n  declinePrivateGroupRequest\n} from '../../actions/group.actions';\n\nimport Accept from '../../assets/icons/Accept_Filled.png';\nimport Decline from '../../assets/icons/Decline_Red.png';\n\n\nclass Notifications extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      notifications: props.notificationsList,\n      notificationIDs: [],\n      notificationsSelected: true,\n      groupRequestsSelected: false,\n    };\n    this.handleSelectors = this.handleSelectors.bind(this);\n    this.acceptRequest = this.acceptRequest.bind(this);\n    this.declineRequest = this.declineRequest.bind(this);\n    this.connect = this.connect.bind(this);\n    this.declineConnect = this.declineConnect.bind(this);\n  }\n\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.props.getActivities();\n    this.props.getGroupRequests();\n    this.props.getGroupInvites();\n  }\n  handleSelectors (evt) {\n    this.setState({\n      notificationsSelected: false,\n      groupRequestsSelected: false,\n      [evt.target.id] : true\n    });\n  }\n  acceptRequest (evt) {\n    evt.preventDefault();\n    this.props.acceptPrivateGroupRequest(evt.target.name, evt.target.id);\n  }\n  declineRequest (evt) {\n    evt.preventDefault();\n    this.props.declinePrivateGroupRequest(evt.target.name, evt.target.id);\n  }\n  connect(evt) {\n    evt.preventDefault();\n    this.props.acceptConnection(evt.target.id, localStorage.id);\n  }\n  declineConnect(evt) {\n    evt.preventDefault();\n  }\n  render() {\n    return (\n      <div id=\"main\">\n        <Header />\n        <div className=\"Notification-Body\">\n          <div id=\"Notification-Selectors\">\n            <button onClick={ this.handleSelectors } className=\"Notification-Selector-btn\" id=\"notificationsSelected\" style={{cursor:'pointer'}}>\n              <div id=\"notificationsSelected\" className={this.state.notificationsSelected ? (\"Selected\") : (null)}>Notifications</div>\n            </button>\n            <button onClick={ this.handleSelectors } className=\"Notification-Selector-btn\" id=\"groupRequestsSelected\" style={{cursor:'pointer'}}>\n              <div id=\"groupRequestsSelected\" className={this.state.groupRequestsSelected ? (\"Selected\") : (null)}>Group Requests</div>\n            </button>\n          </div>\n          { !this.props.notifications.length ? (\n            <div id=\"loading-notifications\">\n            <p className=\"loading\">Getting Notifications<span>.</span><span>.</span><span>.</span></p>\n            </div>\n            ) : (\n            <div>\n              { this.state.notificationsSelected ? ( // NOTIFICATIONS\n                <React.Fragment>\n                { this.props.notifications.map((notification) => {\n                  let data = notification.attributes;\n                  let Message;\n                  Message = data.message.split(\"</b>\")[1];\n                  return(\n                      <div className=\"AllNotification-container\" key={this.props.notifications.id}>\n                        <div className=\"AllNotification-item\">\n                          <div className=\"AllNotification-image\">\n                            <NavLink to={`/users/${data.last_active_user_info.id}`}>\n                              <img src={data.last_active_user_info.avatar_thumb} alt=\"User Photo\" />\n                            </NavLink>\n                          </div>\n                          <div className=\"AllNotification-title\">\n                          <NavLink to={`/users/${data.last_active_user_info.id}`}>\n                            <b>{data.last_active_user_info.name} </b>\n                          </NavLink>\n                            {Message}\n                            <div className=\"AllNotification-date\">\n                             {data.updated_ago_in_words} ago\n                            </div>\n                          </div>\n                          { data.a_type === \"follow\" ? (\n                          <div className=\"GroupNotification-icons\">\n                            <img src={Accept} className=\"Company-connected-icon\" alt=\"Connect\" id={ data.last_active_user_info.id } name={data.last_active_user_info.id} onClick={ this.connect } />\n                            <img style={{marginLeft: \"15px\"}} src={Decline} className=\"Company-connected-icon\" alt=\"Connect\" id={ data.last_active_user_info.id } name={data.last_active_user_info.id} onClick={ this.declineConnect } />\n                          </div>\n                          ) : null }\n                        </div>\n                      </div>\n                    )\n                  })}\n              </React.Fragment>\n              ) : null }\n\n              { this.state.groupRequestsSelected ? ( // NOTIFICATIONS\n                <React.Fragment>\n                { this.props.requests.map((request) => {\n                  return(\n                    <div className=\"AllNotification-container\" key={this.props.requests.id}>\n                      <div className=\"AllNotification-item\">\n                        <div className=\"AllNotification-image\">\n                          <NavLink to={`/users/${request.attributes.user_id}`}>\n                            <img src={request.attributes.user_info.avatar_thumb} alt=\"User Photo\" />\n                          </NavLink>\n                        </div>\n                        <div className=\"GroupNotification-title\">\n                        <NavLink to={`/users/${request.attributes.user_id}`}>\n                          <b>{request.attributes.user_info.name} </b>\n                        </NavLink>\n                          requested to join &nbsp;\n                        <NavLink to={`/groups/${request.attributes.group_info.id}`}>\n                          <b>{request.attributes.group_info.title}</b>\n                        </NavLink>\n                          <div className=\"AllNotification-date\">\n                           { Moment(request.attributes.created_at).fromNow() }\n                          </div>\n                        </div>\n                        <div className=\"GroupNotification-icons\">\n                          <img src={Accept} className=\"Company-connected-icon\" alt=\"Connect\" id={ request.attributes.user_id } name={request.attributes.group_info.id} onClick={ this.acceptRequest } />\n                          <img style={{marginLeft: \"15px\"}} src={Decline} className=\"Company-connected-icon\" alt=\"Connect\" id={ request.attributes.user_id } name={request.attributes.group_info.id} onClick={ this.declineRequest } />\n                        </div>\n                      </div>\n                    </div>\n                  )\n                })}\n              </React.Fragment>\n              ) : null }\n          </div>\n          )}\n      </div>\n    </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notifications : state.allNotificationsList,\n    recentNotifications: state.notificationsList,\n    requests : state.groupRequestsList\n  }\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getActivities: () => {\n      dispatch(getActivities());\n    },\n    getGroupRequests: () => {\n      dispatch(getGroupRequests());\n    },\n    getGroupInvites: () => {\n      dispatch(getGroupInvites());\n    },\n    markReadActivities: (id) => {\n      dispatch(markReadActivities(id));\n    },\n    acceptPrivateGroupRequest: (groupID, userID) => {\n      dispatch(acceptPrivateGroupRequest(groupID, userID));\n    },\n    declinePrivateGroupRequest: (groupID, userID) => {\n      dispatch(declinePrivateGroupRequest(groupID, userID));\n    },\n    acceptConnection: (userID, myID) => {\n      dispatch(acceptConnection(userID, myID));\n    }\n  }\n}\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Notifications);\n"]},"metadata":{},"sourceType":"module"}