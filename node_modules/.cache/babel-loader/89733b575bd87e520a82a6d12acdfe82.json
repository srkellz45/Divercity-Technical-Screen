{"ast":null,"code":"import _toConsumableArray from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddSkills/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport glamorous from 'glamorous';\nimport matchSorter from 'match-sorter';\nimport { getUser as _getUser, addSkills as _addSkills } from '../../actions/user.actions';\nimport MultiDownshift from '../Job/DownshiftJobSkills/MultiDownshift.js';\nimport { jobSkillsArray } from '../../lib/selectListData';\nimport { loadJobSkills } from '../../actions/job.actions';\nimport x from '../../assets/X.png';\nvar XButton = glamorous.span({\n  cursor: 'pointer'\n});\n\nvar AddSkills =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddSkills, _Component);\n\n  function AddSkills(props) {\n    var _this;\n\n    _classCallCheck(this, AddSkills);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddSkills).call(this, props));\n    console.log(props);\n    _this.state = {\n      educationAddOpen: false,\n      skills: props.user.attributes.skills,\n      items: jobSkillsArray,\n      selectedItems: []\n    };\n    _this.handleAddSkills = _this.handleAddSkills.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRemoveItem = _this.onRemoveItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemChanged = _this.onItemChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStateChange = _this.handleStateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemAdd = _this.onItemAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getItems = _this.getItems.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRemoveSkill = _this.onRemoveSkill.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddSkills, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(localStorage.id); //this.props.loadJobSkills();\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal(evt) {\n      this.props.closeSkills();\n    }\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange(changes, downshiftState) {\n      if (changes.hasOwnProperty('inputValue')) {\n        this.setState({\n          items: this.getItems(changes.inputValue)\n        });\n      }\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(value) {\n      return value ? matchSorter(jobSkillsArray, value) : jobSkillsArray;\n    }\n  }, {\n    key: \"onItemAdd\",\n    value: function onItemAdd(selectedItem) {\n      this.setState({\n        selectedItems: [].concat(_toConsumableArray(this.state.selectedItems), [selectedItem])\n      });\n    }\n  }, {\n    key: \"onRemoveItem\",\n    value: function onRemoveItem(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1);\n      this.setState({\n        selectedItems: copy\n      });\n    }\n  }, {\n    key: \"onItemChanged\",\n    value: function onItemChanged(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1, item.value);\n      this.setState({\n        selectedItems: copy\n      });\n    }\n  }, {\n    key: \"itemToString\",\n    value: function itemToString(i) {\n      return i ? i.name : '';\n    }\n  }, {\n    key: \"onRemoveSkill\",\n    value: function onRemoveSkill(item) {\n      var skills = this.state.skills; // Test\n\n      var removedSkill = item.target.id;\n\n      for (var i = skills.length - 1; i >= 0; i--) {\n        if (skills[i] === removedSkill) {\n          skills.splice(i, 1);\n        }\n      }\n\n      this.setState({\n        skills: skills\n      });\n    }\n  }, {\n    key: \"handleAddSkills\",\n    value: function handleAddSkills(evt) {\n      evt.preventDefault();\n      var skillsToSend = [].concat(_toConsumableArray(this.state.selectedItems), _toConsumableArray(this.state.skills));\n      this.props.addSkills(skillsToSend, localStorage.id);\n      this.props.closeSkills();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.skills);\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.props.user.length <= 0 ? React.createElement(\"div\", {\n        id: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Loading\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"AddSkills-Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Your skills\"), React.createElement(\"button\", {\n        className: \"AddSkills-close-btn\",\n        type: \"button\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        id: \"AddSkills-Skills-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.skills.map(function (skill) {\n        return React.createElement(XButton, {\n          onClick: _this2.onRemoveSkill,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"AddSkills-Skills-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, skill, React.createElement(\"img\", {\n          src: x,\n          id: skill,\n          alt: \"remove\",\n          style: {\n            height: \"13px\",\n            width: \"13px\",\n            marginBottom: \"-2px\",\n            marginLeft: \"5px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        })));\n      })), React.createElement(\"div\", {\n        className: \"AddSkills-Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Add Skills (Separate by comma or press TAB) \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"AddSkills-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(MultiDownshift, {\n        selectedItem: this.state.selectedItems,\n        onChangedState: this.handleStateChange,\n        onChange: this.onItemAdd,\n        onItemChanged: this.onItemChanged,\n        onRemoveItem: this.onRemoveItem,\n        items: this.state.items,\n        itemToString: this.itemToString,\n        defaultValue: \"Job Skills\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"AddSkills-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"removeEducation-btn\",\n        type: \"button\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"button\", {\n        className: \"addEducation-btn\",\n        type: \"button\",\n        onClick: this.handleAddSkills,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return AddSkills;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(id) {\n      dispatch(_getUser(id));\n    },\n    addSkills: function addSkills(data, id) {\n      dispatch(_addSkills(data, id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddSkills);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddSkills/index.js"],"names":["React","Component","connect","glamorous","matchSorter","getUser","addSkills","MultiDownshift","jobSkillsArray","loadJobSkills","x","XButton","span","cursor","AddSkills","props","console","log","state","educationAddOpen","skills","user","attributes","items","selectedItems","handleAddSkills","bind","closeModal","onRemoveItem","onItemChanged","handleStateChange","onItemAdd","getItems","onRemoveSkill","window","scrollTo","localStorage","id","evt","closeSkills","changes","downshiftState","hasOwnProperty","setState","inputValue","value","selectedItem","item","copy","splice","index","i","name","removedSkill","target","length","preventDefault","skillsToSend","map","skill","height","width","marginBottom","marginLeft","itemToString","mapStateToProps","userList","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport  glamorous  from 'glamorous';\nimport matchSorter from 'match-sorter';\nimport {\n    getUser,\n    addSkills,\n  } from '../../actions/user.actions';\nimport MultiDownshift from '../Job/DownshiftJobSkills/MultiDownshift.js';\nimport { jobSkillsArray } from '../../lib/selectListData';\nimport { loadJobSkills } from '../../actions/job.actions';\nimport x from '../../assets/X.png';\nconst XButton = glamorous.span({\n  cursor: 'pointer'\n});\nclass AddSkills extends Component {\n  constructor(props){\n    super(props);\n    console.log(props);\n    this.state = {\n      educationAddOpen: false,\n      skills: props.user.attributes.skills,\n      items: jobSkillsArray,\n      selectedItems: [],\n    };\n    this.handleAddSkills = this.handleAddSkills.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.onRemoveItem = this.onRemoveItem.bind(this);\n    this.onItemChanged = this.onItemChanged.bind(this);\n    this.handleStateChange = this.handleStateChange.bind(this);\n    this.onItemAdd = this.onItemAdd.bind(this);\n    this.getItems = this.getItems.bind(this);\n    this.onRemoveSkill = this.onRemoveSkill.bind(this);\n  }\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.props.getUser(localStorage.id);\n    //this.props.loadJobSkills();\n  }\n  closeModal (evt) {\n    this.props.closeSkills();\n  }\n  handleStateChange (changes, downshiftState) {\n    if (changes.hasOwnProperty('inputValue')) {\n      this.setState({\n        items: this.getItems(changes.inputValue)\n      });\n    }\n  }\n  getItems (value) {\n    return value ? matchSorter(jobSkillsArray, value) : jobSkillsArray;\n  }\n  onItemAdd (selectedItem) {\n    this.setState({\n      selectedItems: [ ...this.state.selectedItems, selectedItem ],\n    });\n  }\n  onRemoveItem(item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1);\n    this.setState({\n      selectedItems: copy,\n    });\n  }\n  onItemChanged (item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1, item.value);\n    this.setState({\n      selectedItems: copy\n    });\n  }\n  itemToString(i) {\n    return i ? i.name : '';\n  }\n  onRemoveSkill(item) {\n    var skills = this.state.skills; // Test\n    var removedSkill = item.target.id;\n\n    for (var i = skills.length -1; i >= 0; i--) {\n        if (skills[i] === removedSkill) {\n            skills.splice(i, 1);\n        }\n    }\n    this.setState({\n      skills: skills,\n    });\n  }\n  handleAddSkills (evt) {\n    evt.preventDefault();\n    let skillsToSend = [...this.state.selectedItems, ...this.state.skills];\n    this.props.addSkills(skillsToSend, localStorage.id);\n    this.props.closeSkills();\n  }\n\n\n  render() {\n        console.log(this.state.skills);\n    return (\n      <React.Fragment>\n        { this.props.user.length <= 0 ? (\n          <div id=\"loading\">\n            <p className=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n          </div>\n        ) : (\n        <div>\n          <div className=\"AddSkills-Title\">\n            Your skills\n          </div>\n            <button\n                className=\"AddSkills-close-btn\"\n                type=\"button\"\n                onClick={ this.closeModal } >\n                X\n            </button>\n          <div id=\"AddSkills-Skills-item\">\n            { this.state.skills.map(skill => {\n              return (\n                <XButton onClick={this.onRemoveSkill}>\n                  <div id=\"AddSkills-Skills-btn\">\n                  { skill }\n                  <img src={ x } id={skill} alt=\"remove\" style={{height:\"13px\", width:\"13px\", marginBottom:\"-2px\", marginLeft: \"5px\"}} />\n                  </div>\n                </XButton>\n              )}\n            )}\n          </div>\n          <div className=\"AddSkills-Title\">\n            Add Skills (Separate by comma or press TAB) <br />\n          </div>\n          <div className=\"AddSkills-input\">\n            <MultiDownshift\n              selectedItem={this.state.selectedItems}\n              onChangedState={this.handleStateChange}\n              onChange={this.onItemAdd}\n              onItemChanged={this.onItemChanged}\n              onRemoveItem={this.onRemoveItem}\n              items={this.state.items}\n              itemToString={this.itemToString}\n              defaultValue=\"Job Skills\"\n            />\n          </div>\n\n            <div className=\"AddSkills-buttons\">\n              <button\n                className=\"removeEducation-btn\"\n                type=\"button\"\n                onClick={this.closeModal} >\n                Cancel\n              </button>\n              <button\n                className=\"addEducation-btn\"\n                type=\"button\"\n                onClick={this.handleAddSkills} >\n                Save\n              </button>\n\n            </div>\n        </div>)}\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.userList,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (id) => {\n      dispatch(getUser(id));\n    },\n    addSkills: (data, id) => {\n      dispatch(addSkills(data, id))\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddSkills);"]},"metadata":{},"sourceType":"module"}