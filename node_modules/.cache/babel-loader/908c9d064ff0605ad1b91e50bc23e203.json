{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nvar getSchoolsURL = \"\".concat(url, \"schools?page[number]=0&page[size]=10&search_query=\");\nvar searchStudentMajorURL = \"\".concat(url, \"data/student_majors?page[number]=0&page[size]=30&search_query=\");\nvar getStudentMajorsURL = \"\".concat(url, \"data/student_majors\");\nvar searchCitiesURL = \"\".concat(url, \"data/cities?page[number]=0&page[size]=30&search_query=\");\nvar searchCountryURL = \"\".concat(url, \"data/countries?page[number]=0&page[size]=30&search_query=\");\nvar uploadPictureURL = \"\".concat(url, \"users/avatar_upload\");\nvar updateProfileURL = \"\".concat(url, \"users/\");\nvar addCityURL = \"\".concat(url, \"data/add_city\");\nvar occupationURL = \"\".concat(url, \"data/occupation_of_interests?page[number]=0&page[size]=30&search_query=\");\nvar createSchoolURL = \"\".concat(url, \"data/add_school/\");\nvar addSchoolURL = \"\".concat(url, \"users/\");\nvar followStudentMajorURL = \"\".concat(url, \"data/follow_student_major\");\nexport var GET_USER = 'GET_USER';\nexport var GET_SCHOOLS = 'GET_SCHOOLS';\nexport var SEARCH_MAJOR = 'SEARCH_MAJOR';\nexport var SEARCH_CITY = 'SEARCH_CITY';\nexport var SEARCH_COUNTRY = 'SEARCH_COUNTRY';\nexport var UPLOAD_PHOTO = 'UPLOAD_PHOTO';\nexport var GET_OCCUPATIONS = 'GET_OCCUPATIONS';\nexport var ERROR = 'ERROR';\n\nvar headers = function headers() {\n  return {\n    'Content-Type': 'application/json',\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n};\n\nexport var loadSchools = function loadSchools(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getSchoolsURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_SCHOOLS,\n        schools: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var loadOccupations = function loadOccupations(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: occupationURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_OCCUPATIONS,\n        occupations: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var loadMajors = function loadMajors() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: getStudentMajorsURL,\n      headers: headers()\n    }).then(function (response) {//  dispatch({\n      //    type: GET_OCCUPATIONS,\n      //    occupations: response.data.data\n      // });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var searchMajor = function searchMajor(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: searchStudentMajorURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: SEARCH_MAJOR,\n        results: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var searchCity = function searchCity(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: searchCitiesURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: SEARCH_CITY,\n        results: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var searchCountry = function searchCountry(query) {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: searchCountryURL + query,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: SEARCH_COUNTRY,\n        results: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var uploadProfilePicture = function uploadProfilePicture(image) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: uploadPictureURL,\n      headers: headers(),\n      data: {\n        \"avatar\": image\n      }\n    }).then(function (response) {\n      dispatch({\n        type: UPLOAD_PHOTO,\n        uploadPhoto: response.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Image Failed to Upload'\n      });\n    });\n  };\n};\nexport var updateProfile = function updateProfile(data, ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    }).then(function (response) {\n      console.log(response);\n      var accountType = response.data.data.attributes.account_type;\n      dispatch({\n        type: GET_USER,\n        user: response.data.data\n      });\n\n      switch (accountType) {\n        case 'entrepreneur':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/work/3\"));\n          }\n\n          break;\n\n        case 'job_seeker':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/work/3\"));\n          }\n\n          break;\n\n        case 'student':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/2\"));\n          }\n\n          break;\n\n        case 'recruiter':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/groups\"));\n          }\n\n          break;\n\n        case 'professional':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/groups\"));\n          }\n\n          break;\n\n        case 'hiring_manager':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/groups\"));\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport var addWork = function addWork(data, ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    }).then(function (response) {\n      var accountType = response.data.data.attributes.account_type;\n      dispatch({\n        type: GET_USER,\n        user: response.data.data\n      });\n\n      switch (accountType) {\n        case 'entrepreneur':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/3\"));\n          }\n\n          break;\n\n        case 'job_seeker':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/3\"));\n          }\n\n          break;\n        // case 'student':\n        //   if(response.status === 200) {\n        //     history.push(`/${ID}/onboarding/info/3`);\n        //   }\n        // break;\n\n        case 'professional':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/1\"));\n          }\n\n          break;\n\n        case 'recruiter':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/2\"));\n          }\n\n          break;\n\n        case 'hiring_manager':\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/2\"));\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport var addPrivateInfo = function addPrivateInfo(data, ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    }).then(function (response) {\n      if (response.status === 200) {\n        history.push(\"/\".concat(ID, \"/onboarding/groups\"));\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport var addSchool = function addSchool(data, ID, majors) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: addSchoolURL + ID,\n      headers: headers(),\n      data: data\n    }).then(function (response) {\n      if (response.status === 200) {\n        return Axios({\n          method: 'post',\n          url: followStudentMajorURL,\n          headers: headers(),\n          data: {\n            \"major_ids\": [parseInt(majors)]\n          }\n        }).then(function (response) {\n          if (response.status === 200) {\n            history.push(\"/\".concat(ID, \"/onboarding/info/3\"));\n          }\n        }).catch(function (err) {\n          console.log(err);\n          dispatch({\n            type: ERROR,\n            error: 'Profile Failed 2 update'\n          });\n        });\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport var addCity = function addCity(data) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: addCityURL,\n      headers: headers(),\n      data: {\n        \"name\": \"San Jose\",\n        \"country_name\": \"United States\"\n      }\n    }).then(function (response) {}).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'failed 2 add city'\n      });\n    });\n  };\n};\nexport var createSchool = function createSchool(school, ID) {\n  return function (dispatch) {\n    return Axios({\n      method: 'post',\n      url: createSchoolURL,\n      headers: headers(),\n      data: {\n        \"school_name\": \"University of Hawaii at Manoa\"\n      }\n    }).then(function (response) {\n      console.log(response); //  dispatch({\n      //    type: ADD_COMPANY,\n      //    newCompany: response.data.data\n      // });\n      //  toast.success(`${response.data.data.attributes.name} successfully created!`, {\n      //   position: toast.POSITION.TOP_CENTER,\n      //   hideProgressBar: true,\n      // });\n      //history.push('/jobs');\n      // PUSH to NEW COMPANY PAGE /jobs/companies/{response.data.data.company.id}\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/onboard.actions.js"],"names":["Axios","url","history","getSchoolsURL","searchStudentMajorURL","getStudentMajorsURL","searchCitiesURL","searchCountryURL","uploadPictureURL","updateProfileURL","addCityURL","occupationURL","createSchoolURL","addSchoolURL","followStudentMajorURL","GET_USER","GET_SCHOOLS","SEARCH_MAJOR","SEARCH_CITY","SEARCH_COUNTRY","UPLOAD_PHOTO","GET_OCCUPATIONS","ERROR","headers","localStorage","getItem","uid","client","id","loadSchools","query","dispatch","method","then","response","type","schools","data","catch","err","console","log","error","loadOccupations","occupations","loadMajors","searchMajor","results","searchCity","searchCountry","uploadProfilePicture","image","uploadPhoto","updateProfile","ID","accountType","attributes","account_type","user","status","push","addWork","addPrivateInfo","addSchool","majors","parseInt","addCity","createSchool","school"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\n\nconst getSchoolsURL = `${url}schools?page[number]=0&page[size]=10&search_query=`;\nconst searchStudentMajorURL = `${url}data/student_majors?page[number]=0&page[size]=30&search_query=`;\nconst getStudentMajorsURL = `${url}data/student_majors`;\nconst searchCitiesURL = `${url}data/cities?page[number]=0&page[size]=30&search_query=`;\nconst searchCountryURL = `${url}data/countries?page[number]=0&page[size]=30&search_query=`;\nconst uploadPictureURL = `${url}users/avatar_upload`;\nconst updateProfileURL = `${url}users/`;\nconst addCityURL = `${url}data/add_city`;\nconst occupationURL = `${url}data/occupation_of_interests?page[number]=0&page[size]=30&search_query=`;\nconst createSchoolURL = `${url}data/add_school/`;\nconst addSchoolURL = `${url}users/`;\nconst followStudentMajorURL = `${url}data/follow_student_major`;\n\nexport const GET_USER = 'GET_USER';\nexport const GET_SCHOOLS = 'GET_SCHOOLS';\nexport const SEARCH_MAJOR = 'SEARCH_MAJOR';\nexport const SEARCH_CITY = 'SEARCH_CITY';\nexport const SEARCH_COUNTRY = 'SEARCH_COUNTRY';\nexport const UPLOAD_PHOTO = 'UPLOAD_PHOTO';\nexport const GET_OCCUPATIONS = 'GET_OCCUPATIONS';\n\nexport const ERROR = 'ERROR';\n\nconst headers = () => ({\n  'Content-Type': 'application/json',\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\nexport const loadSchools = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getSchoolsURL + query,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_SCHOOLS,\n          schools: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\nexport const loadOccupations = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: occupationURL + query,\n      headers: headers()\n    })\n    .then(response => {\n        dispatch({\n          type: GET_OCCUPATIONS,\n          occupations: response.data.data\n       });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const loadMajors = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: getStudentMajorsURL,\n      headers: headers()\n    })\n    .then(response => {\n       //  dispatch({\n       //    type: GET_OCCUPATIONS,\n       //    occupations: response.data.data\n       // });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const searchMajor = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: searchStudentMajorURL + query,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: SEARCH_MAJOR,\n        results: response.data.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const searchCity = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: searchCitiesURL + query,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: SEARCH_CITY,\n        results: response.data.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const searchCountry = (query) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: searchCountryURL + query,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: SEARCH_COUNTRY,\n        results: response.data.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const uploadProfilePicture = (image) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: uploadPictureURL,\n      headers: headers(),\n      data: { \"avatar\": image }\n    })\n    .then((response) => {\n      dispatch({\n        type: UPLOAD_PHOTO,\n        uploadPhoto: response.data\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Image Failed to Upload'\n      });\n    });\n  };\n};\n\nexport const updateProfile = (data, ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    })\n    .then((response) => {\n      console.log(response);\n      let accountType = response.data.data.attributes.account_type;\n      dispatch({\n        type: GET_USER,\n        user: response.data.data\n      });\n      switch (accountType) {\n        case 'entrepreneur':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/work/3`);\n          }\n        break;\n        case 'job_seeker':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/work/3`);\n          }\n        break;\n        case 'student':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/2`);\n          }\n        break;\n        case 'recruiter':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/groups`);\n          }\n        break;\n        case 'professional':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/groups`);\n          }\n        break;\n        case 'hiring_manager':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/groups`);\n          }\n        break;\n        default:\n        break;\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport const addWork = (data, ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    })\n    .then((response) => {\n    let accountType = response.data.data.attributes.account_type;\n      dispatch({\n        type: GET_USER,\n        user: response.data.data\n      });\n      switch (accountType) {\n        case 'entrepreneur':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/3`);\n          }\n        break;\n        case 'job_seeker':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/3`);\n          }\n        break;\n        // case 'student':\n        //   if(response.status === 200) {\n        //     history.push(`/${ID}/onboarding/info/3`);\n        //   }\n        // break;\n        case 'professional':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/1`);\n          }\n        break;\n        case 'recruiter':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/2`);\n          }\n        break;\n        case 'hiring_manager':\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/2`);\n          }\n        break;\n        default:\n        break;\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport const addPrivateInfo = (data, ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: updateProfileURL + ID,\n      headers: headers(),\n      data: data\n    })\n    .then((response) => {\n      if(response.status === 200) {\n        history.push(`/${ID}/onboarding/groups`);\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\nexport const addSchool = (data, ID, majors) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: addSchoolURL + ID,\n      headers: headers(),\n      data: data\n    })\n    .then((response) => {\n      if(response.status === 200) {\n        return Axios({\n          method: 'post',\n          url: followStudentMajorURL,\n          headers: headers(),\n          data: { \"major_ids\": [parseInt(majors)] }\n        })\n        .then((response) => {\n          if(response.status === 200) {\n            history.push(`/${ID}/onboarding/info/3`);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch({\n            type: ERROR,\n            error: 'Profile Failed 2 update'\n          });\n        });\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'Profile Failed 2 update'\n      });\n    });\n  };\n};\n\nexport const addCity = (data) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: addCityURL,\n      headers: headers(),\n      data: {\"name\": \"San Jose\", \"country_name\": \"United States\"}\n    })\n    .then((response) => {\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: 'failed 2 add city'\n      });\n    });\n  };\n};\n\nexport const createSchool = (school, ID) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'post',\n      url: createSchoolURL,\n      headers: headers(),\n      data:\n        {\n            \"school_name\": \"University of Hawaii at Manoa\",\n          }\n    })\n    .then(response => {\n      console.log(response);\n      //  dispatch({\n      //    type: ADD_COMPANY,\n      //    newCompany: response.data.data\n      // });\n      //  toast.success(`${response.data.data.attributes.name} successfully created!`, {\n      //   position: toast.POSITION.TOP_CENTER,\n      //   hideProgressBar: true,\n      // });\n      //history.push('/jobs');\n      // PUSH to NEW COMPANY PAGE /jobs/companies/{response.data.data.company.id}\n    })\n    .catch(err => {\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};"]},"metadata":{},"sourceType":"module"}