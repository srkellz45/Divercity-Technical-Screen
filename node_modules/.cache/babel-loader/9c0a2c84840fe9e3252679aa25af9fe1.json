{"ast":null,"code":"import _toConsumableArray from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/CurrentCompany/index.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\nimport { getUser as _getUser } from '../../../actions/user.actions';\nimport { updateProfile as _updateProfile } from '../../../actions/onboard.actions';\nimport { addUserRating as _addUserRating, getSingleCompany as _getSingleCompany } from '../../../actions/company.actions';\nimport TempHeader from '../../../components/TempHeader.js'; //import Dropdown from '../../../components/Dropdown.js';\n\nimport MultiDownshift from '../../MultiDownshift/MultiDownshift.js';\nimport Modal from '../../Modal';\nimport RateCompany from '../../Company/RateCompany';\nimport SubmitRateCompany from '../../Company/SubmitRateCompany';\nimport SuccessRateCompany from '../../Company/SuccessRateCompany';\nimport CompanySearch from '../CompanySearch';\nimport company from '../../../assets/CurrentCompany.png';\nimport { occupationArray } from '../../../lib/selectListData'; //onboarding/work\n\nvar CurrentCompany =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CurrentCompany, _Component);\n\n  function CurrentCompany(props) {\n    var _this;\n\n    _classCallCheck(this, CurrentCompany);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CurrentCompany).call(this, props));\n    _this.state = {\n      id: _this.props.match.params.id,\n      job_title: '',\n      company: '',\n      showJobForm: false,\n      items: occupationArray,\n      selectedItems: [],\n      openRate: false,\n      openSubmitRate: false,\n      openSuccessRate: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCompany = _this.setCompany.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRemoveItem = _this.onRemoveItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemChanged = _this.onItemChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onItemAdd = _this.onItemAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getItems = _this.getItems.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStateChange = _this.handleStateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openRate = _this.openRate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CurrentCompany, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(this.state.id);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(evt) {\n      evt.preventDefault();\n      var profileData = {\n        \"user\": {}\n      };\n      this.setState({\n        job_title: this.state.selectedItems\n      });\n\n      if (this.state.job_title) {\n        Object.assign(profileData.user, {\n          job_title: this.state.selectedItems\n        });\n      }\n\n      if (this.state.company) {\n        Object.assign(profileData.user, {\n          company: this.state.company\n        }); // Here we want to open Rate Company Modal\n      }\n\n      console.log(profileData); //this.props.updateProfile(profileData, this.state.id);\n\n      this.setState({\n        job_title: '',\n        company: ''\n      });\n    }\n  }, {\n    key: \"setCompany\",\n    value: function setCompany(data) {\n      var companyString = JSON.parse(JSON.stringify(data.attributes.name));\n      console.log('Company ID:', data.id);\n      this.setState({\n        company: companyString,\n        companyID: data.id\n      }, function () {\n        this.openRate();\n      });\n    }\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange(changes, downshiftState) {\n      if (changes.hasOwnProperty('inputValue')) {\n        this.setState({\n          items: this.getItems(changes.inputValue)\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(selectedItem, downshiftState) {\n      this.setState({\n        items: occupationArray\n      });\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(value) {\n      return value ? matchSorter(occupationArray, value) : occupationArray;\n    }\n  }, {\n    key: \"onItemAdd\",\n    value: function onItemAdd(selectedItem) {\n      this.setState({\n        selectedItems: [].concat(_toConsumableArray(this.state.selectedItems), [selectedItem])\n      });\n    }\n  }, {\n    key: \"onRemoveItem\",\n    value: function onRemoveItem(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1);\n      this.setState({\n        selectedItems: copy\n      });\n    }\n  }, {\n    key: \"onItemChanged\",\n    value: function onItemChanged(item) {\n      var copy = _toConsumableArray(this.state.selectedItems);\n\n      copy.splice(item.index, 1, item.value);\n      this.setState({\n        selectedItems: copy\n      });\n    }\n  }, {\n    key: \"itemToString\",\n    value: function itemToString(i) {\n      console.log(i);\n      return i ? i.name : '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.selectedItems);\n      return React.createElement(\"div\", {\n        className: \"CurrentCompany\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(TempHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"onboarding-select-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"work-select-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onboarding-select-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Where do you work currently?\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"This info is valuable for the recruiter and will help you land\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \"your dream job.\")), React.createElement(\"div\", {\n        className: \"onboarding-select-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: company,\n        alt: \"onboarding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Current Job title\"), React.createElement(MultiDownshift, {\n        selectedItem: this.state.selectedItems,\n        onChangedState: this.handleStateChange,\n        onChange: this.onItemAdd,\n        onItemChanged: this.onItemChanged,\n        onRemoveItem: this.onRemoveItem,\n        items: this.state.items,\n        itemToString: this.itemToString,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \" (Select from list or enter in your own title and press tab)\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Current Company\"), React.createElement(\"div\", {\n        className: \"CompanySearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(CompanySearch, {\n        setState: this.setCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        \"aria-label\": \"Next\",\n        className: \"onboarding-next-btn\",\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Next\")), React.createElement(\"div\", {\n        className: \"Skip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/jobs\",\n        alt: \"skip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Skip and edit info later\")))));\n    }\n  }]);\n\n  return CurrentCompany;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList,\n    occupations: state.occupationsList,\n    singleCompany: state.singleCompanyList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(ID) {\n      dispatch(_getUser(ID));\n    },\n    updateProfile: function updateProfile(data, ID) {\n      dispatch(_updateProfile(data, ID));\n    },\n    getSingleCompany: function getSingleCompany(id) {\n      dispatch(_getSingleCompany(id));\n    },\n    addUserRating: function addUserRating(rating, review, id) {\n      dispatch(_addUserRating(rating, review, id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentCompany); // <DateDropdown\n//             monthList={this.state.dateMonth}\n//             dayList={this.state.dateDay}\n//             yearList={this.state.dateYear}\n//             setDayState={this.setDate}\n//             setMonthState={this.setDate}\n//             setYearState={this.setDate}\n//           />\n// setDate(title, id, key) {\n//     switch(key) {\n//       case 'day':\n//         let day = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_day: day\n//         });\n//         break;\n//       case 'month':\n//         let month = JSON.parse(JSON.stringify(id));\n//         this.setState({\n//           date_month: month\n//         });\n//         break;\n//       case 'year':\n//         let year = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_year: year\n//         });\n//         break;\n//       default: break;\n//     }\n//   }","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/CurrentCompany/index.js"],"names":["React","Component","NavLink","connect","matchSorter","getUser","updateProfile","addUserRating","getSingleCompany","TempHeader","MultiDownshift","Modal","RateCompany","SubmitRateCompany","SuccessRateCompany","CompanySearch","company","occupationArray","CurrentCompany","props","state","id","match","params","job_title","showJobForm","items","selectedItems","openRate","openSubmitRate","openSuccessRate","handleChange","bind","handleSubmit","setCompany","onRemoveItem","onItemChanged","onItemAdd","getItems","handleStateChange","window","scrollTo","evt","preventDefault","profileData","setState","Object","assign","user","console","log","data","companyString","JSON","parse","stringify","attributes","name","companyID","changes","downshiftState","hasOwnProperty","inputValue","selectedItem","value","item","copy","splice","index","i","itemToString","mapStateToProps","userList","occupations","occupationsList","singleCompany","singleCompanyList","mapDispatchToProps","dispatch","ID","rating","review"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\n\nimport { getUser } from '../../../actions/user.actions';\nimport { updateProfile } from '../../../actions/onboard.actions';\nimport { addUserRating, getSingleCompany } from '../../../actions/company.actions';\nimport TempHeader from '../../../components/TempHeader.js';\n//import Dropdown from '../../../components/Dropdown.js';\nimport MultiDownshift from '../../MultiDownshift/MultiDownshift.js';\nimport Modal from '../../Modal';\nimport RateCompany from '../../Company/RateCompany';\nimport SubmitRateCompany from '../../Company/SubmitRateCompany';\nimport SuccessRateCompany from '../../Company/SuccessRateCompany';\nimport CompanySearch from '../CompanySearch';\nimport company from '../../../assets/CurrentCompany.png';\nimport { occupationArray } from '../../../lib/selectListData';\n\n//onboarding/work\n\nclass CurrentCompany extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      job_title: '',\n      company: '',\n      showJobForm: false,\n      items: occupationArray,\n      selectedItems: [],\n      openRate: false,\n      openSubmitRate: false,\n      openSuccessRate: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n\n    this.onRemoveItem = this.onRemoveItem.bind(this);\n    this.onItemChanged = this.onItemChanged.bind(this);\n    this.onItemAdd = this.onItemAdd.bind(this);\n    this.getItems = this.getItems.bind(this);\n    this.handleStateChange = this.handleStateChange.bind(this);\n    this.openRate = this.openRate.bind(this);\n  }\n  componentWillMount(){\n    window.scrollTo(0,0);\n    this.props.getUser(this.state.id);\n  }\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let profileData = { \"user\": { } };\n    this.setState({\n      job_title: this.state.selectedItems\n    });\n    if(this.state.job_title) {\n      Object.assign(profileData.user, {job_title: this.state.selectedItems});\n    }\n    if(this.state.company) {\n      Object.assign(profileData.user, {company: this.state.company});\n      // Here we want to open Rate Company Modal\n    }\n    console.log(profileData);\n    //this.props.updateProfile(profileData, this.state.id);\n\n    this.setState({\n      job_title: '',\n      company: '',\n    });\n  }\n  setCompany(data) {\n    let companyString = JSON.parse(JSON.stringify(data.attributes.name));\n    console.log('Company ID:', data.id);\n    this.setState({\n      company: companyString,\n      companyID: data.id\n    }, function(){\n      this.openRate();\n    });\n  }\n  handleStateChange (changes, downshiftState) {\n    if (changes.hasOwnProperty('inputValue')) {\n      this.setState({\n        items: this.getItems(changes.inputValue)\n      });\n    }\n  }\n  handleChange(selectedItem, downshiftState) {\n    this.setState({\n      items: occupationArray\n    });\n  }\n  getItems (value) {\n    return value ? matchSorter(occupationArray, value) : occupationArray;\n  }\n  onItemAdd (selectedItem) {\n    this.setState({\n      selectedItems: [...this.state.selectedItems, selectedItem]\n    });\n  }\n  onRemoveItem(item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1);\n    this.setState({\n      selectedItems: copy\n    });\n  }\n  onItemChanged (item) {\n    const copy = [...this.state.selectedItems];\n    copy.splice(item.index, 1, item.value);\n    this.setState({\n      selectedItems: copy\n    });\n  }\n  itemToString(i) {\n    console.log(i);\n    return i ? i.name : '';\n  }\n      \n  \n\n  render() {\n    console.log(this.state.selectedItems);\n    return (\n      <div className=\"CurrentCompany\">\n        <TempHeader />\n        <div className=\"onboarding-select-form\">\n          <div className=\"work-select-body\">\n            <div className=\"onboarding-select-headline\">\n              Where do you work currently?<br />\n              <div id=\"onboarding-select-subline\">\n                This info is valuable for the recruiter and will help you land\n                <br />your dream job.\n              </div>\n            </div>\n            <div className=\"onboarding-select-image\">\n              <img src={ company } alt=\"onboarding\" />\n            </div>\n\n            <div id=\"onboarding-select-title\">\n              Current Job title\n            </div>\n\n            <MultiDownshift\n              selectedItem={this.state.selectedItems}\n              onChangedState={this.handleStateChange}\n              onChange={this.onItemAdd}\n              onItemChanged={this.onItemChanged}\n              onRemoveItem={this.onRemoveItem}\n              items={this.state.items}\n              itemToString={this.itemToString}\n            />\n           <div id=\"onboarding-select-subline\">\n             <center> (Select from list or enter in your own title and press tab)</center>\n            </div>\n            <br />\n            <br />\n\n            <div id=\"onboarding-select-title\">\n              Current Company\n            </div>\n            <div className=\"CompanySearch\">\n              <CompanySearch\n                setState={this.setCompany}\n              />\n            </div>\n\n\n            <button\n              aria-label=\"Next\"\n              className=\"onboarding-next-btn\"\n              type=\"submit\"\n              onClick={this.handleSubmit}>\n              <strong>Next</strong>\n            </button>\n            <div className=\"Skip\">\n              <NavLink to=\"/jobs\" alt=\"skip\">\n                Skip and edit info later\n              </NavLink>\n            </div>\n          </div>\n        </div>\n        \n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user : state.userList,\n    occupations : state.occupationsList,\n    singleCompany : state.singleCompanyList\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (ID) => {\n      dispatch(getUser(ID))\n    },\n    updateProfile: (data, ID) => {\n      dispatch(updateProfile(data, ID))\n    },\n    getSingleCompany: (id) => {\n      dispatch(getSingleCompany(id));\n    },\n    addUserRating: (rating, review, id) => {\n      dispatch(addUserRating(rating, review, id));\n    },\n  }\n}\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CurrentCompany);\n\n\n// <DateDropdown\n//             monthList={this.state.dateMonth}\n//             dayList={this.state.dateDay}\n//             yearList={this.state.dateYear}\n//             setDayState={this.setDate}\n//             setMonthState={this.setDate}\n//             setYearState={this.setDate}\n//           />\n\n\n// setDate(title, id, key) {\n//     switch(key) {\n//       case 'day':\n//         let day = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_day: day\n//         });\n//         break;\n//       case 'month':\n//         let month = JSON.parse(JSON.stringify(id));\n//         this.setState({\n//           date_month: month\n//         });\n//         break;\n//       case 'year':\n//         let year = JSON.parse(JSON.stringify(title));\n//         this.setState({\n//           date_year: year\n//         });\n//         break;\n//       default: break;\n//     }\n//   }\n"]},"metadata":{},"sourceType":"module"}