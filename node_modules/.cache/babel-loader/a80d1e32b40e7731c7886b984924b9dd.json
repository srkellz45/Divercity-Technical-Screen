{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nvar activityURL = \"\".concat(url, \"activity_records\");\nexport var GET_ALL_ACTIVITIES = 'GET_ALL_ACTIVITIES';\nexport var GET_UNREAD_ACTIVITIES = 'GET_UNREAD_ACTIVITIES';\nexport var EMPTY_LIST = 'EMPTY_LIST';\nexport var ERROR = 'ERROR';\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n};\n\nexport var getActivities = function getActivities() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: activityURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_ALL_ACTIVITIES,\n        notifications: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var getUnreadActivities = function getUnreadActivities() {\n  return function (dispatch) {\n    return Axios({\n      method: 'get',\n      url: activityURL,\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_UNREAD_ACTIVITIES,\n        notifications: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport var markReadActivities = function markReadActivities(ids) {\n  return function (dispatch) {\n    return Axios({\n      method: 'put',\n      url: activityURL + \"/mark_read\",\n      data: {\n        \"data\": [{\n          \"type\": \"activity_records\",\n          \"record_ids\": ids\n        }]\n      },\n      headers: headers()\n    }).then(function (response) {\n      dispatch({\n        type: GET_UNREAD_ACTIVITIES\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/notification.actions.js"],"names":["Axios","url","history","activityURL","GET_ALL_ACTIVITIES","GET_UNREAD_ACTIVITIES","EMPTY_LIST","ERROR","headers","localStorage","getItem","uid","client","id","getActivities","dispatch","method","then","response","type","notifications","data","catch","err","console","log","error","getUnreadActivities","markReadActivities","ids"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\n\nconst activityURL = `${url}activity_records`;\n\nexport const GET_ALL_ACTIVITIES = 'GET_ALL_ACTIVITIES';\nexport const GET_UNREAD_ACTIVITIES = 'GET_UNREAD_ACTIVITIES';\nexport const EMPTY_LIST = 'EMPTY_LIST';\nexport const ERROR = 'ERROR';\n\nconst headers = () => ({\n  'access-token': localStorage.getItem('access-token'),\n  uid: localStorage.getItem('uid'),\n  client: localStorage.getItem('client'),\n  id: localStorage.getItem('id')\n});\n\nexport const getActivities = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: activityURL,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: GET_ALL_ACTIVITIES,\n        notifications: response.data.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const getUnreadActivities = () => {\n  return (dispatch) => {\n    return Axios({\n      method: 'get',\n      url: activityURL,\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: GET_UNREAD_ACTIVITIES,\n        notifications: response.data.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\nexport const markReadActivities = (ids) => {\n  return (dispatch) => {\n    return Axios({\n      method: 'put',\n      url: activityURL + `/mark_read`,\n      data: { \"data\" :\n              [ { \"type\": \"activity_records\",\n                  \"record_ids\": ids } ]\n            },\n      headers: headers()\n    })\n    .then(response => {\n      dispatch({\n        type: GET_UNREAD_ACTIVITIES,\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}