{"ast":null,"code":"import _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddEducation/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getUser as _getUser, addEducation as _addEducation, getEducation as _getEducation } from '../../actions/user.actions';\nimport Dropdown from '../../components/Dropdown';\nimport AddEducationComponent from '../../components/user.addEducation.components';\n\nvar AddEducation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddEducation, _Component);\n\n  function AddEducation(props) {\n    var _this;\n\n    _classCallCheck(this, AddEducation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddEducation).call(this, props));\n    _this.state = {\n      educationAddOpen: false,\n      school_id: '',\n      major: '',\n      degree: '',\n      startYear: '',\n      endYear: ''\n    };\n    _this.setSchool = _this.setSchool.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setMajor = _this.setMajor.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setDegree = _this.setDegree.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartDates = _this.handleStartDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndDates = _this.handleEndDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddEducation = _this.handleAddEducation.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddEducation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(localStorage.id);\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal(evt) {\n      this.props.closeEducation();\n    }\n  }, {\n    key: \"handleAddEducation\",\n    value: function handleAddEducation(evt) {\n      evt.preventDefault();\n      var educationData = {};\n\n      if (this.state.school_id) {\n        Object.assign(educationData, {\n          school_id: this.state.school_id\n        });\n      }\n\n      if (this.state.startYear) {\n        Object.assign(educationData, {\n          start_year: this.state.startYear\n        });\n      }\n\n      if (this.state.endYear) {\n        Object.assign(educationData, {\n          end_year: this.state.endYear\n        });\n      }\n\n      if (this.state.major && this.state.degree) {\n        Object.assign(educationData, {\n          qualification: this.state.degree + \" in \" + this.state.major\n        });\n      } else if (this.state.major && !this.state.degree) {\n        Object.assign(educationData, {\n          qualification: this.state.major\n        });\n      } else if (this.state.degree && !this.state.major) {\n        Object.assign(educationData, {\n          qualification: this.state.degree\n        });\n      }\n\n      this.props.addEducation(educationData, localStorage.id);\n      console.log(educationData);\n      this.closeModal();\n    }\n  }, {\n    key: \"handleStartDates\",\n    value: function handleStartDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'year') {\n        this.setState({\n          startYear: title\n        });\n      }\n    }\n  }, {\n    key: \"handleEndDates\",\n    value: function handleEndDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'year') {\n        this.setState({\n          endYear: title\n        });\n      }\n    }\n  }, {\n    key: \"setSchool\",\n    value: function setSchool(data) {\n      console.log(data);\n      this.setState({\n        school_id: data.id\n      });\n    }\n  }, {\n    key: \"setMajor\",\n    value: function setMajor(data) {\n      this.setState({\n        major: data.attributes.name\n      });\n    }\n  }, {\n    key: \"setDegree\",\n    value: function setDegree(data) {\n      this.setState({\n        degree: data\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.props.user.length <= 0 ? React.createElement(\"div\", {\n        id: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Loading\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(AddEducationComponent, {\n        user: this.props.user.attributes,\n        id: this.props.user.id,\n        setSchool: this.setSchool,\n        setMajor: this.setMajor,\n        handleDegree: this.setDegree,\n        handleStartDates: this.handleStartDates,\n        handleEndDates: this.handleEndDates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"AddEducation-close-btn\",\n        type: \"button\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"AddEducation-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"addEducation-btn\",\n        type: \"button\",\n        onClick: this.handleAddEducation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Add\"))));\n    }\n  }]);\n\n  return AddEducation;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList,\n    education: state.educationList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(id) {\n      dispatch(_getUser(id));\n    },\n    addEducation: function addEducation(data, id) {\n      dispatch(_addEducation(data, id));\n    },\n    getEducation: function getEducation(id) {\n      dispatch(_getEducation(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEducation);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddEducation/index.js"],"names":["React","Component","connect","getUser","addEducation","getEducation","Dropdown","AddEducationComponent","AddEducation","props","state","educationAddOpen","school_id","major","degree","startYear","endYear","setSchool","bind","setMajor","setDegree","handleStartDates","handleEndDates","handleAddEducation","closeModal","window","scrollTo","localStorage","id","evt","closeEducation","preventDefault","educationData","Object","assign","start_year","end_year","qualification","console","log","title","genderEmoji","emoji","type","setState","data","attributes","name","user","length","mapStateToProps","userList","education","educationList","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    getUser,\n    addEducation,\n    getEducation,\n  } from '../../actions/user.actions';\nimport Dropdown from '../../components/Dropdown';\nimport AddEducationComponent from '../../components/user.addEducation.components';\n\nclass AddEducation extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      educationAddOpen: false,\n      school_id: '',\n      major: '',\n      degree: '',\n      startYear: '',\n      endYear: '',\n\n    };\n    this.setSchool = this.setSchool.bind(this);\n    this.setMajor = this.setMajor.bind(this);\n    this.setDegree = this.setDegree.bind(this);\n    this.handleStartDates = this.handleStartDates.bind(this);\n    this.handleEndDates = this.handleEndDates.bind(this);\n    this.handleAddEducation = this.handleAddEducation.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  componentDidMount() {\n    window.scrollTo(0,0);\n    this.props.getUser(localStorage.id);\n\n  }\n  closeModal (evt) {\n    this.props.closeEducation();\n  }\n  handleAddEducation (evt) {\n    evt.preventDefault();\n    let educationData = {};\n    if(this.state.school_id) {\n      Object.assign(educationData, {school_id: this.state.school_id});\n    }\n    if(this.state.startYear) {\n      Object.assign(educationData, {start_year: this.state.startYear});\n    }\n    if(this.state.endYear) {\n      Object.assign(educationData, {end_year: this.state.endYear});\n    }\n    if(this.state.major && this.state.degree) {\n      Object.assign(educationData, {qualification: this.state.degree + \" in \" + this.state.major});\n    } else if (this.state.major && !this.state.degree) {\n      Object.assign(educationData, {qualification: this.state.major});\n    } else if (this.state.degree && !this.state.major) {\n      Object.assign(educationData, {qualification: this.state.degree});\n    }\n    this.props.addEducation(educationData, localStorage.id);\n    console.log(educationData);\n    this.closeModal();\n  }\n\n  handleStartDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'year') {\n      this.setState({\n        startYear: title\n      });\n    }\n  }\n  handleEndDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'year') {\n      this.setState({\n        endYear: title\n      });\n    }\n  }\n  setSchool (data) {\n    console.log(data);\n    this.setState({\n      school_id: data.id,\n    });\n  }\n  setMajor (data) {\n    this.setState({\n      major: data.attributes.name,\n    });\n  }\n  setDegree (data) {\n    this.setState({\n      degree: data,\n    });\n  }\n  render() {\n    return (\n      <React.Fragment>\n        { this.props.user.length <= 0 ? (\n          <div id=\"loading\">\n            <p className=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n          </div>\n        ) : (\n          <div>\n            <AddEducationComponent\n              user={ this.props.user.attributes }\n              id={ this.props.user.id }\n              setSchool={ this.setSchool }\n              setMajor={ this.setMajor }\n              handleDegree={ this.setDegree }\n              handleStartDates={ this.handleStartDates }\n              handleEndDates={ this.handleEndDates }\n            />\n\n            <button\n                className=\"AddEducation-close-btn\"\n                type=\"button\"\n                onClick={ this.closeModal } >\n                X\n            </button>\n            <div className=\"AddEducation-buttons\">\n              <button\n                className=\"addEducation-btn\"\n                type=\"button\"\n                onClick={this.handleAddEducation} >\n                Add\n              </button>\n            </div>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.userList,\n    education: state.educationList,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (id) => {\n      dispatch(getUser(id));\n    },\n    addEducation: (data, id) => {\n      dispatch(addEducation(data, id))\n    },\n    getEducation: (id) => {\n      dispatch(getEducation(id));\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddEducation);"]},"metadata":{},"sourceType":"module"}