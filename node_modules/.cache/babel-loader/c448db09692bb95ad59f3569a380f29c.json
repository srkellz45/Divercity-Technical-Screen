{"ast":null,"code":"import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\nexport var SEARCH_USERS = 'SEARCH_USERS';\nexport var SEARCH_JOBS = 'SEARCH_JOBS';\nexport var SEARCH_GROUPS = 'SEARCH_GROUPS';\nexport var GET_COMPANIES = 'GET_COMPANIES';\nexport var ERROR = 'ERROR';\nvar searchUserURL = \"\".concat(url, \"users?search_query=\");\nvar searchCompaniesURL = \"\".concat(url, \"job_employers?page[number]=0&page[size]=10&search_query=\");\nvar searchJobsURL = \"\".concat(url, \"jobs?page[number]=0&page[size]=10&search_query=\");\nvar searchGroupsURL = \"\".concat(url, \"group_of_interests?page[number]=0&page[size]=10&search_query=\");\n\nvar headers = function headers() {\n  return {\n    'access-token': localStorage.getItem('access-token'),\n    uid: localStorage.getItem('uid'),\n    client: localStorage.getItem('client'),\n    id: localStorage.getItem('id')\n  };\n};\n\nexport var performSearch = function performSearch(page, query) {\n  return function (dispatch) {\n    Axios.get(searchUserURL + query, {\n      headers: headers()\n    }).then(function (response) {\n      if (response.status === 200) {\n        history.push(\"/results/\" + query);\n        dispatch({\n          type: SEARCH_USERS,\n          results: response.data.data\n        });\n      }\n    }).then(function () {\n      Axios.get(searchJobsURL + query, {\n        headers: headers()\n      });\n    }).then(function (jobs) {\n      return dispatch({\n        type: SEARCH_JOBS,\n        jobs: jobs.data.data\n      });\n    }).then(function () {\n      Axios.get(searchCompaniesURL + query, {\n        headers: headers()\n      });\n    }).then(function (response) {\n      console.log(response.data);\n      dispatch({\n        type: GET_COMPANIES,\n        companies: response.data.data\n      });\n    }).then(function () {\n      Axios.get(searchGroupsURL + query, {\n        headers: headers()\n      });\n    }).then(function (response) {\n      return dispatch({\n        type: SEARCH_GROUPS,\n        results: response.data.data\n      });\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: ERROR,\n        error: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/actions/search.actions.js"],"names":["Axios","url","history","SEARCH_USERS","SEARCH_JOBS","SEARCH_GROUPS","GET_COMPANIES","ERROR","searchUserURL","searchCompaniesURL","searchJobsURL","searchGroupsURL","headers","localStorage","getItem","uid","client","id","performSearch","page","query","dispatch","get","then","response","status","push","type","results","data","jobs","console","log","companies","catch","err","error"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { url } from '../lib/url';\nimport history from '../history';\n\nexport const SEARCH_USERS = 'SEARCH_USERS';\nexport const SEARCH_JOBS = 'SEARCH_JOBS';\nexport const SEARCH_GROUPS = 'SEARCH_GROUPS';\nexport const GET_COMPANIES = 'GET_COMPANIES';\nexport const ERROR = 'ERROR';\n\nconst searchUserURL = `${url}users?search_query=`;\nconst searchCompaniesURL = `${url}job_employers?page[number]=0&page[size]=10&search_query=`;\nconst searchJobsURL = `${url}jobs?page[number]=0&page[size]=10&search_query=`;\nconst searchGroupsURL = `${url}group_of_interests?page[number]=0&page[size]=10&search_query=`;\n\nconst headers = () => ({\n\t'access-token': localStorage.getItem('access-token'),\n\tuid: localStorage.getItem('uid'),\n\tclient: localStorage.getItem('client'),\n\tid: localStorage.getItem('id')\n});\n\nexport const performSearch = (page, query) => dispatch => {\n\tAxios.get(searchUserURL + query, {\n      headers: headers()\n\t})\n    .then(response => {\n\t\tif(response.status === 200) {\n\t\t\thistory.push(`/results/` + query);\n\n\t\t\tdispatch({\n\t\t\t\ttype: SEARCH_USERS,\n\t\t\t\tresults: response.data.data\n\t\t\t});\n\t\t}\n    })\n    .then(() => {\n    \tAxios.get(searchJobsURL + query, {\n\t\t\theaders: headers()\n    \t})\n    })\n    .then(jobs => dispatch({\n\t\ttype: SEARCH_JOBS,\n\t\tjobs: jobs.data.data\n\t}))\n    .then(() => {\n    \tAxios.get(searchCompaniesURL + query, {\n        \theaders: headers()\n    \t})\n    })\n    .then(response => {\n\t\tconsole.log(response.data);\n\n        dispatch({\n          type: GET_COMPANIES,\n          companies: response.data.data\n\t\t});\n    })\n    .then(() => {\n    \tAxios.get(searchGroupsURL + query, {\n        \theaders: headers()\n    \t})\n    })\n    .then(response => dispatch({\n\t\ttype: SEARCH_GROUPS,\n\t\tresults: response.data.data\n\t}))\n    .catch(err => {\n\t\tconsole.log(err);\n\n\t\tdispatch({\n\t\t\ttype: ERROR,\n\t\t\terror: err\n\t\t});\n    });\n};"]},"metadata":{},"sourceType":"module"}