{"ast":null,"code":"import _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/RecruiterHiring/Work/index.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\nimport { ToastContainer, Flip, toast } from \"react-toastify\";\nimport history from '../../../../history';\nimport { getUser as _getUser } from '../../../../actions/user.actions';\nimport { addWork as _addWork } from '../../../../actions/onboard.actions';\nimport TempHeader from '../../../../components/TempHeader.js'; //import Dropdown from '../../../../components/Dropdown.js';\n\nimport CompanySearch from '../../CompanySearch';\nimport USCitiesSearch from '../../../USCitiesSearch';\nimport CitySearch from '../../CitySearch';\nimport Modal from '../../../Modal';\nimport company from '../../../../assets/CurrentCompany.png';\nimport check from '../../../../assets/Checkmark.png';\nimport decline from '../../../../assets/Decline.png';\nimport UploadProfilePhoto from '../../UploadProfilePhoto'; // url/:id/onboarding/work/2\n\nvar RecruiterWork =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RecruiterWork, _Component);\n\n  function RecruiterWork(props) {\n    var _this;\n\n    _classCallCheck(this, RecruiterWork);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecruiterWork).call(this, props));\n    _this.state = {\n      id: _this.props.match.params.id,\n      job_title: '',\n      city: '',\n      job_employer_id: '',\n      companyName: [],\n      skipOpen: false,\n      profilePhotoOpen: true\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCompany = _this.setCompany.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCity = _this.setCity.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openSkipModal = _this.openSkipModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeSkipModal = _this.closeSkipModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.skipFirstTime = _this.skipFirstTime.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(RecruiterWork, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.props.getUser(this.state.id);\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        profilePhotoOpen: false\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(evt) {\n      evt.preventDefault();\n      var profileData = {\n        \"user\": {}\n      };\n\n      if (this.state.job_employer_id) {\n        Object.assign(profileData.user, {\n          job_employer_id: this.state.job_employer_id\n        });\n      }\n\n      if (this.state.city) {\n        Object.assign(profileData.user, {\n          city: this.state.city\n        });\n        this.props.addWork(profileData, this.state.id);\n      } else {\n        toast.error(\"Please fill out the information\", {\n          position: toast.POSITION.TOP_CENTER,\n          hideProgressBar: true\n        });\n      }\n    }\n  }, {\n    key: \"setCompany\",\n    value: function setCompany(data) {\n      if (data === 'None') {\n        this.setState({\n          job_employer_id: null\n        });\n      }\n\n      var companyID = data.id;\n      this.setState({\n        job_employer_id: companyID\n      });\n    }\n  }, {\n    key: \"setCity\",\n    value: function setCity(data) {\n      console.log(data);\n      this.setState({\n        city: data.attributes.name + ', ' + data.attributes.country_name\n      });\n    }\n  }, {\n    key: \"openSkipModal\",\n    value: function openSkipModal(evt) {\n      if (!localStorage.skipped) {\n        // if user has already skipped once,\n        this.setState({\n          // just let them skip without showing the modal\n          skipOpen: true\n        });\n      } else {\n        history.push(\"/\".concat(this.state.id, \"/onboarding/info/2\"));\n      }\n    }\n  }, {\n    key: \"closeSkipModal\",\n    value: function closeSkipModal() {\n      this.setState({\n        skipOpen: false\n      });\n    }\n  }, {\n    key: \"skipFirstTime\",\n    value: function skipFirstTime() {\n      // Show the skip modal only once\n      localStorage.setItem('skipped', true);\n      this.setState({\n        skipOpen: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ok = \"'\";\n      return React.createElement(\"div\", {\n        className: \"CurrentCompany\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(TempHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(ToastContainer, {\n        autoClose: 3000,\n        transition: Flip,\n        hideProgressBar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"onboarding-select-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"work-select-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"onboarding-select-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"What company do you work for currently?\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"onboarding-select-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Tell us on behalf of what company you\", ok, \"ll be posting jobs.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"onboarding-select-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: company,\n        alt: \"onboarding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Location\"), React.createElement(\"div\", {\n        className: \"CitySearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(CitySearch, {\n        setState: this.setCity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"onboarding-select-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Current Company\"), React.createElement(\"div\", {\n        className: \"CompanySearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(CompanySearch, {\n        setState: this.setCompany,\n        defaultValue: \"e.g. Divercity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        \"aria-label\": \"Next\",\n        className: \"onboarding-next-btn\",\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Next\")), React.createElement(\"div\", {\n        className: \"Skip\",\n        onClick: this.openSkipModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Skip and edit info later\")), React.createElement(Modal //////RESUME SKIP MODAL//////////\n      , {\n        show: this.state.skipOpen,\n        onClose: this.closeSkipModal,\n        className: \"Modal-Backdrop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Resume-Skip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: decline,\n        alt: \"decline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"resume-skip-headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Are you sure you want to skip?\", React.createElement(\"div\", {\n        id: \"resume-skip-subline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Divercity helps connect you with the right, like-minded \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), \"candidates using your demographic info. We highly value all \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), \"forms of diversity and this information will not be disseminated.\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        \"aria-label\": \"Back\",\n        className: \"resume-back-btn\",\n        type: \"submit\",\n        onClick: this.closeSkipModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Okay sure. Let's do this!\"), React.createElement(NavLink, {\n        to: \"/\".concat(this.state.id, \"/onboarding/info/2\"),\n        alt: \"ok\",\n        \"aria-label\": \"ok\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        \"aria-label\": \"Skip\",\n        className: \"resume-skip-btn\",\n        type: \"submit\",\n        onClick: this.skipFirstTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"I still want to skip\")))))), React.createElement(\"div\", {\n        className: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/\".concat(this.state.id, \"/onboarding\"),\n        alt: \"Back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Back\")), React.createElement(\"div\", {\n        className: \"progress-dots\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"greydot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        show: this.state.profilePhotoOpen,\n        onClose: this.closeModal,\n        className: \"Modal-Backdrop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(UploadProfilePhoto, {\n        closeModal: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return RecruiterWork;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(ID) {\n      dispatch(_getUser(ID));\n    },\n    addWork: function addWork(data, ID) {\n      dispatch(_addWork(data, ID));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecruiterWork);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/Onboarding/RecruiterHiring/Work/index.js"],"names":["React","Component","NavLink","connect","matchSorter","ToastContainer","Flip","toast","history","getUser","addWork","TempHeader","CompanySearch","USCitiesSearch","CitySearch","Modal","company","check","decline","UploadProfilePhoto","RecruiterWork","props","state","id","match","params","job_title","city","job_employer_id","companyName","skipOpen","profilePhotoOpen","handleSubmit","bind","setCompany","setCity","openSkipModal","closeSkipModal","skipFirstTime","closeModal","window","scrollTo","setState","evt","preventDefault","profileData","Object","assign","user","error","position","POSITION","TOP_CENTER","hideProgressBar","data","companyID","console","log","attributes","name","country_name","localStorage","skipped","push","setItem","ok","mapStateToProps","userList","mapDispatchToProps","dispatch","ID"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,cAAT,EAAyBC,IAAzB,EAA+BC,KAA/B,QAA4C,gBAA5C;AAEA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,SAASC,OAAO,IAAPA,QAAT,QAAwB,kCAAxB;AACA,SAASC,OAAO,IAAPA,QAAT,QAAwB,qCAAxB;AACA,OAAOC,UAAP,MAAuB,sCAAvB,C,CACA;;AAEA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,OAAP,MAAoB,uCAApB;AACA,OAAOC,KAAP,MAAkB,kCAAlB;AACA,OAAOC,OAAP,MAAoB,gCAApB;AACA,OAAOC,kBAAP,MAA+B,0BAA/B,C,CACA;;IAEMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,uFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,EAAE,EAAE,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBF,EADjB;AAEXG,MAAAA,SAAS,EAAE,EAFA;AAGXC,MAAAA,IAAI,EAAE,EAHK;AAIXC,MAAAA,eAAe,EAAE,EAJN;AAKXC,MAAAA,WAAW,EAAE,EALF;AAMXC,MAAAA,QAAQ,EAAE,KANC;AAOXC,MAAAA,gBAAgB,EAAE;AAPP,KAAb;AASA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAlB;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,uDAAf;AACA,UAAKG,aAAL,GAAqB,MAAKA,aAAL,CAAmBH,IAAnB,uDAArB;AACA,UAAKI,cAAL,GAAsB,MAAKA,cAAL,CAAoBJ,IAApB,uDAAtB;AACA,UAAKK,aAAL,GAAqB,MAAKA,aAAL,CAAmBL,IAAnB,uDAArB;AACA,UAAKM,UAAL,GAAkB,MAAKA,UAAL,CAAgBN,IAAhB,uDAAlB;AAjBgB;AAkBjB;;;;wCACkB;AACjBO,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,WAAKpB,KAAL,CAAWZ,OAAX,CAAmB,KAAKa,KAAL,CAAWC,EAA9B;AACD;;;iCACa;AACZ,WAAKmB,QAAL,CAAc;AACZX,QAAAA,gBAAgB,EAAE;AADN,OAAd;AAGD;;;iCACYY,G,EAAK;AAChBA,MAAAA,GAAG,CAACC,cAAJ;AACA,UAAIC,WAAW,GAAG;AAAE,gBAAQ;AAAV,OAAlB;;AACA,UAAG,KAAKvB,KAAL,CAAWM,eAAd,EAA+B;AAC7BkB,QAAAA,MAAM,CAACC,MAAP,CAAcF,WAAW,CAACG,IAA1B,EAAgC;AAACpB,UAAAA,eAAe,EAAE,KAAKN,KAAL,CAAWM;AAA7B,SAAhC;AACD;;AACD,UAAG,KAAKN,KAAL,CAAWK,IAAd,EAAoB;AAClBmB,QAAAA,MAAM,CAACC,MAAP,CAAcF,WAAW,CAACG,IAA1B,EAAgC;AAACrB,UAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWK;AAAlB,SAAhC;AAEA,aAAKN,KAAL,CAAWX,OAAX,CAAmBmC,WAAnB,EAAgC,KAAKvB,KAAL,CAAWC,EAA3C;AACD,OAJD,MAIO;AACLhB,QAAAA,KAAK,CAAC0C,KAAN,oCAA+C;AAC7CC,UAAAA,QAAQ,EAAE3C,KAAK,CAAC4C,QAAN,CAAeC,UADoB;AAE7CC,UAAAA,eAAe,EAAE;AAF4B,SAA/C;AAID;AACF;;;+BACUC,I,EAAM;AACf,UAAGA,IAAI,KAAK,MAAZ,EAAoB;AAClB,aAAKZ,QAAL,CAAc;AACZd,UAAAA,eAAe,EAAE;AADL,SAAd;AAGD;;AACD,UAAI2B,SAAS,GAAGD,IAAI,CAAC/B,EAArB;AACA,WAAKmB,QAAL,CAAc;AACZd,QAAAA,eAAe,EAAE2B;AADL,OAAd;AAGD;;;4BACOD,I,EAAM;AACZE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,WAAKZ,QAAL,CAAc;AACZf,QAAAA,IAAI,EAAE2B,IAAI,CAACI,UAAL,CAAgBC,IAAhB,GAAuB,IAAvB,GAA8BL,IAAI,CAACI,UAAL,CAAgBE;AADxC,OAAd;AAGD;;;kCACcjB,G,EAAK;AAClB,UAAG,CAACkB,YAAY,CAACC,OAAjB,EAA0B;AAAE;AAC1B,aAAKpB,QAAL,CAAc;AAAE;AACdZ,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGD,OAJD,MAIO;AACLtB,QAAAA,OAAO,CAACuD,IAAR,YAAiB,KAAKzC,KAAL,CAAWC,EAA5B;AACD;AACF;;;qCACiB;AAChB,WAAKmB,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD;;;oCACgB;AAAE;AACjB+B,MAAAA,YAAY,CAACG,OAAb,CAAqB,SAArB,EAAgC,IAAhC;AACA,WAAKtB,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD;;;6BAEQ;AACP,UAAImC,EAAE,GAAG,GAAT;AACA,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,cAAD;AAAgB,QAAA,SAAS,EAAE,IAA3B;AAAiC,QAAA,UAAU,EAAE3D,IAA7C;AAAmD,QAAA,eAAe,EAAE,IAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDACyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADzC,EAEE;AAAK,QAAA,EAAE,EAAC,2BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDACwC2D,EADxC,yBAC8D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD9D,CAFF,CADF,EAOE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAGjD,OAAX;AAAqB,QAAA,GAAG,EAAC,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAPF,EAUE;AAAK,QAAA,EAAE,EAAC,yBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,EAaE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACC,QAAA,QAAQ,EAAE,KAAKmB,OADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAbF,EAmBE;AAAK,QAAA,EAAE,EAAC,yBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAnBF,EAsBE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AACE,QAAA,QAAQ,EAAE,KAAKD,UADjB;AAEE,QAAA,YAAY,EAAC,gBAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAtBF,EA6BE;AACE,sBAAW,MADb;AAEE,QAAA,SAAS,EAAC,qBAFZ;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,OAAO,EAAE,KAAKF,YAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CA7BF,EAoCE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,OAAO,EAAE,KAAKI,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCApCF,CADF,EAyCI,oBAAC,KAAD,CAAS;AAAT;AACE,QAAA,IAAI,EAAE,KAAKd,KAAL,CAAWQ,QADnB;AAEE,QAAA,OAAO,EAAE,KAAKO,cAFhB;AAGE,QAAA,SAAS,EAAC,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAEnB,OAAV;AAAmB,QAAA,GAAG,EAAC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,EAAE,EAAC,sBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEC;AAAK,QAAA,EAAE,EAAC,qBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEACyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADzD,kEAE6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAF7D,sEAFD,CAFD,EAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AACE,sBAAW,MADb;AAEE,QAAA,SAAS,EAAC,iBAFZ;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,OAAO,EAAE,KAAKmB,cAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADA,EAUA,oBAAC,OAAD;AAAS,QAAA,EAAE,aAAM,KAAKf,KAAL,CAAWC,EAAjB,uBAAX;AAAoD,QAAA,GAAG,EAAC,IAAxD;AAA6D,sBAAW,IAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,sBAAW,MADb;AAEE,QAAA,SAAS,EAAC,iBAFZ;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,OAAO,EAAE,KAAKe,aAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CAVA,CAVA,CALA,CAzCJ,CAHF,EAmFM;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,EAAE,aAAM,KAAKhB,KAAL,CAAWC,EAAjB,gBAAX;AAA6C,QAAA,GAAG,EAAC,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAnFN,EAwFE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAxFF,EA8FE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAE,KAAKD,KAAL,CAAWS,gBADnB;AAEE,QAAA,OAAO,EAAE,KAAKQ,UAFhB;AAGE,QAAA,SAAS,EAAC,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,oBAAC,kBAAD;AACE,QAAA,UAAU,EAAE,KAAKA,UADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CA9FF,CADF;AA0GD;;;;EAhMyBtC,S;;AAoM5B,IAAMiE,eAAe,GAAG,SAAlBA,eAAkB,CAAC5C,KAAD,EAAW;AACjC,SAAO;AACL0B,IAAAA,IAAI,EAAG1B,KAAK,CAAC6C;AADR,GAAP;AAGD,CAJD;;AAMA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACL5D,IAAAA,OAAO,EAAE,iBAAC6D,EAAD,EAAQ;AACfD,MAAAA,QAAQ,CAAC5D,QAAO,CAAC6D,EAAD,CAAR,CAAR;AACD,KAHI;AAIL5D,IAAAA,OAAO,EAAE,iBAAC4C,IAAD,EAAOgB,EAAP,EAAc;AACrBD,MAAAA,QAAQ,CAAC3D,QAAO,CAAC4C,IAAD,EAAOgB,EAAP,CAAR,CAAR;AACD;AANI,GAAP;AAQD,CATD;;AAYA,eAAenE,OAAO,CACpB+D,eADoB,EAEpBE,kBAFoB,CAAP,CAGbhD,aAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport matchSorter from 'match-sorter';\nimport { ToastContainer, Flip, toast } from \"react-toastify\";\n\nimport history from '../../../../history';\n\nimport { getUser } from '../../../../actions/user.actions';\nimport { addWork } from '../../../../actions/onboard.actions';\nimport TempHeader from '../../../../components/TempHeader.js';\n//import Dropdown from '../../../../components/Dropdown.js';\n\nimport CompanySearch from '../../CompanySearch';\nimport USCitiesSearch from '../../../USCitiesSearch';\nimport CitySearch from '../../CitySearch';\nimport Modal from '../../../Modal';\nimport company from '../../../../assets/CurrentCompany.png';\nimport check from '../../../../assets/Checkmark.png';\nimport decline from '../../../../assets/Decline.png';\nimport UploadProfilePhoto from '../../UploadProfilePhoto';\n// url/:id/onboarding/work/2\n\nclass RecruiterWork extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      job_title: '',\n      city: '',\n      job_employer_id: '',\n      companyName: [],\n      skipOpen: false,\n      profilePhotoOpen: true,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.setCity = this.setCity.bind(this);\n    this.openSkipModal = this.openSkipModal.bind(this);\n    this.closeSkipModal = this.closeSkipModal.bind(this);\n    this.skipFirstTime = this.skipFirstTime.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  componentDidMount(){\n    window.scrollTo(0,0);\n    this.props.getUser(this.state.id);\n  }\n  closeModal () {\n    this.setState({\n      profilePhotoOpen: false\n    });\n  }\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let profileData = { \"user\": { } };\n    if(this.state.job_employer_id) {\n      Object.assign(profileData.user, {job_employer_id: this.state.job_employer_id});\n    }\n    if(this.state.city) {\n      Object.assign(profileData.user, {city: this.state.city});\n\n      this.props.addWork(profileData, this.state.id);\n    } else {\n      toast.error(`Please fill out the information`, {\n        position: toast.POSITION.TOP_CENTER,\n        hideProgressBar: true,\n      });\n    }\n  }\n  setCompany(data) {\n    if(data === 'None') {\n      this.setState({\n        job_employer_id: null\n      });\n    }\n    let companyID = data.id;\n    this.setState({\n      job_employer_id: companyID\n    });\n  }\n  setCity(data) {\n    console.log(data);\n    this.setState({\n      city: data.attributes.name + ', ' + data.attributes.country_name\n    });\n  }\n  openSkipModal (evt) {\n    if(!localStorage.skipped) { // if user has already skipped once,\n      this.setState({ // just let them skip without showing the modal\n        skipOpen: true,\n      });\n    } else {\n      history.push(`/${this.state.id}/onboarding/info/2`);\n    }\n  }\n  closeSkipModal () {\n    this.setState({\n      skipOpen: false,\n    });\n  }\n  skipFirstTime () { // Show the skip modal only once\n    localStorage.setItem('skipped', true);\n    this.setState({\n      skipOpen: false\n    });\n  }\n\n  render() {\n    let ok = \"'\";\n    return (\n      <div className=\"CurrentCompany\">\n        <TempHeader />\n        <ToastContainer autoClose={3000} transition={Flip} hideProgressBar={true} />\n        <div className=\"onboarding-select-form\">\n          <div className=\"work-select-body\">\n            <div className=\"onboarding-select-headline\">\n              What company do you work for currently?<br />\n              <div id=\"onboarding-select-subline\">\n                Tell us on behalf of what company you{ok}ll be posting jobs.<br />\n              </div>\n            </div>\n            <div className=\"onboarding-select-image\">\n              <img src={ company } alt=\"onboarding\" />\n            </div>\n            <div id=\"onboarding-select-title\">\n              Location\n            </div>\n            <div className=\"CitySearch\">\n              <CitySearch\n               setState={this.setCity}\n\n              />\n            </div>\n            <div id=\"onboarding-select-title\">\n              Current Company\n            </div>\n            <div className=\"CompanySearch\">\n              <CompanySearch\n                setState={this.setCompany}\n                defaultValue=\"e.g. Divercity\"\n              />\n            </div>\n\n            <button\n              aria-label=\"Next\"\n              className=\"onboarding-next-btn\"\n              type=\"submit\"\n              onClick={this.handleSubmit}>\n              <strong>Next</strong>\n            </button>\n            <div className=\"Skip\" onClick={this.openSkipModal}>\n              Skip and edit info later\n            </div>\n          </div>\n            <Modal   //////RESUME SKIP MODAL//////////\n              show={this.state.skipOpen}\n              onClose={this.closeSkipModal}\n              className=\"Modal-Backdrop\"\n            >\n            <div className=\"Resume-Skip\">\n             <img src={decline} alt=\"decline\" />\n             <div id=\"resume-skip-headline\">\n              Are you sure you want to skip?\n              <div id=\"resume-skip-subline\">\n               Divercity helps connect you with the right, like-minded <br />\n               candidates using your demographic info. We highly value all <br />\n               forms of diversity and this information will not be disseminated.\n              </div>\n            </div>\n            <div>\n            <button\n              aria-label=\"Back\"\n              className=\"resume-back-btn\"\n              type=\"submit\"\n              onClick={this.closeSkipModal}\n            >\n              Okay sure. Let's do this!\n            </button>\n\n            <NavLink to={`/${this.state.id}/onboarding/info/2`} alt=\"ok\" aria-label=\"ok\">\n              <button\n                aria-label=\"Skip\"\n                className=\"resume-skip-btn\"\n                type=\"submit\"\n                onClick={this.skipFirstTime}\n              >\n                I still want to skip\n              </button>\n             </NavLink>\n               </div>\n              </div>\n            </Modal>\n        </div>\n            <div className=\"Back\">\n              <NavLink to={`/${this.state.id}/onboarding`} alt=\"Back\">\n                Back\n              </NavLink>\n            </div>\n        <div className=\"progress-dots\">\n          <span className=\"dot\"></span>\n          <span className=\"greydot\"></span>\n          <span className=\"dot\"></span>\n          <span className=\"dot\"></span>\n        </div>\n        <Modal\n          show={this.state.profilePhotoOpen}\n          onClose={this.closeModal}\n          className=\"Modal-Backdrop\"\n        >\n          <UploadProfilePhoto\n            closeModal={this.closeModal}\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user : state.userList,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (ID) => {\n      dispatch(getUser(ID))\n    },\n    addWork: (data, ID) => {\n      dispatch(addWork(data, ID))\n    },\n  }\n}\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RecruiterWork);\n"]},"metadata":{},"sourceType":"module"}