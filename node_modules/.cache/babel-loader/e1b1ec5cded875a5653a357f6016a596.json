{"ast":null,"code":"import _defineProperty from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddExperience/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getExperience as _getExperience, getUser as _getUser, addExperience as _addExperience, addSkills } from '../../actions/user.actions';\nimport Dropdown from '../../components/Dropdown';\nimport CitySearch from '../Onboarding/CitySearch';\nimport CompanySearch from '../Onboarding/CompanySearch';\nimport { dateOfBirthMonth, workYear } from '../../lib/selectListData';\nimport AddExperienceComponent from '../../components/user.addExperience.components';\n\nvar AddExperience =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddExperience, _Component);\n\n  function AddExperience(props) {\n    var _this;\n\n    _classCallCheck(this, AddExperience);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddExperience).call(this, props));\n    _this.state = {\n      experienceAddOpen: false,\n      is_present: false,\n      role: '',\n      job_employer_id: '',\n      location: '',\n      job_start: '',\n      job_end: '',\n      startMonth: '',\n      startYear: '',\n      endMonth: '',\n      endYear: ''\n    };\n    _this.handleRole = _this.handleRole.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStartDates = _this.handleStartDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEndDates = _this.handleEndDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCompany = _this.setCompany.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCity = _this.setCity.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddExperience = _this.handleAddExperience.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCheck = _this.handleCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddExperience, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0); //this.props.getExperience(localStorage.id);\n\n      this.props.getUser(localStorage.id);\n    }\n  }, {\n    key: \"openAddExperience\",\n    value: function openAddExperience(evt) {\n      evt.preventDefault();\n      this.setState({\n        experienceAddOpen: true\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal(evt) {\n      this.props.closeExperience();\n    }\n  }, {\n    key: \"handleAddExperience\",\n    value: function handleAddExperience(evt) {\n      evt.preventDefault();\n      var experienceData = {};\n\n      if (this.state.role) {\n        Object.assign(experienceData, {\n          role: this.state.role\n        });\n      }\n\n      if (this.state.job_employer_id) {\n        Object.assign(experienceData, {\n          job_employer_id: this.state.job_employer_id\n        });\n      }\n\n      if (this.state.location) {\n        Object.assign(experienceData, {\n          location_words: this.state.location\n        });\n      }\n\n      if (this.state.startMonth && this.state.startYear) {\n        Object.assign(experienceData, {\n          job_start: this.state.startMonth + \", \" + this.state.startYear\n        });\n      } else if (this.state.startMonth && !this.state.startYear) {\n        Object.assign(experienceData, {\n          job_start: this.state.startMonth\n        });\n      } else if (this.state.startYear && !this.state.startMonth) {\n        Object.assign(experienceData, {\n          job_start: this.state.startYear\n        });\n      }\n\n      if (this.state.endMonth && this.state.endYear) {\n        Object.assign(experienceData, {\n          job_end: this.state.endMonth + \", \" + this.state.endYear\n        });\n      } else if (this.state.endMonth && !this.state.endYear) {\n        Object.assign(experienceData, {\n          job_end: this.state.endMonth\n        });\n      } else if (this.state.endYear && !this.state.endMonth) {\n        Object.assign(experienceData, {\n          job_end: this.state.endYear\n        });\n      }\n\n      if (this.state.is_present) {\n        Object.assign(experienceData, {\n          is_present: this.state.is_present,\n          job_end: 'present'\n        });\n      } else {\n        Object.assign(experienceData, {\n          is_present: false\n        });\n      }\n\n      console.log(experienceData);\n      this.props.addExperience(experienceData, localStorage.id);\n      this.closeModal();\n    }\n  }, {\n    key: \"handleStartDates\",\n    value: function handleStartDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'month') {\n        this.setState({\n          startMonth: title\n        });\n      }\n\n      if (type === 'year') {\n        this.setState({\n          startYear: title\n        });\n      }\n    }\n  }, {\n    key: \"handleEndDates\",\n    value: function handleEndDates(title, genderEmoji, emoji, id, type) {\n      if (type === 'month') {\n        this.setState({\n          endMonth: title\n        });\n      }\n\n      if (type === 'year') {\n        this.setState({\n          endYear: title\n        });\n      }\n\n      this.setState({\n        job_end: this.state.endMonth + \", \" + this.state.endYear\n      });\n    }\n  }, {\n    key: \"handleRole\",\n    value: function handleRole(evt) {\n      evt.preventDefault();\n      this.setState({\n        role: evt.target.value\n      });\n    }\n  }, {\n    key: \"setCompany\",\n    value: function setCompany(data) {\n      var companyID = data.id;\n      this.setState({\n        job_employer_id: companyID\n      });\n    }\n  }, {\n    key: \"setCity\",\n    value: function setCity(data) {\n      var city = data.city + ', ' + data.state;\n      this.setState({\n        location: city\n      });\n    }\n  }, {\n    key: \"handleCheck\",\n    value: function handleCheck(evt) {\n      var target = evt.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.props.user.length <= 0 ? React.createElement(\"div\", {\n        id: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Loading\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \".\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(AddExperienceComponent, {\n        user: this.props.user.attributes,\n        id: this.props.user.id,\n        handleTitle: this.handleRole,\n        handleCheck: this.handleCheck,\n        handleStartDates: this.handleStartDates,\n        handleEndDates: this.handleEndDates,\n        setCompany: this.setCompany,\n        setCity: this.setCity,\n        isChecked: this.state.is_present,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"AddExperience-close-btn\",\n        type: \"button\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"AddExperience-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"removeExperience-btn\",\n        type: \"button\",\n        onClick: this.handleDeleteExperience,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Remove\"), React.createElement(\"button\", {\n        className: \"addExperience-btn\",\n        type: \"button\",\n        onClick: this.handleAddExperience,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return AddExperience;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.userList,\n    experience: state.experienceList,\n    modal: state.modal\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser(id) {\n      dispatch(_getUser(id));\n    },\n    getExperience: function getExperience(id) {\n      dispatch(_getExperience(id));\n    },\n    addExperience: function addExperience(data, id) {\n      dispatch(_addExperience(data, id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddExperience);","map":{"version":3,"sources":["/Users/seanromero/Documents/web-projects/personal-projects/divercity-coding-challenge/divercity/src/containers/AddExperience/index.js"],"names":["React","Component","connect","getExperience","getUser","addExperience","addSkills","Dropdown","CitySearch","CompanySearch","dateOfBirthMonth","workYear","AddExperienceComponent","AddExperience","props","state","experienceAddOpen","is_present","role","job_employer_id","location","job_start","job_end","startMonth","startYear","endMonth","endYear","handleRole","bind","handleStartDates","handleEndDates","setCompany","setCity","handleAddExperience","handleCheck","closeModal","window","scrollTo","localStorage","id","evt","preventDefault","setState","closeExperience","experienceData","Object","assign","location_words","console","log","title","genderEmoji","emoji","type","target","value","data","companyID","city","checked","name","user","length","attributes","handleDeleteExperience","mapStateToProps","userList","experience","experienceList","modal","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n    getExperience,\n    getUser,\n    addExperience,\n    addSkills\n  } from '../../actions/user.actions';\nimport Dropdown from '../../components/Dropdown';\nimport CitySearch from '../Onboarding/CitySearch';\nimport CompanySearch from '../Onboarding/CompanySearch';\nimport { dateOfBirthMonth, workYear } from '../../lib/selectListData';\nimport AddExperienceComponent from '../../components/user.addExperience.components';\n\nclass AddExperience extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      experienceAddOpen: false,\n      is_present: false,\n      role: '',\n      job_employer_id: '',\n      location: '',\n      job_start: '',\n      job_end: '',\n      startMonth: '',\n      startYear: '',\n      endMonth: '',\n      endYear: '',\n\n    };\n    this.handleRole = this.handleRole.bind(this);\n    this.handleStartDates = this.handleStartDates.bind(this);\n    this.handleEndDates = this.handleEndDates.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.setCity = this.setCity.bind(this);\n    this.handleAddExperience = this.handleAddExperience.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  componentDidMount() {\n    window.scrollTo(0,0);\n    //this.props.getExperience(localStorage.id);\n    this.props.getUser(localStorage.id);\n\n  }\n  openAddExperience (evt) {\n    evt.preventDefault();\n    this.setState({\n      experienceAddOpen: true,\n    });\n  }\n  closeModal (evt) {\n    this.props.closeExperience();\n  }\n  handleAddExperience (evt) {\n    evt.preventDefault();\n    let experienceData = {};\n    if(this.state.role) {\n      Object.assign(experienceData, {role: this.state.role});\n    }\n    if(this.state.job_employer_id) {\n      Object.assign(experienceData, {job_employer_id: this.state.job_employer_id});\n    }\n    if(this.state.location) {\n      Object.assign(experienceData, {location_words: this.state.location});\n    }\n    if(this.state.startMonth && this.state.startYear) {\n      Object.assign(experienceData, {job_start: this.state.startMonth + \", \" + this.state.startYear});\n    } else if (this.state.startMonth && !this.state.startYear) {\n      Object.assign(experienceData, {job_start: this.state.startMonth});\n    } else if (this.state.startYear && !this.state.startMonth) {\n      Object.assign(experienceData, {job_start: this.state.startYear});\n    }\n    if(this.state.endMonth && this.state.endYear) {\n      Object.assign(experienceData, {job_end: this.state.endMonth + \", \" + this.state.endYear});\n    } else if (this.state.endMonth && !this.state.endYear) {\n      Object.assign(experienceData, {job_end: this.state.endMonth});\n    } else if (this.state.endYear && !this.state.endMonth) {\n      Object.assign(experienceData, {job_end: this.state.endYear});\n    }\n    if(this.state.is_present) {\n      Object.assign(experienceData, {is_present: this.state.is_present, job_end: 'present'});\n    } else { Object.assign(experienceData, {is_present: false }); }\n    console.log(experienceData);\n    this.props.addExperience(experienceData, localStorage.id);\n    this.closeModal();\n  }\n\n  handleStartDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'month') {\n      this.setState({\n        startMonth: title\n      });\n    }\n    if(type === 'year') {\n      this.setState({\n        startYear: title\n      });\n    }\n  }\n  handleEndDates (title, genderEmoji, emoji, id, type) {\n    if(type === 'month') {\n      this.setState({\n        endMonth: title\n      });\n    }\n    if(type === 'year') {\n      this.setState({\n        endYear: title\n      });\n    }\n    this.setState({\n      job_end: this.state.endMonth + \", \" + this.state.endYear,\n    });\n  }\n  handleRole (evt) {\n    evt.preventDefault();\n    this.setState({\n      role: evt.target.value,\n    });\n  }\n  setCompany(data) {\n    let companyID = data.id;\n    this.setState({\n      job_employer_id: companyID\n    });\n  }\n  setCity(data) {\n    let city = data.city + ', ' + data.state;\n    this.setState({\n      location: city\n    });\n  }\n  handleCheck(evt) {\n    const target = evt.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  render() {\n    return (\n      <React.Fragment>\n        { this.props.user.length <= 0 ? (\n          <div id=\"loading\">\n            <p className=\"loading\">Loading<span>.</span><span>.</span><span>.</span></p>\n          </div>\n        ) : (\n          <div>\n            <AddExperienceComponent\n              user={ this.props.user.attributes }\n              id={ this.props.user.id }\n              handleTitle={ this.handleRole }\n              handleCheck={ this.handleCheck }\n              handleStartDates={ this.handleStartDates }\n              handleEndDates={ this.handleEndDates }\n              setCompany={this.setCompany}\n              setCity={this.setCity}\n              isChecked={this.state.is_present}\n            />\n\n            <button\n                className=\"AddExperience-close-btn\"\n                type=\"button\"\n                onClick={ this.closeModal } >\n                X\n            </button>\n            <div className=\"AddExperience-buttons\">\n              <button\n                className=\"removeExperience-btn\"\n                type=\"button\"\n                onClick={this.handleDeleteExperience} >\n                Remove\n              </button>\n\n              <button\n                className=\"addExperience-btn\"\n                type=\"button\"\n                onClick={this.handleAddExperience} >\n                Save\n              </button>\n            </div>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.userList,\n    experience: state.experienceList,\n    modal: state.modal,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUser: (id) => {\n      dispatch(getUser(id));\n    },\n    getExperience: (id) => {\n      dispatch(getExperience(id));\n    },\n    addExperience: (data, id) => {\n      dispatch(addExperience(data, id))\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddExperience);"]},"metadata":{},"sourceType":"module"}